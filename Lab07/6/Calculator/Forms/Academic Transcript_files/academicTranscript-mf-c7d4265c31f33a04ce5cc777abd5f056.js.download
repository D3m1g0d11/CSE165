//# sourceMappingURL=academicTranscript-mf.js.map
!function(){function e(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function l(a,c){return c>a?-1:a>c?1:a>=c?0:NaN}function q(a){return null===a?NaN:+a}function k(a){return!isNaN(a)}function d(a){return{left:function(c,f,g,m){3>arguments.length&&(g=0);for(4>arguments.length&&(m=c.length);m>g;){var n=g+m>>>1;0>a(c[n],f)?g=n+1:m=n}return g},right:function(c,f,g,m){3>arguments.length&&(g=0);for(4>arguments.length&&(m=c.length);m>g;){var n=g+m>>>1;0<a(c[n],
f)?m=n:g=n+1}return g}}}function p(a){return a.length}function h(a,c){for(var f in c)Object.defineProperty(a.prototype,f,{value:c[f],enumerable:!1})}function v(){this._=Object.create(null)}function b(a){return(a+="")===yg||a[0]===Vc?Vc+a:a}function t(a){return(a+="")[0]===Vc?a.slice(1):a}function y(a){return b(a)in this._}function z(a){return(a=b(a))in this._&&delete this._[a]}function I(){var a=[],c;for(c in this._)a.push(t(c));return a}function w(){var a=0,c;for(c in this._)++a;return a}function D(){for(var a in this._)return!1;
return!0}function C(){this._=Object.create(null)}function A(a){return a}function N(a,c,f){return function(){var g=f.apply(c,arguments);return g===c?a:g}}function r(a,c){if(c in a)return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(var f=0,g=ge.length;g>f;++f){var m=ge[f]+c;if(m in a)return m}}function H(){}function G(){}function L(a){function c(){for(var c,g=f,B=-1,x=g.length;++B<x;)(c=g[B].on)&&c.apply(this,arguments);return a}var f=[],g=new v;return c.on=function(c,n){var B,x=g.get(c);return 2>
arguments.length?x&&x.on:(x&&(x.on=null,f=f.slice(0,B=f.indexOf(x)).concat(f.slice(B+1)),g.remove(c)),n&&f.push(g.set(c,{on:n})),a)},c}function W(){u.event.preventDefault()}function T(){for(var a,c=u.event;a=c.sourceEvent;)c=a;return c}function ba(a){for(var c=new G,f=0,g=arguments.length;++f<g;)c[arguments[f]]=L(c);return c.of=function(f,g){return function(B){try{var x=B.sourceEvent=u.event;B.target=a;u.event=B;c[B.type].apply(f,g)}finally{u.event=x}}},c}function F(a){return Wb(a,Y),a}function U(a){return"function"==
typeof a?a:function(){return Wc(a,this)}}function O(a){return"function"==typeof a?a:function(){return Xc(a,this)}}function P(a,c){function f(){this.removeAttribute(a)}function g(){this.removeAttributeNS(a.space,a.local)}function m(){this.setAttribute(a,c)}function n(){this.setAttributeNS(a.space,a.local,c)}function B(){var f=c.apply(this,arguments);null==f?this.removeAttribute(a):this.setAttribute(a,f)}function x(){var f=c.apply(this,arguments);null==f?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,
a.local,f)}return a=u.ns.qualify(a),null==c?a.local?g:f:"function"==typeof c?a.local?x:B:a.local?n:m}function na(a){return new RegExp("(?:^|\\s+)"+u.requote(a)+"(?:\\s+|$)","g")}function Ca(a,c){function f(){for(var f=-1;++f<m;)a[f](this,c)}function g(){for(var f=-1,g=c.apply(this,arguments);++f<m;)a[f](this,g)}a=(a+"").trim().split(/^|\s+/).map(xa);var m=a.length;return"function"==typeof c?g:f}function xa(a){var c=na(a);return function(f,g){if(m=f.classList)return g?m.add(a):m.remove(a);var m=f.getAttribute("class")||
"";g?(c.lastIndex=0,c.test(m)||f.setAttribute("class",(m+" "+a).trim().replace(/\s+/g," "))):f.setAttribute("class",m.replace(c," ").trim().replace(/\s+/g," "))}}function oa(a,c,f){function g(){this.style.removeProperty(a)}function m(){this.style.setProperty(a,c,f)}function n(){var g=c.apply(this,arguments);null==g?this.style.removeProperty(a):this.style.setProperty(a,g,f)}return null==c?g:"function"==typeof c?n:m}function va(a,c){function f(){delete this[a]}function g(){this[a]=c}function m(){var f=
c.apply(this,arguments);null==f?delete this[a]:this[a]=f}return null==c?f:"function"==typeof c?m:g}function sa(a){function c(){var c=this.ownerDocument,f=this.namespaceURI;return f===Yc&&c.documentElement.namespaceURI===Yc?c.createElement(a):c.createElementNS(f,a)}function f(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=u.ns.qualify(a)).local?f:c}function ta(){var a=this.parentNode;a&&a.removeChild(this)}function ga(a){return function(){return Zc(this,
a)}}function ka(a){return arguments.length||(a=l),function(c,f){return c&&f?a(c.__data__,f.__data__):!c-!f}}function Z(a,c){for(var f=0,g=a.length;g>f;f++)for(var m,n=a[f],B=0,x=n.length;x>B;B++)(m=n[B])&&c(m,B,f);return a}function za(a){return Wb(a,Va),a}function pa(a){var c,f;return function(g,m,n){g=a[n].update;var B=g.length;n!=f&&(f=n,c=0);for(m>=c&&(c=m+1);!(m=g[c])&&++c<B;);return m}}function X(a,c,f){function g(){var c=this[B];c&&(this.removeEventListener(a,c,c.$),delete this[B])}function m(){var n=
J(c,Sa(arguments));g.call(this);this.addEventListener(a,this[B]=n,n.$=f);n._=c}function n(){var c,f=new RegExp("^__on([^.]+)"+u.requote(a)+"$"),g;for(g in this)if(c=g.match(f)){var n=this[g];this.removeEventListener(c[1],n,n.$);delete this[g]}}var B="__on"+a,x=a.indexOf("."),J=ia;0<x&&(a=a.slice(0,x));var ca=$c.get(a);return ca&&(a=ca,J=da),x?c?m:g:c?H:n}function ia(a,c){return function(f){var g=u.event;u.event=f;c[0]=this.__data__;try{a.apply(this,c)}finally{u.event=g}}}function da(a,c){var f=ia(a,
c);return function(a){var c=a.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||f.call(this,a)}}function E(a){var c=".dragsuppress-"+ ++zg,f="click"+c,g=u.select(e(a)).on("touchmove"+c,W).on("dragstart"+c,W).on("selectstart"+c,W);if(null==hb&&(hb="onselectstart"in a?!1:r(a.style,"userSelect")),hb){var m=(a&&(a.ownerDocument||a.document||a).documentElement).style,n=m[hb];m[hb]="none"}return function(a){if(g.on(c,null),hb&&(m[hb]=n),a){var x=function(){g.on(f,null)};g.on(f,function(){W();
x()},!0);setTimeout(x,0)}}}function V(a,c){c.changedTouches&&(c=c.changedTouches[0]);var f=a.ownerSVGElement||a;if(f.createSVGPoint){var g=f.createSVGPoint();if(0>ad&&(f=e(a),f.scrollX||f.scrollY)){var f=u.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),m=f[0][0].getScreenCTM();ad=!(m.f||m.e);f.remove()}return ad?(g.x=c.pageX,g.y=c.pageY):(g.x=c.clientX,g.y=c.clientY),g=g.matrixTransform(a.getScreenCTM().inverse()),[g.x,g.y]}g=a.getBoundingClientRect();
return[c.clientX-g.left-a.clientLeft,c.clientY-g.top-a.clientTop]}function Oa(){return u.event.changedTouches[0].identifier}function ya(a,c,f){return(c[0]-a[0])*(f[1]-a[1])-(c[1]-a[1])*(f[0]-a[0])}function ea(a){return 1<a?0:-1>a?Q:Math.acos(a)}function ha(a){return 1<a?qa:-1>a?-qa:Math.asin(a)}function Ia(a){return((a=Math.exp(a))+1/a)/2}function Ga(a){return(a=Math.sin(a/2))*a}function la(){}function aa(a,c,f){return this instanceof aa?(this.h=+a,this.s=+c,void(this.l=+f)):2>arguments.length?a instanceof
aa?new aa(a.h,a.s,a.l):he(""+a,ie,aa):new aa(a,c,f)}function $a(a,c,f){function g(a){return 360<a?a-=360:0>a&&(a+=360),60>a?m+(n-m)*a/60:180>a?n:240>a?m+(n-m)*(240-a)/60:m}var m,n;return a=isNaN(a)?0:0>(a%=360)?a+360:a,c=isNaN(c)?0:0>c?0:1<c?1:c,f=0>f?0:1<f?1:f,n=.5>=f?f*(1+c):f+c-f*c,m=2*f-n,new Ea(Math.round(255*g(a+120)),Math.round(255*g(a)),Math.round(255*g(a-120)))}function Ha(a,c,f){return this instanceof Ha?(this.h=+a,this.c=+c,void(this.l=+f)):2>arguments.length?a instanceof Ha?new Ha(a.h,
a.c,a.l):a instanceof ma?je(a.l,a.a,a.b):je((a=ke((a=u.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Ha(a,c,f)}function sb(a,c,f){return isNaN(a)&&(a=0),isNaN(c)&&(c=0),new ma(f,Math.cos(a*=R)*c,Math.sin(a)*c)}function ma(a,c,f){return this instanceof ma?(this.l=+a,this.a=+c,void(this.b=+f)):2>arguments.length?a instanceof ma?new ma(a.l,a.a,a.b):a instanceof Ha?sb(a.h,a.c,a.l):ke((a=Ea(a)).r,a.g,a.b):new ma(a,c,f)}function Fb(a,c,f){a=(a+16)/116;c=a+c/500;f=a-f/200;return c=bd(c)*le,a=bd(a)*me,f=bd(f)*ne,new Ea(cd(3.2404542*
c-1.5371385*a-.4985314*f),cd(-.969266*c+1.8760108*a+.041556*f),cd(.0556434*c-.2040259*a+1.0572252*f))}function je(a,c,f){return 0<a?new Ha(Math.atan2(f,c)*ja,Math.sqrt(c*c+f*f),a):new Ha(NaN,NaN,a)}function bd(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function dd(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function cd(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function Ea(a,c,f){return this instanceof Ea?(this.r=~~a,this.g=~~c,void(this.b=~~f)):2>arguments.length?
a instanceof Ea?new Ea(a.r,a.g,a.b):he(""+a,Ea,$a):new Ea(a,c,f)}function Xb(a){return new Ea(a>>16,a>>8&255,255&a)+""}function tb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function he(a,c,f){var g,m,n,B=0,x=0,J=0;if(g=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(m=g[2].split(","),g[1]){case "hsl":return f(parseFloat(m[0]),parseFloat(m[1])/100,parseFloat(m[2])/100);case "rgb":return c(ed(m[0]),ed(m[1]),ed(m[2]))}return(n=Yb.get(a))?c(n.r,n.g,n.b):(null==a||"#"!==
a.charAt(0)||isNaN(n=parseInt(a.slice(1),16))||(4===a.length?(B=(3840&n)>>4,B|=B>>4,x=240&n,x|=x>>4,J=15&n,J|=J<<4):7===a.length&&(B=(16711680&n)>>16,x=(65280&n)>>8,J=255&n)),c(B,x,J))}function ie(a,c,f){var g,m,n=Math.min(a/=255,c/=255,f/=255),B=Math.max(a,c,f),x=B-n,J=(B+n)/2;return x?(m=.5>J?x/(B+n):x/(2-B-n),g=a==B?(c-f)/x+(f>c?6:0):c==B?(f-a)/x+2:(a-c)/x+4,g*=60):(g=NaN,m=0<J&&1>J?0:g),new aa(g,m,J)}function ke(a,c,f){a=fd(a);c=fd(c);f=fd(f);var g=dd((.4124564*a+.3575761*c+.1804375*f)/le),m=
dd((.2126729*a+.7151522*c+.072175*f)/me);a=dd((.0193339*a+.119192*c+.9503041*f)/ne);return ma(116*m-16,500*(g-m),200*(m-a))}function fd(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ed(a){var c=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*c):c}function fa(a){return"function"==typeof a?a:function(){return a}}function gd(a){return function(c,f,g){return 2===arguments.length&&"function"==typeof f&&(g=f,f=null),Zb(c,f,a,g)}}function Zb(a,c,f,g){function m(){var a,
c=J.status,g;if(g=!c)g=(g=J.responseType)&&"text"!==g?J.response:J.responseText;if(g||200<=c&&300>c||304===c){try{a=f.call(n,J)}catch(m){return void B.error.call(n,m)}B.load.call(n,a)}else B.error.call(n,J)}var n={},B=u.dispatch("beforesend","progress","load","error"),x={},J=new XMLHttpRequest,ca=null;return!this.XDomainRequest||"withCredentials"in J||!/^(http(s)?:)?\/\//.test(a)||(J=new XDomainRequest),"onload"in J?J.onload=J.onerror=m:J.onreadystatechange=function(){3<J.readyState&&m()},J.onprogress=
function(a){var c=u.event;u.event=a;try{B.progress.call(n,J)}finally{u.event=c}},n.header=function(a,c){return a=(a+"").toLowerCase(),2>arguments.length?x[a]:(null==c?delete x[a]:x[a]=c+"",n)},n.mimeType=function(a){return arguments.length?(c=null==a?null:a+"",n):c},n.responseType=function(a){return arguments.length?(ca=a,n):ca},n.response=function(a){return f=a,n},["get","post"].forEach(function(a){n[a]=function(){return n.send.apply(n,[a].concat(Sa(arguments)))}}),n.send=function(f,g,m){if(2===
arguments.length&&"function"==typeof g&&(m=g,g=null),J.open(f,a,!0),null==c||"accept"in x||(x.accept=c+",*/*"),J.setRequestHeader)for(var b in x)J.setRequestHeader(b,x[b]);return null!=c&&J.overrideMimeType&&J.overrideMimeType(c),null!=ca&&(J.responseType=ca),null!=m&&n.on("error",m).on("load",function(a){m(null,a)}),B.beforesend.call(n,J),J.send(null==g?null:g),n},n.abort=function(){return J.abort(),n},u.rebind(n,B,"on"),null==g?n:n.get(Ag(g))}function Ag(a){return 1===a.length?function(c,f){a(null==
c?f:null)}:a}function $b(a,c,f){var g=arguments.length;2>g&&(c=0);3>g&&(f=Date.now());g={c:a,t:f+c,n:null};return ac?ac.n=g:bc=g,ac=g,cc||(dc=clearTimeout(dc),cc=1,oe(hd)),g}function hd(){var a=pe(),a=qe()-a;24<a?(isFinite(a)&&(clearTimeout(dc),dc=setTimeout(hd,a)),cc=0):(cc=1,oe(hd))}function pe(){for(var a=Date.now(),c=bc;c;)a>=c.t&&c.c(a-c.t)&&(c.c=null),c=c.n;return a}function qe(){for(var a,c=bc,f=1/0;c;)c.c?(c.t<f&&(f=c.t),c=(a=c).n):c=a?a.n=c.n:bc=c.n;return ac=a,f}function id(a,c){return c-
(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Bg(a){var c=a.decimal,f=a.thousands,g=a.grouping,m=a.currency,n=g&&f?function(a,c){for(var n=a.length,m=[],b=0,d=g[0],h=0;0<n&&0<d&&(h+d+1>c&&(d=Math.max(1,c-h)),m.push(a.substring(n-=d,n+d)),!((h+=d+1)>c));)d=g[b=(b+1)%g.length];return m.reverse().join(f)}:A;return function(a){a=re.exec(a);var f=a[1]||" ",g=a[2]||">",ca=a[3]||"-",b=a[4]||"",d=a[5],h=+a[6],e=a[7],p=a[8],k=a[9],l=1,t="",v="",r=!1,q=!0;switch(p&&(p=+p.substring(1)),(d||"0"===f&&"="===
g)&&(d=f="0",g="="),k){case "n":e=!0;k="g";break;case "%":l=100;v="%";k="f";break;case "p":l=100;v="%";k="r";break;case "b":case "o":case "x":case "X":"#"===b&&(t="0"+k.toLowerCase());case "c":q=!1;case "d":r=!0;p=0;break;case "s":l=-1,k="r"}"$"===b&&(t=m[0],v=m[1]);"r"!=k||p||(k="g");null!=p&&("g"==k?p=Math.max(1,Math.min(21,p)):"e"!=k&&"f"!=k||(p=Math.max(0,Math.min(20,p))));var k=Cg.get(k)||Dg,E=d&&e;return function(a){var m=v;if(r&&a%1)return"";var B=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===ca?"":ca;
0>l?(m=u.formatPrefix(a,p),a=m.scale(a),m=m.symbol+v):a*=l;a=k(a,p);var b,Aa,y=a.lastIndexOf(".");0>y?(y=q?a.lastIndexOf("e"):-1,0>y?(b=a,Aa=""):(b=a.substring(0,y),Aa=a.substring(y))):(b=a.substring(0,y),Aa=c+a.substring(y+1));!d&&e&&(b=n(b,1/0));var y=t.length+b.length+Aa.length+(E?0:B.length),A=h>y?Array(y=h-y+1).join(f):"";return E&&(b=n(A+b,A.length?h-Aa.length:1/0)),B+=t,a=b+Aa,("<"===g?B+a+A:">"===g?A+B+a:"^"===g?A.substring(0,y>>=1)+B+a+A.substring(y):B+(E?a:A+a))+m}}}function Dg(a){return a+
""}function Wa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function ib(a,c,f){function g(c){var f=a(c),g=n(f,1);return g-c>c-f?f:g}function m(f){return c(f=a(new Ba(f-1)),1),f}function n(a,f){return c(a=new Ba(+a),f),a}function B(a,g,n){a=m(a);var x=[];if(1<n)for(;g>a;)f(a)%n||x.push(new Date(+a)),c(a,1);else for(;g>a;)x.push(new Date(+a)),c(a,1);return x}a.floor=a;a.round=g;a.ceil=m;a.offset=n;a.range=B;var x=a.utc=ec(a);return x.floor=x,x.round=ec(g),x.ceil=
ec(m),x.offset=ec(n),x.range=function(a,c,f){try{Ba=Wa;var g=new Wa;return g._=a,B(g,c,f)}finally{Ba=Date}},a}function ec(a){return function(c,f){try{Ba=Wa;var g=new Wa;return g._=c,a(g,f)._}finally{Ba=Date}}}function Eg(a){function c(a){function c(f){for(var n,m,x,J=[],B=-1,ca=0;++B<g;)37===a.charCodeAt(B)&&(J.push(a.slice(ca,B)),null!=(m=te[n=a.charAt(++B)])&&(n=a.charAt(++B)),(x=q[n])&&(n=x(f,null==m?"e"===n?" ":"0":m)),J.push(n),ca=B+1);return J.push(a.slice(ca,B)),J.join("")}var g=a.length;return c.parse=
function(c){var g={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(g,a,c,0)!=c.length)return null;"p"in g&&(g.H=g.H%12+12*g.p);c=null!=g.Z&&Ba!==Wa;var n=new (c?Wa:Ba);return"j"in g?n.setFullYear(g.y,0,g.j):"W"in g||"U"in g?("w"in g||(g.w="W"in g?1:0),n.setFullYear(g.y,0,1),n.setFullYear(g.y,0,"W"in g?(g.w+6)%7+7*g.W-(n.getDay()+5)%7:g.w+7*g.U-(n.getDay()+6)%7)):n.setFullYear(g.y,g.m,g.d),n.setHours(g.H+(g.Z/100|0),g.M+g.Z%100,g.S,g.L),c?n._:n},c.toString=function(){return a},c}function f(a,c,f,g){for(var n,
m,x,J=0,B=c.length,ca=f.length;B>J;){if(g>=ca)return-1;if(n=c.charCodeAt(J++),37===n){if(x=c.charAt(J++),m=E[x in te?c.charAt(J++):x],!m||0>(g=m(a,f,g)))return-1}else if(n!=f.charCodeAt(g++))return-1}return g}var g=a.dateTime,m=a.date,n=a.time,B=a.periods,x=a.days,J=a.shortDays,ca=a.months,b=a.shortMonths;c.utc=function(a){function f(a){try{Ba=Wa;var c=new Ba;return c._=a,g(c)}finally{Ba=Date}}var g=c(a);return f.parse=function(a){try{Ba=Wa;var c=g.parse(a);return c&&c._}finally{Ba=Date}},f.toString=
g.toString,f};c.multi=c.utc.multi=Fg;var d=u.map(),h=fc(x),e=gc(x),p=fc(J),k=gc(J),l=fc(ca),t=gc(ca),v=fc(b),r=gc(b);B.forEach(function(a,c){d.set(a.toLowerCase(),c)});var q={a:function(a){return J[a.getDay()]},A:function(a){return x[a.getDay()]},b:function(a){return b[a.getMonth()]},B:function(a){return ca[a.getMonth()]},c:c(g),d:function(a,c){return Fa(a.getDate(),c,2)},e:function(a,c){return Fa(a.getDate(),c,2)},H:function(a,c){return Fa(a.getHours(),c,2)},I:function(a,c){return Fa(a.getHours()%
12||12,c,2)},j:function(a,c){return Fa(1+M.dayOfYear(a),c,3)},L:function(a,c){return Fa(a.getMilliseconds(),c,3)},m:function(a,c){return Fa(a.getMonth()+1,c,2)},M:function(a,c){return Fa(a.getMinutes(),c,2)},p:function(a){return B[+(12<=a.getHours())]},S:function(a,c){return Fa(a.getSeconds(),c,2)},U:function(a,c){return Fa(M.sundayOfYear(a),c,2)},w:function(a){return a.getDay()},W:function(a,c){return Fa(M.mondayOfYear(a),c,2)},x:c(m),X:c(n),y:function(a,c){return Fa(a.getFullYear()%100,c,2)},Y:function(a,
c){return Fa(a.getFullYear()%1E4,c,4)},Z:Gg,"%":function(){return"%"}},E={a:function(a,c,f){p.lastIndex=0;return(c=p.exec(c.slice(f)))?(a.w=k.get(c[0].toLowerCase()),f+c[0].length):-1},A:function(a,c,f){h.lastIndex=0;return(c=h.exec(c.slice(f)))?(a.w=e.get(c[0].toLowerCase()),f+c[0].length):-1},b:function(a,c,f){v.lastIndex=0;return(c=v.exec(c.slice(f)))?(a.m=r.get(c[0].toLowerCase()),f+c[0].length):-1},B:function(a,c,f){l.lastIndex=0;return(c=l.exec(c.slice(f)))?(a.m=t.get(c[0].toLowerCase()),f+
c[0].length):-1},c:function(a,c,g){return f(a,q.c.toString(),c,g)},d:ue,e:ue,H:ve,I:ve,j:Hg,L:Ig,m:Jg,M:Kg,p:function(a,c,f){c=d.get(c.slice(f,f+=2).toLowerCase());return null==c?-1:(a.p=c,f)},S:Lg,U:Mg,w:Ng,W:Og,x:function(a,c,g){return f(a,q.x.toString(),c,g)},X:function(a,c,g){return f(a,q.X.toString(),c,g)},y:Pg,Y:Qg,Z:Rg,"%":Sg};return c}function Fa(a,c,f){var g=0>a?"-":"";a=(g?-a:a)+"";var m=a.length;return g+(f>m?Array(f-m+1).join(c)+a:a)}function fc(a){return new RegExp("^(?:"+a.map(u.requote).join("|")+
")","i")}function gc(a){for(var c=new v,f=-1,g=a.length;++f<g;)c.set(a[f].toLowerCase(),f);return c}function Ng(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+1)))?(a.w=+c[0],f+c[0].length):-1}function Mg(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f)))?(a.U=+c[0],f+c[0].length):-1}function Og(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f)))?(a.W=+c[0],f+c[0].length):-1}function Qg(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+4)))?(a.y=+c[0],f+c[0].length):-1}function Pg(a,c,f){ra.lastIndex=
0;if(c=ra.exec(c.slice(f,f+2))){var g=+c[0];a=(a.y=g+(68<g?1900:2E3),f+c[0].length)}else a=-1;return a}function Rg(a,c,f){return/^[+-]\d{4}$/.test(c=c.slice(f,f+5))?(a.Z=-c,f+5):-1}function Jg(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+2)))?(a.m=c[0]-1,f+c[0].length):-1}function ue(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+2)))?(a.d=+c[0],f+c[0].length):-1}function Hg(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+3)))?(a.j=+c[0],f+c[0].length):-1}function ve(a,c,f){ra.lastIndex=
0;return(c=ra.exec(c.slice(f,f+2)))?(a.H=+c[0],f+c[0].length):-1}function Kg(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+2)))?(a.M=+c[0],f+c[0].length):-1}function Lg(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+2)))?(a.S=+c[0],f+c[0].length):-1}function Ig(a,c,f){ra.lastIndex=0;return(c=ra.exec(c.slice(f,f+3)))?(a.L=+c[0],f+c[0].length):-1}function Gg(a){var c=a.getTimezoneOffset();a=0<c?"-":"+";var f=S(c)/60|0,c=S(c)%60;return a+Fa(f,"0",2)+Fa(c,"0",2)}function Sg(a,c,f){we.lastIndex=
0;return(a=we.exec(c.slice(f,f+1)))?f+a[0].length:-1}function Fg(a){for(var c=a.length,f=-1;++f<c;)a[f][0]=this(a[f][0]);return function(c){for(var f=0,n=a[f];!n[1](c);)n=a[++f];return n[0](c)}}function kd(){}function ye(a,c,f){var g=f.s=a+c,m=g-a;f.t=a-(g-m)+(c-m)}function hc(a,c){a&&ze.hasOwnProperty(a.type)&&ze[a.type](a,c)}function ld(a,c,f){var g=-1,m=a.length-f;for(c.lineStart();++g<m;)f=a[g],c.point(f[0],f[1],f[2]);c.lineEnd()}function Ae(a,c){var f=-1,g=a.length;for(c.polygonStart();++f<g;)ld(a[f],
c,1);c.polygonEnd()}function Tg(){function a(a,c){a*=R;c=c*R/2+Q/4;var f=a-g,ca=0<=f?1:-1,f=ca*f,b=Math.cos(c);c=Math.sin(c);var d=n*c;jb.add(Math.atan2(d*ca*Math.sin(f),m*b+d*Math.cos(f)));g=a;m=b;n=c}var c,f,g,m,n;Ja.point=function(B,x){Ja.point=a;g=(c=B)*R;m=Math.cos(x=(f=x)*R/2+Q/4);n=Math.sin(x)};Ja.lineEnd=function(){a(c,f)}}function kb(a){var c=a[0];a=a[1];var f=Math.cos(a);return[f*Math.cos(c),f*Math.sin(c),Math.sin(a)]}function ic(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}function ub(a,c){return[a[1]*
c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]}function md(a,c){a[0]+=c[0];a[1]+=c[1];a[2]+=c[2]}function jc(a,c){return[a[0]*c,a[1]*c,a[2]*c]}function kc(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=c;a[1]/=c;a[2]/=c}function lc(a){return[Math.atan2(a[1],a[0]),ha(a[2])]}function mc(a,c){return S(a[0]-c[0])<K&&S(a[1]-c[1])<K}function nd(a,c){a*=R;var f=Math.cos(c*=R);Hb(f*Math.cos(a),f*Math.sin(a),Math.sin(c))}function Hb(a,c,f){++Ib;lb+=(a-lb)/Ib;mb+=(c-mb)/Ib;Xa+=(f-Xa)/Ib}function Be(){function a(a,
n){a*=R;var B=Math.cos(n*=R),x=B*Math.cos(a);a=B*Math.sin(a);n=Math.sin(n);var J=Math.atan2(Math.sqrt((J=f*n-g*a)*J+(J=g*x-c*n)*J+(J=c*a-f*x)*J),c*x+f*a+g*n);nc+=J;ab+=J*(c+(c=x));bb+=J*(f+(f=a));Ta+=J*(g+(g=n));Hb(c,f,g)}var c,f,g;Pa.point=function(m,n){m*=R;var B=Math.cos(n*=R);c=B*Math.cos(m);f=B*Math.sin(m);g=Math.sin(n);Pa.point=a;Hb(c,f,g)}}function Ce(){Pa.point=nd}function Ug(){function a(a,c){a*=R;var f=Math.cos(c*=R),ca=f*Math.cos(a);a=f*Math.sin(a);c=Math.sin(c);var f=m*c-n*a,b=n*ca-g*
c,d=g*a-m*ca,h=Math.sqrt(f*f+b*b+d*d),e=g*ca+m*a+n*c,p=h&&-ea(e)/h,h=Math.atan2(h,e);vb+=p*f;wb+=p*b;cb+=p*d;nc+=h;ab+=h*(g+(g=ca));bb+=h*(m+(m=a));Ta+=h*(n+(n=c));Hb(g,m,n)}var c,f,g,m,n;Pa.point=function(B,x){c=B;f=x;Pa.point=a;B*=R;var J=Math.cos(x*=R);g=J*Math.cos(B);m=J*Math.sin(B);n=Math.sin(x);Hb(g,m,n)};Pa.lineEnd=function(){a(c,f);Pa.lineEnd=Ce;Pa.point=nd}}function De(a,c){function f(f,m){return f=a(f,m),c(f[0],f[1])}return a.invert&&c.invert&&(f.invert=function(f,m){return f=c.invert(f,
m),f&&a.invert(f[0],f[1])}),f}function Jb(){return!0}function Ee(a,c,f,g,m){var n=[],B=[];if(a.forEach(function(a){if(!(0>=(c=a.length-1))){var c,f=a[0],g=a[c];if(mc(f,g)){m.lineStart();for(g=0;c>g;++g)m.point((f=a[g])[0],f[1]);return void m.lineEnd()}c=new oc(f,a,null,!0);f=new oc(f,null,c,!1);c.o=f;n.push(c);B.push(f);c=new oc(g,a,null,!1);f=new oc(g,null,c,!0);c.o=f;n.push(c);B.push(f)}}),B.sort(c),Fe(n),Fe(B),n.length){a=0;c=f;for(f=B.length;f>a;++a)B[a].e=c=!c;for(var x,J=n[0];;){for(var b=J,
d=!0;b.v;)if((b=b.n)===J)return;c=b.z;m.lineStart();do{if(b.v=b.o.v=!0,b.e){if(d)for(a=0,f=c.length;f>a;++a)m.point((x=c[a])[0],x[1]);else g(b.x,b.n.x,1,m);b=b.n}else{if(d)for(c=b.p.z,a=c.length-1;0<=a;--a)m.point((x=c[a])[0],x[1]);else g(b.x,b.p.x,-1,m);b=b.p}b=b.o;c=b.z;d=!d}while(!b.v);m.lineEnd()}}}function Fe(a){if(c=a.length){for(var c,f,g=0,m=a[0];++g<c;)m.n=f=a[g],f.p=m,m=f;m.n=f=a[0];f.p=m}}function oc(a,c,f,g){this.x=a;this.z=c;this.o=f;this.e=g;this.v=!1;this.n=this.p=null}function Ge(a,
c,f,g){return function(m,n){function B(c,f){var g=m(c,f);a(c=g[0],f=g[1])&&n.point(c,f)}function x(a,c){a=m(a,c);t.point(a[0],a[1])}function J(){r.point=x;t.lineStart()}function b(){r.point=B;t.lineEnd()}function d(a,c){l.push([a,c]);a=m(a,c);E.point(a[0],a[1])}function h(){E.lineStart();l=[]}function e(){d(l[0][0],l[0][1]);E.lineEnd();var a;a=E.clean();var c=q.buffer(),f=c.length;if(l.pop(),k.push(l),l=null,f)if(1&a){a=c[0];var g,f=a.length-1,c=-1;if(0<f){y||(n.polygonStart(),y=!0);for(n.lineStart();++c<
f;)n.point((g=a[c])[0],g[1]);n.lineEnd()}}else 1<f&&2&a&&c.push(c.pop().concat(c.shift())),p.push(c.filter(Vg))}var p,k,l,t=c(n),v=m.invert(g[0],g[1]),r={point:B,lineStart:J,lineEnd:b,polygonStart:function(){r.point=d;r.lineStart=h;r.lineEnd=e;p=[];k=[]},polygonEnd:function(){r.point=B;r.lineStart=J;r.lineEnd=b;p=u.merge(p);var a,c=v;a=k;var g=c[0],m=c[1],x=[Math.sin(g),-Math.cos(g),0],d=0,h=0;jb.reset();for(var e=0,Aa=a.length;Aa>e;++e){var l=a[e],t=l.length;if(t)for(var Ma=l[0],Na=Ma[0],c=Ma[1]/
2+Q/4,q=Math.sin(c),E=Math.cos(c),A=1;;){A===t&&(A=0);var c=l[A],w=c[0],Gb=c[1]/2+Q/4,se=Math.sin(Gb),Gb=Math.cos(Gb),C=w-Na,jd=0<=C?1:-1,F=jd*C,D=F>Q,q=q*se;if(jb.add(Math.atan2(q*jd*Math.sin(F),E*Gb+q*Math.cos(F))),d+=D?C+jd*Ka:C,D^Na>=g^w>=g)Ma=ub(kb(Ma),kb(c)),kc(Ma),Na=ub(x,Ma),kc(Na),Na=(D^0<=C?-1:1)*ha(Na[2]),(m>Na||m===Na&&(Ma[0]||Ma[1]))&&(h+=D^0<=C?1:-1);if(!A++)break;Na=w;q=se;E=Gb;Ma=c}}a=(-K>d||K>d&&-K>jb)^1&h;p.length?(y||(n.polygonStart(),y=!0),Ee(p,Wg,a,f,n)):a&&(y||(n.polygonStart(),
y=!0),n.lineStart(),f(null,null,1,n),n.lineEnd());y&&(n.polygonEnd(),y=!1);p=k=null},sphere:function(){n.polygonStart();n.lineStart();f(null,null,1,n);n.lineEnd();n.polygonEnd()}},q=He(),E=c(q),y=!1;return r}}function Vg(a){return 1<a.length}function He(){var a,c=[];return{lineStart:function(){c.push(a=[])},point:function(c,g){a.push([c,g])},lineEnd:H,buffer:function(){var f=c;return c=[],a=null,f},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function Wg(a,c){return(0>(a=a.x)[0]?
a[1]-qa-K:qa-a[1])-(0>(c=c.x)[0]?c[1]-qa-K:qa-c[1])}function Xg(a){function c(a,c){return Math.cos(a)*Math.cos(c)>m}function f(a,c,f){var g=kb(a),n=kb(c),x=[1,0,0],n=ub(g,n),B=ic(n,n),g=n[0],b=B-g*g;if(!b)return!f&&a;B=m*B/b;b=-m*g/b;g=ub(x,n);x=jc(x,B);n=jc(n,b);md(x,n);n=ic(x,g);B=ic(g,g);b=n*n-B*(ic(x,x)-1);if(!(0>b)){var d=Math.sqrt(b),b=jc(g,(-n-d)/B);if(md(b,x),b=lc(b),!f)return b;var h;f=a[0];var e=c[0];a=a[1];c=c[1];f>e&&(h=f,f=e,e=h);var p=e-f,k=S(p-Q)<K,l=k||K>p;if(!k&&a>c&&(h=a,a=c,c=h),
l?k?0<a+c^b[1]<(S(b[0]-f)<K?a:c):a<=b[1]&&b[1]<=c:p>Q^(f<=b[0]&&b[0]<=e))return h=jc(g,(-n+d)/B),md(h,x),[b,lc(h)]}}function g(c,f){var g=n?a:Q-a,m=0;return-g>c?m|=1:c>g&&(m|=2),-g>f?m|=4:f>g&&(m|=8),m}var m=Math.cos(a),n=0<m,B=S(m)>K,x=od(a,6*R);return Ge(c,function(a){var m,x,b,d,h;return{lineStart:function(){d=b=!1;h=1},point:function(e,p){var k,l=[e,p],t=c(e,p);e=n?t?0:g(e,p):t?g(e+(0>e?Q:-Q),p):0;if(!m&&(d=b=t)&&a.lineStart(),t!==b&&(k=f(m,l),(mc(m,k)||mc(l,k))&&(l[0]+=K,l[1]+=K,t=c(l[0],l[1]))),
t!==b)h=0,t?(a.lineStart(),k=f(l,m),a.point(k[0],k[1])):(k=f(m,l),a.point(k[0],k[1]),a.lineEnd()),m=k;else if(B&&m&&n^t){var v;e&x||!(v=f(l,m,!0))||(h=0,n?(a.lineStart(),a.point(v[0][0],v[0][1]),a.point(v[1][0],v[1][1]),a.lineEnd()):(a.point(v[1][0],v[1][1]),a.lineEnd(),a.lineStart(),a.point(v[0][0],v[0][1])))}!t||m&&mc(m,l)||a.point(l[0],l[1]);m=l;b=t;x=e},lineEnd:function(){b&&a.lineEnd();m=null},clean:function(){return h|(d&&b)<<1}}},x,n?[0,-a]:[-Q,a-Q])}function Ie(a,c,f,g){return function(m){var n,
B=m.a,x=m.b,b=B.x,B=B.y,d=0,h=1,e=x.x-b,x=x.y-B;if(n=a-b,e||!(0<n)){if(n/=e,0>e){if(d>n)return;h>n&&(h=n)}else if(0<e){if(n>h)return;n>d&&(d=n)}if(n=f-b,e||!(0>n)){if(n/=e,0>e){if(n>h)return;n>d&&(d=n)}else if(0<e){if(d>n)return;h>n&&(h=n)}if(n=c-B,x||!(0<n)){if(n/=x,0>x){if(d>n)return;h>n&&(h=n)}else if(0<x){if(n>h)return;n>d&&(d=n)}if(n=g-B,x||!(0>n)){if(n/=x,0>x){if(n>h)return;n>d&&(d=n)}else if(0<x){if(d>n)return;h>n&&(h=n)}return 0<d&&(m.a={x:b+d*e,y:B+d*x}),1>h&&(m.b={x:b+h*e,y:B+h*x}),m}}}}}}
function Je(a,c,f,g){function m(g,n){return S(g[0]-a)<K?0<n?0:3:S(g[0]-f)<K?0<n?2:1:S(g[1]-c)<K?0<n?1:0:0<n?3:2}function n(a,c){return B(a.x,c.x)}function B(a,c){var f=m(a,1),g=m(c,1);return f!==g?f-g:0===f?c[1]-a[1]:1===f?a[0]-c[0]:2===f?a[1]-c[1]:c[0]-a[0]}return function(x){function b(n,x,J,d){var h=0,e=0;if(null==n||(h=m(n,J))!==(e=m(x,J))||0>B(n,x)^0<J){do d.point(0===h||3===h?a:f,1<h?g:c);while((h=(h+J+4)%4)!==e)}else d.point(x[0],x[1])}function d(n,m){n>=a&&f>=n&&m>=c&&g>=m&&x.point(n,m)}function h(n,
m){n=Math.max(-pc,Math.min(pc,n));m=Math.max(-pc,Math.min(pc,m));var B=n>=a&&f>=n&&m>=c&&g>=m;if(p&&k.push([n,m]),y)l=n,t=m,v=B,y=!1,B&&(x.lineStart(),x.point(n,m));else if(B&&E)x.point(n,m);else{var b={a:{x:r,y:q},b:{x:n,y:m}};F(b)?(E||(x.lineStart(),x.point(b.a.x,b.a.y)),x.point(b.b.x,b.b.y),B||x.lineEnd(),A=!1):B&&(x.lineStart(),x.point(n,m),A=!1)}r=n;q=m;E=B}var e,p,k,l,t,v,r,q,E,y,A,w=x,C=He(),F=Ie(a,c,f,g),D={point:d,lineStart:function(){D.point=h;p&&p.push(k=[]);y=!0;E=!1;r=q=NaN},lineEnd:function(){e&&
(h(l,t),v&&E&&C.rejoin(),e.push(C.buffer()));D.point=d;E&&x.lineEnd()},polygonStart:function(){x=C;e=[];p=[];A=!0},polygonEnd:function(){x=w;e=u.merge(e);var c;c=[a,g];for(var f=0,m=p.length,B=c[1],d=0;m>d;++d)for(var h,ca=1,Aa=p[d],l=Aa.length,t=Aa[0];l>ca;++ca)h=Aa[ca],t[1]<=B?h[1]>B&&0<ya(t,h,c)&&++f:h[1]<=B&&0>ya(t,h,c)&&--f,t=h;c=0!==f;f=A&&c;m=e.length;(f||m)&&(x.polygonStart(),f&&(x.lineStart(),b(null,null,1,x),x.lineEnd()),m&&Ee(e,n,c,b,x),x.polygonEnd());e=p=k=null}};return D}}function pd(a){var c=
0,f=Q/3,g=qd(a);a=g(c,f);return a.parallels=function(a){return arguments.length?g(c=a[0]*Q/180,f=a[1]*Q/180):[c/Q*180,f/Q*180]},a}function Ke(a,c){function f(a,c){c=Math.sqrt(m-2*g*Math.sin(c))/g;return[c*Math.sin(a*=g),n-c*Math.cos(a)]}a=Math.sin(a);var g=(a+Math.sin(c))/2,m=1+a*(2*g-a),n=Math.sqrt(m)/g;return f.invert=function(a,c){c=n-c;return[Math.atan2(a,c)/g,ha((m-(a*a+c*c)*g*g)/(2*g))]},f}function Yg(){function a(a,c){rd+=m*a-g*c;g=a;m=c}var c,f,g,m;db.point=function(n,B){db.point=a;c=g=n;
f=m=B};db.lineEnd=function(){a(c,f)}}function Zg(){function a(a,c){B.push("M",a,",",c,n)}function c(a,c){B.push("M",a,",",c);x.point=f}function f(a,c){B.push("L",a,",",c)}function g(){x.point=a}function m(){B.push("Z")}var n=Le(4.5),B=[],x={point:a,lineStart:function(){x.point=c},lineEnd:g,polygonStart:function(){x.lineEnd=m},polygonEnd:function(){x.lineEnd=g;x.point=a},pointRadius:function(a){return n=Le(a),x},result:function(){if(B.length){var a=B.join("");return B=[],a}}};return x}function Le(a){return"m0,"+
a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function nb(a,c){lb+=a;mb+=c;++Xa}function Me(){function a(a,m){var n=a-c,B=m-f,n=Math.sqrt(n*n+B*B);ab+=n*(c+a)/2;bb+=n*(f+m)/2;Ta+=n;nb(c=a,f=m)}var c,f;Qa.point=function(g,m){Qa.point=a;nb(c=g,f=m)}}function Ne(){Qa.point=nb}function $g(){function a(a,c){var f=a-g,b=c-m,f=Math.sqrt(f*f+b*b);ab+=f*(g+a)/2;bb+=f*(m+c)/2;Ta+=f;f=m*a-g*c;vb+=f*(g+a);wb+=f*(m+c);cb+=3*f;nb(g=a,m=c)}var c,f,g,m;Qa.point=function(n,b){Qa.point=a;nb(c=g=n,
f=m=b)};Qa.lineEnd=function(){a(c,f)}}function ah(a){function c(c,f){a.moveTo(c+b,f);a.arc(c,f,b,0,Ka)}function f(c,f){a.moveTo(c,f);x.point=g}function g(c,f){a.lineTo(c,f)}function m(){x.point=c}function n(){a.closePath()}var b=4.5,x={point:c,lineStart:function(){x.point=f},lineEnd:m,polygonStart:function(){x.lineEnd=n},polygonEnd:function(){x.lineEnd=m;x.point=c},pointRadius:function(a){return b=a,x},result:H};return x}function Oe(a){function c(a){return(x?g:f)(a)}function f(c){return Pe(c,function(f,
g){f=a(f,g);c.point(f[0],f[1])})}function g(c){function f(g,n){g=a(g,n);c.point(g[0],g[1])}function g(){u=NaN;w.point=n;c.lineStart()}function n(f,g){var b=kb([f,g]);g=a(f,g);m(u,q,r,E,y,A,u=g[0],q=g[1],r=f,E=b[0],y=b[1],A=b[2],x,c);c.point(u,q)}function b(){w.point=f;c.lineEnd()}function B(){g();w.point=d;w.lineEnd=h}function d(a,c){n(e=a,c);p=u;k=q;l=E;t=y;v=A;w.point=n}function h(){m(u,q,r,E,y,A,p,k,e,l,t,v,x,c);w.lineEnd=b;b()}var e,p,k,l,t,v,r,u,q,E,y,A,w={point:f,lineStart:g,lineEnd:b,polygonStart:function(){c.polygonStart();
w.lineStart=B},polygonEnd:function(){c.polygonEnd();w.lineStart=g}};return w}function m(c,f,g,x,d,h,e,p,k,l,t,v,r,u){var q=e-c,E=p-f,y=q*q+E*E;if(y>4*n&&r--){var A=x+l,w=d+t,C=h+v,F=Math.sqrt(A*A+w*w+C*C),D=Math.asin(C/=F),O=S(S(C)-1)<K||S(g-k)<K?(g+k)/2:Math.atan2(w,A),z=a(O,D),D=z[0],z=z[1],I=D-c,V=z-f,N=E*I-q*V;(N*N/y>n||.3<S((q*I+E*V)/y-.5)||b>x*l+d*t+h*v)&&(m(c,f,g,x,d,h,D,z,O,A/=F,w/=F,C,r,u),u.point(D,z),m(D,z,O,A,w,C,e,p,k,l,t,v,r,u))}}var n=.5,b=Math.cos(30*R),x=16;return c.precision=function(a){return arguments.length?
(x=0<(n=a*a)&&16,c):Math.sqrt(n)},c}function bh(a){var c=Oe(function(c,g){return a([c*ja,g*ja])});return function(a){return Qe(c(a))}}function Re(a){this.stream=a}function Pe(a,c){return{point:c,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function eb(a){return qd(function(){return a})()}function qd(a){function c(a){return a=x(a[0]*R,a[1]*R),[a[0]*k+d,h-a[1]*k]}function f(a){return a=
x.invert((a[0]-d)/k,(h-a[1])/k),a&&[a[0]*ja,a[1]*ja]}function g(){x=De(b=sd(q,E,y),n);var a=n(v,r);return d=l-a[0]*k,h=t+a[1]*k,m()}function m(){return e&&(e.valid=!1,e=null),c}var n,b,x,d,h,e,p=Oe(function(a,c){return a=n(a,c),[a[0]*k+d,h-a[1]*k]}),k=150,l=480,t=250,v=0,r=0,q=0,E=0,y=0,w=Se,C=A,F=null,D=null;return c.stream=function(a){return e&&(e.valid=!1),e=Qe(w(b,p(C(a)))),e.valid=!0,e},c.clipAngle=function(a){return arguments.length?(w=null==a?(F=a,Se):Xg((F=+a)*R),m()):F},c.clipExtent=function(a){return arguments.length?
(D=a,C=a?Je(a[0][0],a[0][1],a[1][0],a[1][1]):A,m()):D},c.scale=function(a){return arguments.length?(k=+a,g()):k},c.translate=function(a){return arguments.length?(l=+a[0],t=+a[1],g()):[l,t]},c.center=function(a){return arguments.length?(v=a[0]%360*R,r=a[1]%360*R,g()):[v*ja,r*ja]},c.rotate=function(a){return arguments.length?(q=a[0]%360*R,E=a[1]%360*R,y=2<a.length?a[2]%360*R:0,g()):[q*ja,E*ja,y*ja]},u.rebind(c,p,"precision"),function(){return n=a.apply(this,arguments),c.invert=n.invert&&f,g()}}function Qe(a){return Pe(a,
function(c,f){a.point(c*R,f*R)})}function Kb(a,c){return[a,c]}function Te(a,c){return[a>Q?a-Ka:-Q>a?a+Ka:a,c]}function sd(a,c,f){return a?c||f?De(Ue(a),Ve(c,f)):Ue(a):c||f?Ve(c,f):Te}function We(a){return function(c,f){return c+=a,[c>Q?c-Ka:-Q>c?c+Ka:c,f]}}function Ue(a){var c=We(a);return c.invert=We(-a),c}function Ve(a,c){function f(a,c){var f=Math.cos(c),d=Math.cos(a)*f;a=Math.sin(a)*f;c=Math.sin(c);f=c*g+d*m;return[Math.atan2(a*n-f*b,d*g-c*m),ha(f*n+a*b)]}var g=Math.cos(a),m=Math.sin(a),n=Math.cos(c),
b=Math.sin(c);return f.invert=function(a,c){var f=Math.cos(c),d=Math.cos(a)*f;a=Math.sin(a)*f;c=Math.sin(c);f=c*n-a*b;return[Math.atan2(a*n+c*b,d*g+f*m),ha(f*g-d*m)]},f}function od(a,c){var f=Math.cos(a),g=Math.sin(a);return function(m,n,b,x){var d=b*c;null!=m?(m=Xe(f,m),n=Xe(f,n),(0<b?n>m:m>n)&&(m+=b*Ka)):(m=a+b*Ka,n=a-.5*d);for(var h;0<b?m>n:n>m;m-=d)x.point((h=lc([f,-g*Math.cos(m),-g*Math.sin(m)]))[0],h[1])}}function Xe(a,c){c=kb(c);c[0]-=a;kc(c);a=ea(-c[1]);return((0>-c[2]?-a:a)+2*Math.PI-K)%
(2*Math.PI)}function Ye(a,c,f){var g=u.range(a,c-K,f).concat(c);return function(a){return g.map(function(c){return[a,c]})}}function Ze(a,c,f){var g=u.range(a,c-K,f).concat(c);return function(a){return g.map(function(c){return[c,a]})}}function td(a){return a.source}function ud(a){return a.target}function ch(a,c,f,g){var m=Math.cos(c),n=Math.sin(c),b=Math.cos(g),x=Math.sin(g),d=m*Math.cos(a),h=m*Math.sin(a),e=b*Math.cos(f),p=b*Math.sin(f),k=2*Math.asin(Math.sqrt(Ga(g-c)+m*b*Ga(f-a))),l=1/Math.sin(k);
f=k?function(a){var c=Math.sin(a*=k)*l;a=Math.sin(k-a)*l;var f=a*d+c*e,g=a*h+c*p;return[Math.atan2(g,f)*ja,Math.atan2(a*n+c*x,Math.sqrt(f*f+g*g))*ja]}:function(){return[a*ja,c*ja]};return f.distance=k,f}function Lb(a,c){function f(c,f){var n=Math.cos(f),b=a(Math.cos(c)*n);return[b*n*Math.sin(c),b*Math.sin(f)]}return f.invert=function(a,f){var n=Math.sqrt(a*a+f*f),b=c(n),x=Math.sin(b);return[Math.atan2(a*x,n*Math.cos(b)),Math.asin(n&&f*x/n)]},f}function $e(a,c){function f(a,c){0<n?-qa+K>c&&(c=-qa+
K):c>qa-K&&(c=qa-K);c=n/Math.pow(Math.tan(Q/4+c/2),m);return[c*Math.sin(m*a),n-c*Math.cos(m*a)]}var g=Math.cos(a),m=a===c?Math.sin(a):Math.log(g/Math.cos(c))/Math.log(Math.tan(Q/4+c/2)/Math.tan(Q/4+a/2)),n=g*Math.pow(Math.tan(Q/4+a/2),m)/m;return m?(f.invert=function(a,c){c=n-c;return[Math.atan2(a,c)/m,2*Math.atan(Math.pow(n/((0<m?1:0>m?-1:0)*Math.sqrt(a*a+c*c)),1/m))-qa]},f):qc}function af(a,c){function f(a,c){c=n-c;return[c*Math.sin(m*a),n-c*Math.cos(m*a)]}var g=Math.cos(a),m=a===c?Math.sin(a):
(g-Math.cos(c))/(c-a),n=g/m+a;return S(m)<K?Kb:(f.invert=function(a,c){c=n-c;return[Math.atan2(a,c)/m,n-(0<m?1:0>m?-1:0)*Math.sqrt(a*a+c*c)]},f)}function qc(a,c){return[a,Math.log(Math.tan(Q/4+c/2))]}function bf(a){var c,f=eb(a),g=f.scale,m=f.translate,n=f.clipExtent;return f.scale=function(){var a=g.apply(f,arguments);return a===f?c?f.clipExtent(null):f:a},f.translate=function(){var a=m.apply(f,arguments);return a===f?c?f.clipExtent(null):f:a},f.clipExtent=function(a){var b=n.apply(f,arguments);
if(b===f){if(c=null==a){var d=Q*g(),h=m();n([[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]])}}else c&&(b=null);return b},f.clipExtent(null)}function vd(a,c){return[Math.log(Math.tan(Q/4+c/2)),-a]}function xb(a){return a[0]}function Mb(a){return a[1]}function cf(a){for(var c=a.length,f=[0,1],g=2,m=2;c>m;m++){for(;1<g&&0>=ya(a[f[g-2]],a[f[g-1]],a[m]);)--g;f[g++]=m}return f.slice(0,g)}function dh(a,c){return a[0]-c[0]||a[1]-c[1]}function wd(a,c,f){return(f[0]-c[0])*(a[1]-c[1])<(f[1]-c[1])*(a[0]-c[0])}function xd(a,
c,f,g){var m=a[0],n=f[0],b=c[0]-m,x=g[0]-n;a=a[1];f=f[1];c=c[1]-a;g=g[1]-f;n=(x*(a-f)-g*(m-n))/(g*b-x*c);return[m+n*b,a+n*c]}function df(a){var c=a[0];a=a[a.length-1];return!(c[0]-a[0]||c[1]-a[1])}function eh(){rc(this);this.edge=this.site=this.circle=null}function ef(a){var c=ff.pop()||new eh;return c.site=a,c}function yd(a){yb(a);zb.remove(a);ff.push(a);rc(a)}function gf(a,c){var f=a.site,g=f.x,m=f.y,n=m-c;if(!n)return g;a=a.P;if(!a)return-(1/0);f=a.site;a=f.x;f=f.y;c=f-c;if(!c)return a;var b=a-
g,x=1/n-1/c,d=b/c;return x?(-d+Math.sqrt(d*d-2*x*(b*b/(-2*c)-f+c/2+m-n/2)))/x+g:(g+a)/2}function hf(a){this.site=a;this.edges=[]}function jf(a,c){return c.angle-a.angle}function fh(){rc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Ab(a){var c=a.P,f=a.N;if(c&&f){var g=c.site,c=a.site,m=f.site;if(g!==m){var f=c.x,n=c.y,b=g.x-f,x=g.y-n,g=m.x-f,m=m.y-n,d=2*(b*m-x*g);if(!(d>=-sc)){var h=b*b+x*x,e=g*g+m*m,x=(m*h-x*e)/d,b=(b*e-g*h)/d,m=b+n,n=kf.pop()||new fh;n.arc=a;n.site=c;n.x=x+f;n.y=
m+Math.sqrt(x*x+b*b);n.cy=m;a.circle=n;a=null;for(c=Nb._;c;)if(n.y<c.y||n.y===c.y&&n.x<=c.x){if(!c.L){a=c.P;break}c=c.L}else{if(!c.R){a=c;break}c=c.R}Nb.insert(a,n);a||(zd=n)}}}}function yb(a){var c=a.circle;c&&(c.P||(zd=c.N),Nb.remove(c),kf.push(c),rc(c),a.circle=null)}function gh(a,c){var f=a.b;if(f)return!0;var g,m,n=a.a,f=c[0][0],b=c[1][0],x=c[0][1];c=c[1][1];var d=a.l,h=a.r,e=d.x,d=d.y,p=h.x,h=h.y;m=(e+p)/2;if(h===d){if(f>m||m>=b)return;if(e>p){if(n){if(n.y>=c)return}else n={x:m,y:x};f={x:m,
y:c}}else{if(n){if(n.y<x)return}else n={x:m,y:c};f={x:m,y:x}}}else if(g=(e-p)/(h-d),m=(d+h)/2-g*m,-1>g||1<g)if(e>p){if(n){if(n.y>=c)return}else n={x:(x-m)/g,y:x};f={x:(c-m)/g,y:c}}else{if(n){if(n.y<x)return}else n={x:(c-m)/g,y:c};f={x:(x-m)/g,y:x}}else if(h>d){if(n){if(n.x>=b)return}else n={x:f,y:g*f+m};f={x:b,y:g*b+m}}else{if(n){if(n.x<f)return}else n={x:b,y:g*b+m};f={x:f,y:g*f+m}}return a.a=n,a.b=f,!0}function lf(a,c){this.l=a;this.r=c;this.a=this.b=null}function Ob(a,c,f,g){var m=new lf(a,c);return Bb.push(m),
f&&tc(m,a,c,f),g&&tc(m,c,a,g),ob[a.i].edges.push(new uc(m,a,c)),ob[c.i].edges.push(new uc(m,c,a)),m}function hh(a,c,f){a=new lf(a,null);return a.a=c,a.b=f,Bb.push(a),a}function tc(a,c,f,g){a.a||a.b?a.l===f?a.b=g:a.a=g:(a.a=g,a.l=c,a.r=f)}function uc(a,c,f){var g=a.a,m=a.b;this.edge=a;this.site=c;this.angle=f?Math.atan2(f.y-c.y,f.x-c.x):a.l===c?Math.atan2(m.x-g.x,g.y-m.y):Math.atan2(g.x-m.x,m.y-g.y)}function Ad(){this._=null}function rc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Pb(a,c){var f=c.R,g=
c.U;g?g.L===c?g.L=f:g.R=f:a._=f;f.U=g;c.U=f;c.R=f.L;c.R&&(c.R.U=c);f.L=c}function Qb(a,c){var f=c.L,g=c.U;g?g.L===c?g.L=f:g.R=f:a._=f;f.U=g;c.U=f;c.L=f.R;c.L&&(c.L.U=c);f.R=c}function mf(a){for(;a.L;)a=a.L;return a}function Bd(a,c){var f,g,m,n=a.sort(ih).pop();Bb=[];ob=Array(a.length);zb=new Ad;for(Nb=new Ad;;)if(m=zd,n&&(!m||n.y<m.y||n.y===m.y&&n.x<m.x)){if(n.x!==f||n.y!==g){ob[n.i]=new hf(n);f=n;for(var b=g=void 0,x=void 0,d=void 0,h=f.x,e=f.y,p=zb._;p;)if(x=gf(p,e)-h,x>K)p=p.L;else{var k;var l=
p;k=e;var t=l.N;t?k=gf(t,k):(l=l.site,k=l.y===k?l.x:1/0);if(d=h-k,!(d>K)){x>-K?(g=p.P,b=p):d>-K?(g=p,b=p.N):g=b=p;break}if(!p.R){g=p;break}p=p.R}x=ef(f);if(zb.insert(g,x),g||b)if(g===b)yb(g),b=ef(g.site),zb.insert(x,b),x.edge=b.edge=Ob(g.site,x.site),Ab(g),Ab(b);else if(b){yb(g);yb(b);d=g.site;e=d.x;p=d.y;k=f.x-e;var l=f.y-p,h=b.site,t=h.x-e,v=h.y-p,r=2*(k*v-l*t),u=k*k+l*l,q=t*t+v*v,e={x:(v*u-l*q)/r+e,y:(k*q-t*u)/r+p};tc(b.edge,d,h,e);x.edge=Ob(d,f,null,e);b.edge=Ob(f,h,null,e);Ab(g);Ab(b)}else x.edge=
Ob(g.site,x.site);f=n.x;g=n.y}n=a.pop()}else{if(!m)break;h=m.arc;b=h.circle;d=b.x;e=b.cy;b={x:d,y:e};k=h.P;p=h.N;x=[h];yd(h);for(h=k;h.circle&&S(d-h.circle.x)<K&&S(e-h.circle.cy)<K;)k=h.P,x.unshift(h),yd(h),h=k;x.unshift(h);yb(h);for(k=p;k.circle&&S(d-k.circle.x)<K&&S(e-k.circle.cy)<K;)p=k.N,x.push(k),yd(k),k=p;x.push(k);yb(k);e=x.length;for(d=1;e>d;++d)k=x[d],h=x[d-1],tc(k.edge,h.site,k.site,b);h=x[0];k=x[e-1];k.edge=Ob(h.site,k.site,null,b);Ab(h);Ab(k)}if(c){m=Bb;n=Ie(c[0][0],c[0][1],c[1][0],c[1][1]);
for(f=m.length;f--;)a=m[f],(!gh(a,c)||!n(a)||S(a.a.x-a.b.x)<K&&S(a.a.y-a.b.y)<K)&&(a.a=a.b=null,m.splice(f,1));var E;a=c[0][0];m=c[1][0];n=c[0][1];e=c[1][1];p=ob;for(k=p.length;k--;)if(E=p[k],E&&E.prepare())for(x=E.edges,d=x.length,b=0;d>b;)h=x[b].end(),f=h.x,g=h.y,l=x[++b%d].start(),c=l.x,l=l.y,(S(f-c)>K||S(g-l)>K)&&(x.splice(b,0,new uc(hh(E.site,h,S(f-a)<K&&e-g>K?{x:a,y:S(c-a)<K?l:e}:S(g-e)<K&&m-f>K?{x:S(l-e)<K?c:m,y:e}:S(f-m)<K&&g-n>K?{x:m,y:S(c-m)<K?l:n}:S(g-n)<K&&f-a>K?{x:S(l-n)<K?c:a,y:n}:null),
E.site,null)),++d)}E={cells:ob,edges:Bb};return zb=Nb=Bb=ob=null,E}function ih(a,c){return c.y-a.y||c.x-a.x}function jh(a){return a.x}function kh(a){return a.y}function nf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Rb(a,c,f,g,m,n){if(!a(c,f,g,m,n)){var b=.5*(f+m),d=.5*(g+n);c=c.nodes;c[0]&&Rb(a,c[0],f,g,b,d);c[1]&&Rb(a,c[1],b,g,m,d);c[2]&&Rb(a,c[2],f,d,b,n);c[3]&&Rb(a,c[3],b,d,m,n)}}function lh(a,c,f,g,m,n,b){var d,h=1/0;return function Aa(a,e,p,k,l){if(!(e>n||p>b||g>k||m>l)){if(t=
a.point){var t,v=c-a.x,r=f-a.y,v=v*v+r*r;h>v&&(v=Math.sqrt(h=v),g=c-v,m=f-v,n=c+v,b=f+v,d=t)}t=a.nodes;for(var v=.5*(e+k),r=.5*(p+l),u=(f>=r)<<1|c>=v,q=u+4;q>u;++u)if(a=t[3&u])switch(3&u){case 0:Aa(a,e,p,v,r);break;case 1:Aa(a,v,p,k,r);break;case 2:Aa(a,e,r,v,l);break;case 3:Aa(a,v,r,k,l)}}}(a,g,m,n,b),d}function Cd(a,c){a=u.rgb(a);c=u.rgb(c);var f=a.r,g=a.g,m=a.b,n=c.r-f,b=c.g-g,d=c.b-m;return function(a){return"#"+tb(Math.round(f+n*a))+tb(Math.round(g+b*a))+tb(Math.round(m+d*a))}}function of(a,
c){var f,g={},m={};for(f in a)f in c?g[f]=pb(a[f],c[f]):m[f]=a[f];for(f in c)f in a||(m[f]=c[f]);return function(a){for(f in g)m[f]=g[f](a);return m}}function Ya(a,c){return a=+a,c=+c,function(f){return a*(1-f)+c*f}}function pf(a,c){var f,g,m,n=Dd.lastIndex=Ed.lastIndex=0,b=-1,d=[],h=[];a+="";for(c+="";(f=Dd.exec(a))&&(g=Ed.exec(c));)(m=g.index)>n&&(m=c.slice(n,m),d[b]?d[b]+=m:d[++b]=m),(f=f[0])===(g=g[0])?d[b]?d[b]+=g:d[++b]=g:(d[++b]=null,h.push({i:b,x:Ya(f,g)})),n=Ed.lastIndex;return n<c.length&&
(m=c.slice(n),d[b]?d[b]+=m:d[++b]=m),2>d.length?h[0]?(c=h[0].x,function(a){return c(a)+""}):function(){return c}:(c=h.length,function(a){for(var f,g=0;c>g;++g)d[(f=h[g]).i]=f.x(a);return d.join("")})}function pb(a,c){for(var f,g=u.interpolators.length;0<=--g&&!(f=u.interpolators[g](a,c)););return f}function vc(a,c){var f,g=[],m=[],n=a.length,b=c.length,d=Math.min(a.length,c.length);for(f=0;d>f;++f)g.push(pb(a[f],c[f]));for(;n>f;++f)m[f]=a[f];for(;b>f;++f)m[f]=c[f];return function(a){for(f=0;d>f;++f)m[f]=
g[f](a);return m}}function mh(a){return function(c){return 0>=c?0:1<=c?1:a(c)}}function qf(a){return function(c){return 1-a(1-c)}}function rf(a){return function(c){return.5*(.5>c?a(2*c):2-a(2-2*c))}}function nh(a){return a*a}function oh(a){return a*a*a}function ph(a){if(0>=a)return 0;if(1<=a)return 1;var c=a*a,f=c*a;return 4*(.5>a?f:3*(a-c)+f-.75)}function qh(a){return 1-Math.cos(a*qa)}function rh(a){return Math.pow(2,10*(a-1))}function sh(a){return 1-Math.sqrt(1-a*a)}function th(a){return 1/2.75>
a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function sf(a,c){return c-=a,function(f){return Math.round(a+c*f)}}function tf(a){var c=[a.a,a.b],f=[a.c,a.d],g=uf(c),m=c[0]*f[0]+c[1]*f[1],n;n=-m;n=(f[0]+=n*c[0],f[1]+=n*c[1],f);n=uf(n)||0;c[0]*f[1]<f[0]*c[1]&&(c[0]*=-1,c[1]*=-1,g*=-1,m*=-1);this.rotate=(g?Math.atan2(c[1],c[0]):Math.atan2(-f[0],f[1]))*ja;this.translate=[a.e,a.f];this.scale=[g,n];this.skew=n?Math.atan2(m,n)*ja:
0}function uf(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return c&&(a[0]/=c,a[1]/=c),c}function Cb(a){return a.length?a.pop()+",":""}function uh(a,c,f,g){a[0]!==c[0]||a[1]!==c[1]?(f=f.push("translate(",null,",",null,")"),g.push({i:f-4,x:Ya(a[0],c[0])},{i:f-2,x:Ya(a[1],c[1])})):(c[0]||c[1])&&f.push("translate("+c+")")}function vh(a,c,f,g){a!==c?(180<a-c?c+=360:180<c-a&&(a+=360),g.push({i:f.push(Cb(f)+"rotate(",null,")")-2,x:Ya(a,c)})):c&&f.push(Cb(f)+"rotate("+c+")")}function wh(a,c,f,g){a!==c?g.push({i:f.push(Cb(f)+
"skewX(",null,")")-2,x:Ya(a,c)}):c&&f.push(Cb(f)+"skewX("+c+")")}function xh(a,c,f,g){a[0]!==c[0]||a[1]!==c[1]?(f=f.push(Cb(f)+"scale(",null,",",null,")"),g.push({i:f-4,x:Ya(a[0],c[0])},{i:f-2,x:Ya(a[1],c[1])})):1===c[0]&&1===c[1]||f.push(Cb(f)+"scale("+c+")")}function vf(a,c){var f=[],g=[];return a=u.transform(a),c=u.transform(c),uh(a.translate,c.translate,f,g),vh(a.rotate,c.rotate,f,g),wh(a.skew,c.skew,f,g),xh(a.scale,c.scale,f,g),a=c=null,function(a){for(var c,b=-1,d=g.length;++b<d;)f[(c=g[b]).i]=
c.x(a);return f.join("")}}function yh(a,c){return c=(c-=a=+a)||1/c,function(f){return(f-a)/c}}function zh(a,c){return c=(c-=a=+a)||1/c,function(f){return Math.max(0,Math.min(1,(f-a)/c))}}function Ah(a){var c=a.source;a=a.target;var f;var g=a;if(c===g)f=c;else{f=wf(c);for(var g=wf(g),m=f.pop(),n=g.pop(),b=null;m===n;)b=m,m=f.pop(),n=g.pop();f=b}for(g=[c];c!==f;)c=c.parent,g.push(c);for(c=g.length;a!==f;)g.splice(c,0,a),a=a.parent;return g}function wf(a){for(var c=[],f=a.parent;null!=f;)c.push(a),a=
f,f=f.parent;return c.push(a),c}function Bh(a){a.fixed|=2}function Ch(a){a.fixed&=-7}function Dh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Eh(a){a.fixed&=-5}function xf(a,c,f){var g=0,m=0;if(a.charge=0,!a.leaf)for(var n,b=a.nodes,d=b.length,h=-1;++h<d;)n=b[h],null!=n&&(xf(n,c,f),a.charge+=n.charge,g+=n.charge*n.cx,m+=n.charge*n.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),c*=f[a.point.index],a.charge+=a.pointCharge=c,g+=c*a.point.x,m+=c*a.point.y);a.cx=g/a.charge;
a.cy=m/a.charge}function Sb(a,c){return u.rebind(a,c,"sort","children","value"),a.nodes=a,a.links=Fh,a}function Tb(a,c){for(var f=[a];null!=(a=f.pop());)if(c(a),(m=a.children)&&(g=m.length))for(var g,m;0<=--g;)f.push(m[g])}function Ua(a,c){for(var f=[a],g=[];null!=(a=f.pop());)if(g.push(a),(n=a.children)&&(m=n.length)){var m,n;for(a=-1;++a<m;)f.push(n[a])}for(;null!=(a=g.pop());)c(a)}function Gh(a){return a.children}function Hh(a){return a.value}function Ih(a,c){return c.value-a.value}function Fh(a){return u.merge(a.map(function(a){return(a.children||
[]).map(function(f){return{source:a,target:f}})}))}function Jh(a){return a.x}function Kh(a){return a.y}function Lh(a,c,f){a.y0=c;a.y=f}function Fd(a){return u.range(a.length)}function Gd(a){var c=-1;a=a[0].length;for(var f=[];++c<a;)f[c]=0;return f}function Mh(a){for(var c,f=1,g=0,m=a[0][1],n=a.length;n>f;++f)(c=a[f][1])>m&&(g=f,m=c);return g}function Nh(a){return a.reduce(Oh,0)}function Oh(a,c){return a+c[1]}function Ph(a,c){return yf(a,Math.ceil(Math.log(c.length)/Math.LN2+1))}function yf(a,c){var f=
-1,g=+a[0];a=(a[1]-g)/c;for(var m=[];++f<=c;)m[f]=a*f+g;return m}function Qh(a){return[u.min(a),u.max(a)]}function Rh(a,c){return a.value-c.value}function Hd(a,c){var f=a._pack_next;a._pack_next=c;c._pack_prev=a;c._pack_next=f;f._pack_prev=c}function zf(a,c){a._pack_next=c;c._pack_prev=a}function Af(a,c){var f=c.x-a.x,g=c.y-a.y;a=a.r+c.r;return.999*a*a>f*f+g*g}function Bf(a){function c(a){p=Math.min(a.x-a.r,p);k=Math.max(a.x+a.r,k);l=Math.min(a.y-a.r,l);t=Math.max(a.y+a.r,t)}if((f=a.children)&&(e=
f.length)){var f,g,m,n,b,d,h,e,p=1/0,k=-(1/0),l=1/0,t=-(1/0);if(f.forEach(Sh),g=f[0],g.x=-g.r,g.y=0,c(g),1<e&&(m=f[1],m.x=m.r,m.y=0,c(m),2<e))for(n=f[2],Cf(g,m,n),c(n),Hd(g,n),g._pack_prev=n,Hd(n,m),m=g._pack_next,b=3;e>b;b++){Cf(g,m,n=f[b]);var v=0,r=1,u=1;for(d=m._pack_next;d!==m;d=d._pack_next,r++)if(Af(d,n)){v=1;break}if(1==v)for(h=g._pack_prev;h!==d._pack_prev&&!Af(h,n);h=h._pack_prev,u++);v?(u>r||r==u&&m.r<g.r?zf(g,m=d):zf(g=h,m),b--):(Hd(g,n),m=n,c(n))}g=(p+k)/2;m=(l+t)/2;for(b=d=0;e>b;b++)n=
f[b],n.x-=g,n.y-=m,d=Math.max(d,n.r+Math.sqrt(n.x*n.x+n.y*n.y));a.r=d;f.forEach(Th)}}function Sh(a){a._pack_next=a._pack_prev=a}function Th(a){delete a._pack_next;delete a._pack_prev}function Df(a,c,f,g){var m=a.children;if(a.x=c+=g*a.x,a.y=f+=g*a.y,a.r*=g,m){a=-1;for(var n=m.length;++a<n;)Df(m[a],c,f,g)}}function Cf(a,c,f){var g=a.r+f.r,m=c.x-a.x,n=c.y-a.y;if(g&&(m||n)){var b=c.r+f.r,d=m*m+n*n,b=b*b,g=g*g;c=.5+(g-b)/(2*d);b=Math.sqrt(Math.max(0,2*b*(g+d)-(g-=d)*g-b*b))/(2*d);f.x=a.x+c*m+b*n;f.y=
a.y+c*n-b*m}else f.x=a.x+g,f.y=a.y}function Ef(a,c){return a.parent==c.parent?1:2}function Id(a){var c=a.children;return c.length?c[0]:a.t}function Jd(a){var c,f=a.children;return(c=f.length)?f[c-1]:a.t}function Uh(a){return 1+u.max(a,function(a){return a.y})}function Vh(a){return a.reduce(function(a,f){return a+f.x},0)/a.length}function Ff(a){var c=a.children;return c&&c.length?Ff(c[0]):a}function Gf(a){var c,f=a.children;return f&&(c=f.length)?Gf(f[c-1]):a}function Kd(a){return{x:a.x,y:a.y,dx:a.dx,
dy:a.dy}}function Hf(a,c){var f=a.x+c[3],g=a.y+c[0],m=a.dx-c[1]-c[3];a=a.dy-c[0]-c[2];return 0>m&&(f+=m/2,m=0),0>a&&(g+=a/2,a=0),{x:f,y:g,dx:m,dy:a}}function Db(a){var c=a[0];a=a[a.length-1];return a>c?[c,a]:[a,c]}function wc(a){return a.rangeExtent?a.rangeExtent():Db(a.range())}function Wh(a,c,f,g){var m=f(a[0],a[1]),n=g(c[0],c[1]);return function(a){return n(m(a))}}function xc(a,c){var f,g=0,m=a.length-1,n=a[g],b=a[m];return n>b&&(f=g,g=m,m=f,f=n,n=b,b=f),a[g]=c.floor(n),a[m]=c.ceil(b),a}function If(a){return a?
{floor:function(c){return Math.floor(c/a)*a},ceil:function(c){return Math.ceil(c/a)*a}}:Xh}function Yh(a,c,f,g){var m=[],n=[],b=0,d=Math.min(a.length,c.length)-1;for(a[d]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++b<=d;)m.push(f(a[b-1],a[b])),n.push(g(c[b-1],c[b]));return function(c){var f=u.bisect(a,c,1,d)-1;return n[f](m[f](c))}}function Jf(a,c,f,g){function m(){var m=2<Math.min(a.length,c.length)?Yh:Wh,h=g?zh:yh;return b=m(a,c,h,f),d=m(c,a,h,pb),n}function n(a){return b(a)}var b,d;return n.invert=
function(a){return d(a)},n.domain=function(c){return arguments.length?(a=c.map(Number),m()):a},n.range=function(a){return arguments.length?(c=a,m()):c},n.rangeRound=function(a){return n.range(a).interpolate(sf)},n.clamp=function(a){return arguments.length?(g=a,m()):g},n.interpolate=function(a){return arguments.length?(f=a,m()):f},n.ticks=function(c){return u.range.apply(u,fb(a,c))},n.tickFormat=function(c,f){return Ld(a,c,f)},n.nice=function(c){return Kf(a,c),m()},n.copy=function(){return Jf(a,c,
f,g)},m()}function Md(a,c){return u.rebind(a,c,"range","rangeRound","interpolate","clamp")}function Kf(a,c){return xc(a,If(fb(a,c)[2])),xc(a,If(fb(a,c)[2])),a}function fb(a,c){null==c&&(c=10);a=Db(a);var f=a[1]-a[0],g=Math.pow(10,Math.floor(Math.log(f/c)/Math.LN10));c=c/f*g;return.15>=c?g*=10:.35>=c?g*=5:.75>=c&&(g*=2),a[0]=Math.ceil(a[0]/g)*g,a[1]=Math.floor(a[1]/g)*g+.5*g,a[2]=g,a}function Ld(a,c,f){a=fb(a,c);if(f){c=re.exec(f);if(c.shift(),"s"===c[8]){var g=u.formatPrefix(Math.max(S(a[0]),S(a[1])));
return c[7]||(c[7]="."+yc(g.scale(a[2]))),c[8]="f",f=u.format(c.join("")),function(a){return f(g.scale(a))+g.symbol}}c[7]||(c[7]="."+Zh(c[8],a));f=c.join("")}else f=",."+yc(a[2])+"f";return u.format(f)}function yc(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Zh(a,c){var f=yc(c[2]);return a in $h?Math.abs(f-yc(Math.max(S(c[0]),S(c[1]))))+ +("e"!==a):f-2*("%"===a)}function Lf(a,c,f,g){function m(a){return(f?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(c)}function n(a){return f?Math.pow(c,
a):-Math.pow(c,-a)}function b(c){return a(m(c))}return b.invert=function(c){return n(a.invert(c))},b.domain=function(c){return arguments.length?(f=0<=c[0],a.domain((g=c.map(Number)).map(m)),b):g},b.base=function(f){return arguments.length?(c=+f,a.domain(g.map(m)),b):c},b.nice=function(){var c=xc(g.map(m),f?Math:ai);return a.domain(c),g=c.map(n),b},b.ticks=function(){var a=Db(g),b=[],d=a[0],a=a[1],h=Math.floor(m(d)),e=Math.ceil(m(a)),p=c%1?2:c;if(isFinite(e-h)){if(f){for(;e>h;h++)for(var k=1;p>k;k++)b.push(n(h)*
k);b.push(n(h))}else for(b.push(n(h));h++<e;)for(k=p-1;0<k;k--)b.push(n(h)*k);for(h=0;b[h]<d;h++);for(e=b.length;b[e-1]>a;e--);b=b.slice(h,e)}return b},b.tickFormat=function(a,f){if(!arguments.length)return Mf;2>arguments.length?f=Mf:"function"!=typeof f&&(f=u.format(f));var g=Math.max(1,c*a/b.ticks().length);return function(a){var b=a/n(Math.round(m(a)));return c-.5>b*c&&(b*=c),g>=b?f(a):""}},b.copy=function(){return Lf(a.copy(),c,f,g)},Md(b,a)}function Nf(a,c,f){function g(c){return a(m(c))}var m=
zc(c),n=zc(1/c);return g.invert=function(c){return n(a.invert(c))},g.domain=function(c){return arguments.length?(a.domain((f=c.map(Number)).map(m)),g):f},g.ticks=function(a){return u.range.apply(u,fb(f,a))},g.tickFormat=function(a,c){return Ld(f,a,c)},g.nice=function(a){return g.domain(Kf(f,a))},g.exponent=function(b){return arguments.length?(m=zc(c=b),n=zc(1/c),a.domain(f.map(m)),g):c},g.copy=function(){return Nf(a.copy(),c,f)},Md(g,a)}function zc(a){return function(c){return 0>c?-Math.pow(-c,a):
Math.pow(c,a)}}function Of(a,c){function f(f){return n[((m.get(f)||("range"===c.t?m.set(f,a.push(f)):NaN))-1)%n.length]}function g(c,f){return u.range(a.length).map(function(a){return c+f*a})}var m,n,b;return f.domain=function(g){if(!arguments.length)return a;a=[];m=new v;for(var n,b=-1,d=g.length;++b<d;)m.has(n=g[b])||m.set(n,a.push(n));return f[c.t].apply(f,c.a)},f.range=function(a){return arguments.length?(n=a,b=0,c={t:"range",a:arguments},f):n},f.rangePoints=function(m,d){2>arguments.length&&
(d=0);var h=m[0],e=m[1],e=2>a.length?(h=(h+e)/2,0):(e-h)/(a.length-1+d);return n=g(h+e*d/2,e),b=0,c={t:"rangePoints",a:arguments},f},f.rangeRoundPoints=function(m,d){2>arguments.length&&(d=0);var h=m[0],e=m[1],p=2>a.length?(h=e=Math.round((h+e)/2),0):(e-h)/(a.length-1+d)|0;return n=g(h+Math.round(p*d/2+(e-h-(a.length-1+d)*p)/2),p),b=0,c={t:"rangeRoundPoints",a:arguments},f},f.rangeBands=function(m,d,h){2>arguments.length&&(d=0);3>arguments.length&&(h=d);var e=m[1]<m[0],p=m[e-0],k=(m[1-e]-p)/(a.length-
d+2*h);return n=g(p+k*h,k),e&&n.reverse(),b=k*(1-d),c={t:"rangeBands",a:arguments},f},f.rangeRoundBands=function(m,d,h){2>arguments.length&&(d=0);3>arguments.length&&(h=d);var e=m[1]<m[0],p=m[e-0],k=m[1-e],l=Math.floor((k-p)/(a.length-d+2*h));return n=g(p+Math.round((k-p-(a.length-d)*l)/2),l),e&&n.reverse(),b=Math.round(l*(1-d)),c={t:"rangeRoundBands",a:arguments},f},f.rangeBand=function(){return b},f.rangeExtent=function(){return Db(c.a[0])},f.copy=function(){return Of(a,c)},f.domain(a)}function Pf(a,
c){function f(){var f=0,b=c.length;for(m=[];++f<b;)m[f-1]=u.quantile(a,f/b);return g}function g(a){return isNaN(a=+a)?void 0:c[u.bisect(m,a)]}var m;return g.domain=function(c){return arguments.length?(a=c.map(q).filter(k).sort(l),f()):a},g.range=function(a){return arguments.length?(c=a,f()):c},g.quantiles=function(){return m},g.invertExtent=function(f){return f=c.indexOf(f),0>f?[NaN,NaN]:[0<f?m[f-1]:a[0],f<m.length?m[f]:a[a.length-1]]},g.copy=function(){return Pf(a,c)},f()}function Qf(a,c,f){function g(c){return f[Math.max(0,
Math.min(b,Math.floor(n*(c-a))))]}function m(){return n=f.length/(c-a),b=f.length-1,g}var n,b;return g.domain=function(f){return arguments.length?(a=+f[0],c=+f[f.length-1],m()):[a,c]},g.range=function(a){return arguments.length?(f=a,m()):f},g.invertExtent=function(c){return c=f.indexOf(c),c=0>c?NaN:c/n+a,[c,c+1/n]},g.copy=function(){return Qf(a,c,f)},m()}function Rf(a,c){function f(f){return f>=f?c[u.bisect(a,f)]:void 0}return f.domain=function(c){return arguments.length?(a=c,f):a},f.range=function(a){return arguments.length?
(c=a,f):c},f.invertExtent=function(f){return f=c.indexOf(f),[a[f-1],a[f]]},f.copy=function(){return Rf(a,c)},f}function Sf(a){function c(a){return+a}return c.invert=c,c.domain=c.range=function(f){return arguments.length?(a=f.map(c),c):a},c.ticks=function(c){return u.range.apply(u,fb(a,c))},c.tickFormat=function(c,g){return Ld(a,c,g)},c.copy=function(){return Sf(a)},c}function bi(){return 0}function ci(a){return a.innerRadius}function di(a){return a.outerRadius}function Tf(a){return a.startAngle}function Uf(a){return a.endAngle}
function ei(a){return a&&a.padAngle}function Ac(a,c,f,g){return 0<(a-f)*c-(c-g)*a?0:1}function Bc(a,c,f,g,m){var n=a[0]-c[0],b=a[1]-c[1];m=(m?g:-g)/Math.sqrt(n*n+b*b);var b=m*b,n=-m*n,d=a[0]+b,h=a[1]+n,e=c[0]+b,p=c[1]+n;a=(d+e)/2;c=(h+p)/2;m=e-d;var k=p-h,l=m*m+k*k;g=f-g;var p=d*p-e*h,t=(0>k?-1:1)*Math.sqrt(Math.max(0,g*g*l-p*p)),d=(p*k-m*t)/l,h=(-p*m-k*t)/l,e=(p*k+m*t)/l;m=(-p*m+k*t)/l;k=d-a;l=h-c;a=e-a;c=m-c;return k*k+l*l>a*a+c*c&&(d=e,h=m),[[d-b,h-n],[d*f/g,h*f/g]]}function Vf(a){function c(c){function b(){e.push("M",
n(a(p),d))}for(var h,e=[],p=[],k=-1,l=c.length,B=fa(f),t=fa(g);++k<l;)m.call(this,h=c[k],k)?p.push([+B.call(this,h,k),+t.call(this,h,k)]):p.length&&(b(),p=[]);return p.length&&b(),e.length?e.join(""):null}var f=xb,g=Mb,m=Jb,n=Ra,b=n.key,d=.7;return c.x=function(a){return arguments.length?(f=a,c):f},c.y=function(a){return arguments.length?(g=a,c):g},c.defined=function(a){return arguments.length?(m=a,c):m},c.interpolate=function(a){return arguments.length?(b="function"==typeof a?n=a:(n=Nd.get(a)||Ra).key,
c):b},c.tension=function(a){return arguments.length?(d=a,c):d},c}function Ra(a){return 1<a.length?a.join("L"):a+"Z"}function Wf(a){return a.join("L")+"Z"}function Od(a){for(var c=0,f=a.length,g=a[0],m=[g[0],",",g[1]];++c<f;)m.push("V",(g=a[c])[1],"H",g[0]);return m.join("")}function Pd(a){for(var c=0,f=a.length,g=a[0],m=[g[0],",",g[1]];++c<f;)m.push("H",(g=a[c])[0],"V",g[1]);return m.join("")}function Cc(a,c){if(1>c.length||a.length!=c.length&&a.length!=c.length+2)return Ra(a);var f=a.length!=c.length,
g="",m=a[0],n=a[1],b=c[0],d=b,h=1;if(f&&(g+="Q"+(n[0]-2*b[0]/3)+","+(n[1]-2*b[1]/3)+","+n[0]+","+n[1],m=a[1],h=2),1<c.length)for(d=c[1],n=a[h],h++,g+="C"+(m[0]+b[0])+","+(m[1]+b[1])+","+(n[0]-d[0])+","+(n[1]-d[1])+","+n[0]+","+n[1],m=2;m<c.length;m++,h++)n=a[h],d=c[m],g+="S"+(n[0]-d[0])+","+(n[1]-d[1])+","+n[0]+","+n[1];f&&(a=a[h],g+="Q"+(n[0]+2*d[0]/3)+","+(n[1]+2*d[1]/3)+","+a[0]+","+a[1]);return g}function Qd(a,c){for(var f=[],g=(1-c)/2,m=a[0],n=a[1],b=1,d=a.length;++b<d;)c=m,m=n,n=a[b],f.push([g*
(n[0]-c[0]),g*(n[1]-c[1])]);return f}function Xf(a){if(3>a.length)return Ra(a);var c=1,f=a.length,g=a[0],m=g[0],n=g[1],b=[m,m,m,(g=a[1])[0]],d=[n,n,n,g[1]],m=[m,",",n,"L",La(gb,b),",",La(gb,d)];for(a.push(a[f-1]);++c<=f;)g=a[c],b.shift(),b.push(g[0]),d.shift(),d.push(g[1]),Rd(m,b,d);return a.pop(),m.push("L",g),m.join("")}function La(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]}function Rd(a,c,f){a.push("C",La(Yf,c),",",La(Yf,f),",",La(Zf,c),",",La(Zf,f),",",La(gb,c),",",La(gb,f))}function Sd(a,
c){return(c[1]-a[1])/(c[0]-a[0])}function $f(a){for(var c,f,g,m=-1,n=a.length;++m<n;)c=a[m],f=c[0],g=c[1]-qa,c[0]=f*Math.cos(g),c[1]=f*Math.sin(g);return a}function ag(a){function c(c){function h(){J.push("M",d(a(u),k),p,e(a(r.reverse()),k),"Z")}for(var l,t,v,J=[],r=[],u=[],q=-1,E=c.length,y=fa(f),A=fa(m),w=f===g?function(){return t}:fa(g),C=m===n?function(){return v}:fa(n);++q<E;)b.call(this,l=c[q],q)?(r.push([t=+y.call(this,l,q),v=+A.call(this,l,q)]),u.push([+w.call(this,l,q),+C.call(this,l,q)])):
r.length&&(h(),r=[],u=[]);return r.length&&h(),J.length?J.join(""):null}var f=xb,g=xb,m=0,n=Mb,b=Jb,d=Ra,h=d.key,e=d,p="L",k=.7;return c.x=function(a){return arguments.length?(f=g=a,c):g},c.x0=function(a){return arguments.length?(f=a,c):f},c.x1=function(a){return arguments.length?(g=a,c):g},c.y=function(a){return arguments.length?(m=n=a,c):n},c.y0=function(a){return arguments.length?(m=a,c):m},c.y1=function(a){return arguments.length?(n=a,c):n},c.defined=function(a){return arguments.length?(b=a,c):
b},c.interpolate=function(a){return arguments.length?(h="function"==typeof a?d=a:(d=Nd.get(a)||Ra).key,e=d.reverse||d,p=d.closed?"M":"L",c):h},c.tension=function(a){return arguments.length?(k=a,c):k},c}function fi(a){return a.radius}function bg(a){return[a.x,a.y]}function gi(a){return function(){var c=a.apply(this,arguments),f=c[0],c=c[1]-qa;return[f*Math.cos(c),f*Math.sin(c)]}}function hi(){return 64}function ii(){return"circle"}function cg(a){a=Math.sqrt(a/Q);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+
-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function dg(a){return function(){var c,f,g;(c=this[a])&&(g=c[f=c.active])&&(g.timer.c=null,g.timer.t=NaN,--c.count?delete c[f]:delete this[a],c.active+=.5,g.event&&g.event.interrupt.call(this,this.__data__,g.index))}}function Ub(a,c,f){return Wb(a,wa),a.namespace=c,a.id=f,a}function Td(a,c,f,g){var m=a.id,n=a.namespace;return Z(a,"function"==typeof f?function(a,b,d){a[n][m].tween.set(c,g(f.call(a,a.__data__,b,d)))}:(f=g(f),function(a){a[n][m].tween.set(c,f)}))}function ji(a){return null==
a&&(a=""),function(){this.textContent=a}}function Ud(a){return null==a?"__transition__":"__transition_"+a+"__"}function Dc(a,c,f,g,m){function n(a){var c=r.delay;return e.t=c+h,a>=c?b(a-c):void(e.c=b)}function b(f){var n=t.active,m=t[n];m&&(m.timer.c=null,m.timer.t=NaN,--t.count,delete t[n],m.event&&m.event.interrupt.call(a,a.__data__,m.index));for(var B in t)g>+B&&(n=t[B],n.timer.c=null,n.timer.t=NaN,--t.count,delete t[B]);e.c=d;$b(function(){return e.c&&d(f||1)&&(e.c=null,e.t=NaN),1},0,h);t.active=
g;r.event&&r.event.start.call(a,a.__data__,c);l=[];r.tween.forEach(function(f,g){(g=g.call(a,a.__data__,c))&&l.push(g)});k=r.ease;p=r.duration}function d(n){n/=p;for(var m=k(n),b=l.length;0<b;)l[--b].call(a,m);return 1<=n?(r.event&&r.event.end.call(a,a.__data__,c),--t.count?delete t[g]:delete a[f],1):void 0}var h,e,p,k,l,t=a[f]||(a[f]={active:0,count:0}),r=t[g];r||(h=m.time,e=$b(n,0,h),r=t[g]={tween:new v,time:h,timer:e,delay:m.delay,duration:m.duration,ease:m.ease,index:c},m=null,++t.count)}function ki(a,
c,f){a.attr("transform",function(a){var m=c(a);return"translate("+(isFinite(m)?m:f(a))+",0)"})}function li(a,c,f){a.attr("transform",function(a){var m=c(a);return"translate(0,"+(isFinite(m)?m:f(a))+")"})}function Vd(a){return a.toISOString()}function Wd(a,c,f){function g(c){return a(c)}function m(a,f){var g=(a[1]-a[0])/f,m=u.bisect(Ec,g);return m==Ec.length?[c.year,fb(a.map(function(a){return a/31536E6}),f)[2]]:m?c[g/Ec[m-1]<Ec[m]/g?m-1:m]:[mi,fb(a,f)[2]]}return g.invert=function(c){return qb(a.invert(c))},
g.domain=function(c){return arguments.length?(a.domain(c),g):a.domain().map(qb)},g.nice=function(a,c){function f(g){return!isNaN(g)&&!a.range(g,qb(+g+1),c).length}var b=g.domain(),d=Db(b),d=null==a?m(d,10):"number"==typeof a&&m(d,a);return d&&(a=d[0],c=d[1]),g.domain(xc(b,1<c?{floor:function(c){for(;f(c=a.floor(c));)c=qb(c-1);return c},ceil:function(c){for(;f(c=a.ceil(c));)c=qb(+c+1);return c}}:a))},g.ticks=function(a,c){var f=Db(g.domain()),b=null==a?m(f,10):"number"==typeof a?m(f,a):!a.range&&[{range:a},
c];return b&&(a=b[0],c=b[1]),a.range(f[0],qb(+f[1]+1),1>c?1:c)},g.tickFormat=function(){return f},g.copy=function(){return Wd(a.copy(),c,f)},Md(g,a)}function qb(a){return new Date(a)}function ni(a){return JSON.parse(a.responseText)}function oi(a){var c=Da.createRange();return c.selectNode(Da.body),c.createContextualFragment(a.responseText)}var u={version:"3.5.17"},eg=[].slice,Sa=function(a){return eg.call(a)},Da=this.document;if(Da)try{Sa(Da.documentElement.childNodes)[0].nodeType}catch(a){Sa=function(a){for(var f=
a.length,g=Array(f);f--;)g[f]=a[f];return g}}if(Date.now||(Date.now=function(){return+new Date}),Da)try{Da.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var Fc=this.Element.prototype,pi=Fc.setAttribute,qi=Fc.setAttributeNS,fg=this.CSSStyleDeclaration.prototype,ri=fg.setProperty;Fc.setAttribute=function(a,f){pi.call(this,a,f+"")};Fc.setAttributeNS=function(a,f,g){qi.call(this,a,f,g+"")};fg.setProperty=function(a,f,g){ri.call(this,a,f+"",g)}}u.ascending=l;u.descending=function(a,c){return a>
c?-1:c>a?1:c>=a?0:NaN};u.min=function(a,c){var f,g,m=-1,n=a.length;if(1===arguments.length){for(;++m<n;)if(null!=(g=a[m])&&g>=g){f=g;break}for(;++m<n;)null!=(g=a[m])&&f>g&&(f=g)}else{for(;++m<n;)if(null!=(g=c.call(a,a[m],m))&&g>=g){f=g;break}for(;++m<n;)null!=(g=c.call(a,a[m],m))&&f>g&&(f=g)}return f};u.max=function(a,c){var f,g,m=-1,n=a.length;if(1===arguments.length){for(;++m<n;)if(null!=(g=a[m])&&g>=g){f=g;break}for(;++m<n;)null!=(g=a[m])&&g>f&&(f=g)}else{for(;++m<n;)if(null!=(g=c.call(a,a[m],
m))&&g>=g){f=g;break}for(;++m<n;)null!=(g=c.call(a,a[m],m))&&g>f&&(f=g)}return f};u.extent=function(a,c){var f,g,m,n=-1,b=a.length;if(1===arguments.length){for(;++n<b;)if(null!=(g=a[n])&&g>=g){f=m=g;break}for(;++n<b;)null!=(g=a[n])&&(f>g&&(f=g),g>m&&(m=g))}else{for(;++n<b;)if(null!=(g=c.call(a,a[n],n))&&g>=g){f=m=g;break}for(;++n<b;)null!=(g=c.call(a,a[n],n))&&(f>g&&(f=g),g>m&&(m=g))}return[f,m]};u.sum=function(a,c){var f,g=0,m=a.length,n=-1;if(1===arguments.length)for(;++n<m;)!isNaN(f=+a[n])&&(g+=
f);else for(;++n<m;)!isNaN(f=+c.call(a,a[n],n))&&(g+=f);return g};u.mean=function(a,c){var f,g=0,m=a.length,n=-1,b=m;if(1===arguments.length)for(;++n<m;)isNaN(f=q(a[n]))?--b:g+=f;else for(;++n<m;)isNaN(f=q(c.call(a,a[n],n)))?--b:g+=f;return b?g/b:void 0};u.quantile=function(a,c){var f=(a.length-1)*c+1;c=Math.floor(f);var g=+a[c-1];return(f-=c)?g+f*(a[c]-g):g};u.median=function(a,c){var f,g=[],m=a.length,n=-1;if(1===arguments.length)for(;++n<m;)!isNaN(f=q(a[n]))&&g.push(f);else for(;++n<m;)!isNaN(f=
q(c.call(a,a[n],n)))&&g.push(f);return g.length?u.quantile(g.sort(l),.5):void 0};u.variance=function(a,c){var f,g,m=a.length,n=0,b=0,d=-1,h=0;if(1===arguments.length)for(;++d<m;)!isNaN(f=q(a[d]))&&(g=f-n,n+=g/++h,b+=g*(f-n));else for(;++d<m;)!isNaN(f=q(c.call(a,a[d],d)))&&(g=f-n,n+=g/++h,b+=g*(f-n));return 1<h?b/(h-1):void 0};u.deviation=function(){var a=u.variance.apply(this,arguments);return a?Math.sqrt(a):a};var gg=d(l);u.bisectLeft=gg.left;u.bisect=u.bisectRight=gg.right;u.bisector=function(a){return d(1===
a.length?function(c,f){return l(a(c),f)}:a)};u.shuffle=function(a,c,f){3>(n=arguments.length)&&(f=a.length,2>n&&(c=0));for(var g,m,n=f-c;n;)m=Math.random()*n--|0,g=a[n+c],a[n+c]=a[m+c],a[m+c]=g;return a};u.permute=function(a,c){for(var f=c.length,g=Array(f);f--;)g[f]=a[c[f]];return g};u.pairs=function(a){for(var c=0,f=a.length-1,g=a[0],m=Array(0>f?0:f);f>c;)m[c]=[g,g=a[++c]];return m};u.transpose=function(a){if(!(m=a.length))return[];for(var c=-1,f=u.min(a,p),g=Array(f);++c<f;)for(var m,n=-1,b=g[c]=
Array(m);++n<m;)b[n]=a[n][c];return g};u.zip=function(){return u.transpose(arguments)};u.keys=function(a){var c=[],f;for(f in a)c.push(f);return c};u.values=function(a){var c=[],f;for(f in a)c.push(a[f]);return c};u.entries=function(a){var c=[],f;for(f in a)c.push({key:f,value:a[f]});return c};u.merge=function(a){var c,f,g,m=a.length;c=-1;for(var n=0;++c<m;)n+=a[c].length;for(f=Array(n);0<=--m;)for(g=a[m],c=g.length;0<=--c;)f[--n]=g[c];return f};var S=Math.abs;u.range=function(a,c,f){if(3>arguments.length&&
(f=1,2>arguments.length&&(c=a,a=0)),(c-a)/f===1/0)throw Error("infinite range");var g,m=[],n;g=S(f);for(n=1;g*n%1;)n*=10;var b=-1;if(a*=n,c*=n,f*=n,0>f)for(;(g=a+f*++b)>c;)m.push(g/n);else for(;(g=a+f*++b)<c;)m.push(g/n);return m};u.map=function(a,c){var f=new v;if(a instanceof v)a.forEach(function(a,c){f.set(a,c)});else if(Array.isArray(a)){var g,m=-1,n=a.length;if(1===arguments.length)for(;++m<n;)f.set(m,a[m]);else for(;++m<n;)f.set(c.call(a,g=a[m],m),g)}else for(m in a)f.set(m,a[m]);return f};
var yg="__proto__",Vc="\x00";h(v,{has:y,get:function(a){return this._[b(a)]},set:function(a,c){return this._[b(a)]=c},remove:z,keys:I,values:function(){var a=[],c;for(c in this._)a.push(this._[c]);return a},entries:function(){var a=[],c;for(c in this._)a.push({key:t(c),value:this._[c]});return a},size:w,empty:D,forEach:function(a){for(var c in this._)a.call(this,t(c),this._[c])}});u.nest=function(){function a(c,b,d){if(d>=n.length)return g?g.call(m,b):f?b.sort(f):b;for(var h,e,p,k,l=-1,t=b.length,
B=n[d++],r=new v;++l<t;)(k=r.get(h=B(e=b[l])))?k.push(e):r.set(h,[e]);return c?(e=c(),p=function(f,g){e.set(f,a(c,g,d))}):(e={},p=function(f,g){e[f]=a(c,g,d)}),r.forEach(p),e}function c(a,f){if(f>=n.length)return a;var g=[],m=b[f++];return a.forEach(function(a,m){g.push({key:a,values:c(m,f)})}),m?g.sort(function(a,c){return m(a.key,c.key)}):g}var f,g,m={},n=[],b=[];return m.map=function(c,f){return a(f,c,0)},m.entries=function(f){return c(a(u.map,f,0),0)},m.key=function(a){return n.push(a),m},m.sortKeys=
function(a){return b[n.length-1]=a,m},m.sortValues=function(a){return f=a,m},m.rollup=function(a){return g=a,m},m};u.set=function(a){var c=new C;if(a)for(var f=0,g=a.length;g>f;++f)c.add(a[f]);return c};h(C,{has:y,add:function(a){return this._[b(a+="")]=!0,a},remove:z,values:I,size:w,empty:D,forEach:function(a){for(var c in this._)a.call(this,t(c))}});u.behavior={};u.rebind=function(a,c){for(var f,g=1,m=arguments.length;++g<m;)a[f=arguments[g]]=N(a,c,c[f]);return a};var ge="webkit ms moz Moz o O".split(" ");
u.dispatch=function(){for(var a=new G,c=-1,f=arguments.length;++c<f;)a[arguments[c]]=L(a);return a};G.prototype.on=function(a,c){var f=a.indexOf("."),g="";if(0<=f&&(g=a.slice(f+1),a=a.slice(0,f)),a)return 2>arguments.length?this[a].on(g):this[a].on(g,c);if(2===arguments.length){if(null==c)for(a in this)this.hasOwnProperty(a)&&this[a].on(g,null);return this}};u.event=null;u.requote=function(a){return a.replace(si,"\\$&")};var si=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Wb={}.__proto__?function(a,c){a.__proto__=
c}:function(a,c){for(var f in c)a[f]=c[f]},Wc=function(a,c){return c.querySelector(a)},Xc=function(a,c){return c.querySelectorAll(a)},Zc=function(a,c){var f=a.matches||a[r(a,"matchesSelector")];return(Zc=function(a,c){return f.call(a,c)})(a,c)};"function"==typeof Sizzle&&(Wc=function(a,c){return Sizzle(a,c)[0]||null},Xc=Sizzle,Zc=Sizzle.matchesSelector);u.selection=function(){return u.select(Da.documentElement)};var Y=u.selection.prototype=[];Y.select=function(a){var c,f,g,m,n=[];a=U(a);for(var b=
-1,d=this.length;++b<d;){n.push(c=[]);c.parentNode=(g=this[b]).parentNode;for(var h=-1,e=g.length;++h<e;)(m=g[h])?(c.push(f=a.call(m,m.__data__,h,b)),f&&"__data__"in m&&(f.__data__=m.__data__)):c.push(null)}return F(n)};Y.selectAll=function(a){var c,f,g=[];a=O(a);for(var m=-1,n=this.length;++m<n;)for(var b=this[m],d=-1,h=b.length;++d<h;)(f=b[d])&&(g.push(c=Sa(a.call(f,f.__data__,d,m))),c.parentNode=f);return F(g)};var Yc="http://www.w3.org/1999/xhtml",Xd={svg:"http://www.w3.org/2000/svg",xhtml:Yc,
xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};u.ns={prefix:Xd,qualify:function(a){var c=a.indexOf(":"),f=a;return 0<=c&&"xmlns"!==(f=a.slice(0,c))&&(a=a.slice(c+1)),Xd.hasOwnProperty(f)?{space:Xd[f],local:a}:a}};Y.attr=function(a,c){if(2>arguments.length){if("string"==typeof a){var f=this.node();return a=u.ns.qualify(a),a.local?f.getAttributeNS(a.space,a.local):f.getAttribute(a)}for(c in a)this.each(P(c,a[c]));return this}return this.each(P(a,
c))};Y.classed=function(a,c){if(2>arguments.length){if("string"==typeof a){var f=this.node(),g=(a=(a+"").trim().split(/^|\s+/)).length,m=-1;if(c=f.classList)for(;++m<g;){if(!c.contains(a[m]))return!1}else for(c=f.getAttribute("class");++m<g;)if(!na(a[m]).test(c))return!1;return!0}for(c in a)this.each(Ca(c,a[c]));return this}return this.each(Ca(a,c))};Y.style=function(a,c,f){var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(c="");for(f in a)this.each(oa(f,a[f],c));return this}if(2>g)return g=
this.node(),e(g).getComputedStyle(g,null).getPropertyValue(a);f=""}return this.each(oa(a,c,f))};Y.property=function(a,c){if(2>arguments.length){if("string"==typeof a)return this.node()[a];for(c in a)this.each(va(c,a[c]));return this}return this.each(va(a,c))};Y.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var c=a.apply(this,arguments);this.textContent=null==c?"":c}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};
Y.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var c=a.apply(this,arguments);this.innerHTML=null==c?"":c}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};Y.append=function(a){return a=sa(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};Y.insert=function(a,c){return a=sa(a),c=U(c),this.select(function(){return this.insertBefore(a.apply(this,arguments),c.apply(this,arguments)||null)})};Y.remove=
function(){return this.each(ta)};Y.data=function(a,c){function f(a,f){var g,m,n,b=a.length,p=f.length,k=Math.min(b,p),l=Array(p),t=Array(p),r=Array(b);if(c){var B,k=new v,u=Array(b);for(g=-1;++g<b;)(m=a[g])&&(k.has(B=c.call(m,m.__data__,g))?r[g]=m:k.set(B,m),u[g]=B);for(g=-1;++g<p;)(m=k.get(B=c.call(f,n=f[g],g)))?!0!==m&&(l[g]=m,m.__data__=n):t[g]={__data__:n},k.set(B,!0);for(g=-1;++g<b;)g in u&&!0!==k.get(u[g])&&(r[g]=a[g])}else{for(g=-1;++g<k;)m=a[g],n=f[g],m?(m.__data__=n,l[g]=m):t[g]={__data__:n};
for(;p>g;++g)t[g]={__data__:f[g]};for(;b>g;++g)r[g]=a[g]}t.update=l;t.parentNode=l.parentNode=r.parentNode=a.parentNode;d.push(t);h.push(l);e.push(r)}var g,m,n=-1,b=this.length;if(!arguments.length){for(a=Array(b=(g=this[0]).length);++n<b;)(m=g[n])&&(a[n]=m.__data__);return a}var d=za([]),h=F([]),e=F([]);if("function"==typeof a)for(;++n<b;)f(g=this[n],a.call(g,g.parentNode.__data__,n));else for(;++n<b;)f(g=this[n],a);return h.enter=function(){return d},h.exit=function(){return e},h};Y.datum=function(a){return arguments.length?
this.property("__data__",a):this.property("__data__")};Y.filter=function(a){var c,f,g,m=[];"function"!=typeof a&&(a=ga(a));for(var n=0,b=this.length;b>n;n++){m.push(c=[]);c.parentNode=(f=this[n]).parentNode;for(var d=0,h=f.length;h>d;d++)(g=f[d])&&a.call(g,g.__data__,d,n)&&c.push(g)}return F(m)};Y.order=function(){for(var a=-1,c=this.length;++a<c;)for(var f,g=this[a],m=g.length-1,n=g[m];0<=--m;)(f=g[m])&&(n&&n!==f.nextSibling&&n.parentNode.insertBefore(f,n),n=f);return this};Y.sort=function(a){a=
ka.apply(this,arguments);for(var c=-1,f=this.length;++c<f;)this[c].sort(a);return this.order()};Y.each=function(a){return Z(this,function(c,f,g){a.call(c,c.__data__,f,g)})};Y.call=function(a){var c=Sa(arguments);return a.apply(c[0]=this,c),this};Y.empty=function(){return!this.node()};Y.node=function(){for(var a=0,c=this.length;c>a;a++)for(var f=this[a],g=0,m=f.length;m>g;g++){var n=f[g];if(n)return n}return null};Y.size=function(){var a=0;return Z(this,function(){++a}),a};var Va=[];u.selection.enter=
za;u.selection.enter.prototype=Va;Va.append=Y.append;Va.empty=Y.empty;Va.node=Y.node;Va.call=Y.call;Va.size=Y.size;Va.select=function(a){for(var c,f,g,m,n,b=[],d=-1,h=this.length;++d<h;){g=(m=this[d]).update;b.push(c=[]);c.parentNode=m.parentNode;for(var e=-1,p=m.length;++e<p;)(n=m[e])?(c.push(g[e]=f=a.call(m.parentNode,n.__data__,e,d)),f.__data__=n.__data__):c.push(null)}return F(b)};Va.insert=function(a,c){return 2>arguments.length&&(c=pa(this)),Y.insert.call(this,a,c)};u.select=function(a){var c;
return"string"==typeof a?(c=[Wc(a,Da)],c.parentNode=Da.documentElement):(c=[a],c.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),F([c])};u.selectAll=function(a){var c;return"string"==typeof a?(c=Sa(Xc(a,Da)),c.parentNode=Da.documentElement):(c=Sa(a),c.parentNode=null),F([c])};Y.on=function(a,c,f){var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(c=!1);for(f in a)this.each(X(f,a[f],c));return this}if(2>g)return(g=this.node()["__on"+a])&&g._;f=!1}return this.each(X(a,c,f))};
var $c=u.map({mouseenter:"mouseover",mouseleave:"mouseout"});Da&&$c.forEach(function(a){"on"+a in Da&&$c.remove(a)});var hb,zg=0;u.mouse=function(a){return V(a,T())};var ad=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;u.touch=function(a,c,f){if(3>arguments.length&&(f=c,c=T().changedTouches),c)for(var g,m=0,n=c.length;n>m;++m)if((g=c[m]).identifier===f)return V(a,g)};u.behavior.drag=function(){function a(){this.on("mousedown.drag",m).on("touchstart.drag",n)}function c(a,c,m,n,b){return function(){var d,
h=u.event.target.correspondingElement||u.event.target,e=this.parentNode,p=f.of(this,arguments),k=0,l=a(),t=".drag"+(null==l?"":"-"+l),v=u.select(m(h)).on(n+t,function(){var a,f,g=c(e,l);g&&(a=g[0]-q[0],f=g[1]-q[1],k|=a|f,q=g,p({type:"drag",x:g[0]+d[0],y:g[1]+d[1],dx:a,dy:f}))}).on(b+t,function(){c(e,l)&&(v.on(n+t,null).on(b+t,null),r(k),p({type:"dragend"}))}),r=E(h),q=c(e,l);g?(d=g.apply(this,arguments),d=[d.x-q[0],d.y-q[1]]):d=[0,0];p({type:"dragstart"})}}var f=ba(a,"drag","dragstart","dragend"),
g=null,m=c(H,u.mouse,e,"mousemove","mouseup"),n=c(Oa,u.touch,A,"touchmove","touchend");return a.origin=function(c){return arguments.length?(g=c,a):g},u.rebind(a,f,"on")};u.touches=function(a,c){return 2>arguments.length&&(c=T().touches),c?Sa(c).map(function(c){var g=V(a,c);return g.identifier=c.identifier,g}):[]};var K=1E-6,sc=K*K,Q=Math.PI,Ka=2*Q,ti=Ka-K,qa=Q/2,R=Q/180,ja=180/Q,Vb=Math.SQRT2;u.interpolateZoom=function(a,c){var f,g=a[0],m=a[1],n=a[2];a=c[2];var b=c[0]-g,d=c[1]-m,h=b*b+d*d;if(sc>h)f=
Math.log(a/n)/Vb,a=function(a){return[g+a*b,m+a*d,n*Math.exp(Vb*a*f)]};else{var e=Math.sqrt(h);c=(a*a-n*n+4*h)/(4*n*e);a=(a*a-n*n-4*h)/(4*a*e);var p=Math.log(Math.sqrt(c*c+1)-c);f=(Math.log(Math.sqrt(a*a+1)-a)-p)/Vb;a=function(a){a*=f;var c=Ia(p),h=n/(2*e),k,l=Vb*a+p;k=((l=Math.exp(2*l))-1)/(l+1);var t=p,l=((t=Math.exp(t))-1/t)/2,h=h*(c*k-l);return[g+h*b,m+h*d,n*c/Ia(Vb*a+p)]}}return a.duration=1E3*f,a};u.behavior.zoom=function(){function a(a){a.on(G,p).on(Yd+".zoom",l).on("dblclick.zoom",t).on(H,
k)}function c(a){return[(a[0]-z.x)/z.k,(a[1]-z.y)/z.k]}function f(a){z.k=Math.max(I[0],Math.min(I[1],a))}function g(a,c){c=[c[0]*z.k+z.x,c[1]*z.k+z.y];z.x+=a[0]-c[0];z.y+=a[1]-c[1]}function m(c,m,n,b){c.__chart__={x:z.x,y:z.y,k:z.k};f(Math.pow(2,b));g(r=m,n);c=u.select(c);0<V&&(c=c.transition().duration(V));c.call(a.event)}function n(){C&&C.domain(w.range().map(function(a){return(a-z.x)/z.k}).map(w.invert));D&&D.domain(F.range().map(function(a){return(a-z.y)/z.k}).map(F.invert))}function b(a){N++||
a({type:"zoomstart"})}function d(a){n();a({type:"zoom",scale:z.k,translate:[z.x,z.y]})}function h(a){--N||(a({type:"zoomend"}),r=null)}function p(){var a=this,f=U.of(a,arguments),m=0,n=u.select(e(a)).on(P,function(){m=1;g(u.mouse(a),k);d(f)}).on(L,function(){n.on(P,null).on(L,null);l(m);h(f)}),k=c(u.mouse(a)),l=E(a);Gc.call(a);b(f)}function k(){function a(){var f=u.touches(r);return t=z.k,f.forEach(function(a){a.identifier in q&&(q[a.identifier]=c(a))}),f}function n(){var c=u.event.target;u.select(c).on(C,
e).on(Ma,l);F.push(c);for(var c=u.event.changedTouches,f=0,g=c.length;g>f;++f)q[c[f].identifier]=null;f=a();g=Date.now();1===f.length?(500>g-A&&(c=f[0],m(r,c,q[c.identifier],Math.floor(Math.log(z.k)/Math.LN2)+1),W()),A=g):1<f.length&&(c=f[0],g=f[1],f=c[0]-g[0],c=c[1]-g[1],y=f*f+c*c)}function e(){var a,c,m,n,b=u.touches(r);Gc.call(r);for(var h=0,p=b.length;p>h;++h,n=null)if(m=b[h],n=q[m.identifier]){if(c)break;a=m;c=n}if(n){var k=(k=m[0]-a[0])*k+(k=m[1]-a[1])*k,b=y&&Math.sqrt(k/y);a=[(a[0]+m[0])/2,
(a[1]+m[1])/2];c=[(c[0]+n[0])/2,(c[1]+n[1])/2];f(b*t)}A=null;g(a,c);d(v)}function l(){if(u.event.touches.length){for(var c=u.event.changedTouches,f=0,g=c.length;g>f;++f)delete q[c[f].identifier];for(var m in q)return void a()}u.selectAll(F).on(w,null);D.on(G,p).on(H,k);Na();h(v)}var t,r=this,v=U.of(r,arguments),q={},y=0,w=".zoom-"+u.event.changedTouches[0].identifier,C="touchmove"+w,Ma="touchend"+w,F=[],D=u.select(r),Na=E(r);n();b(v);D.on(G,null).on(H,n)}function l(){var a=U.of(this,arguments);y?
clearTimeout(y):(Gc.call(this),v=c(r=q||u.mouse(this)),b(a));y=setTimeout(function(){y=null;h(a)},50);W();f(Math.pow(2,.002*Hc())*z.k);g(r,v);d(a)}function t(){var a=u.mouse(this),f=Math.log(z.k)/Math.LN2;m(this,a,c(a),u.event.shiftKey?Math.ceil(f)-1:Math.floor(f)+1)}var v,r,q,y,A,w,C,F,D,z={x:0,y:0,k:1},O=[960,500],I=hg,V=250,N=0,G="mousedown.zoom",P="mousemove.zoom",L="mouseup.zoom",H="touchstart.zoom",U=ba(a,"zoomstart","zoom","zoomend");return Yd||(Yd="onwheel"in Da?(Hc=function(){return-u.event.deltaY*
(u.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Da?(Hc=function(){return u.event.wheelDelta},"mousewheel"):(Hc=function(){return-u.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=U.of(this,arguments),c=z;rb?u.select(this).transition().each("start.zoom",function(){z=this.__chart__||{x:0,y:0,k:1};b(a)}).tween("zoom:zoom",function(){var f=O[0],g=O[1],m=r?r[0]:f/2,n=r?r[1]:g/2,b=u.interpolateZoom([(m-z.x)/z.k,(n-z.y)/z.k,f/z.k],[(m-c.x)/c.k,(n-c.y)/c.k,f/c.k]);return function(c){c=
b(c);var g=f/c[2];this.__chart__=z={x:m-c[0]*g,y:n-c[1]*g,k:g};d(a)}}).each("interrupt.zoom",function(){h(a)}).each("end.zoom",function(){h(a)}):(this.__chart__=z,b(a),d(a),h(a))})},a.translate=function(c){return arguments.length?(z={x:+c[0],y:+c[1],k:z.k},n(),a):[z.x,z.y]},a.scale=function(c){return arguments.length?(z={x:z.x,y:z.y,k:null},f(+c),n(),a):z.k},a.scaleExtent=function(c){return arguments.length?(I=null==c?hg:[+c[0],+c[1]],a):I},a.center=function(c){return arguments.length?(q=c&&[+c[0],
+c[1]],a):q},a.size=function(c){return arguments.length?(O=c&&[+c[0],+c[1]],a):O},a.duration=function(c){return arguments.length?(V=+c,a):V},a.x=function(c){return arguments.length?(C=c,w=c.copy(),z={x:0,y:0,k:1},a):C},a.y=function(c){return arguments.length?(D=c,F=c.copy(),z={x:0,y:0,k:1},a):D},u.rebind(a,U,"on")};var Hc,Yd,hg=[0,1/0];u.color=la;la.prototype.toString=function(){return this.rgb()+""};u.hsl=aa;var Zd=aa.prototype=new la;Zd.brighter=function(a){return a=Math.pow(.7,arguments.length?
a:1),new aa(this.h,this.s,this.l/a)};Zd.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new aa(this.h,this.s,a*this.l)};Zd.rgb=function(){return $a(this.h,this.s,this.l)};u.hcl=Ha;var $d=Ha.prototype=new la;$d.brighter=function(a){return new Ha(this.h,this.c,Math.min(100,this.l+Ic*(arguments.length?a:1)))};$d.darker=function(a){return new Ha(this.h,this.c,Math.max(0,this.l-Ic*(arguments.length?a:1)))};$d.rgb=function(){return sb(this.h,this.c,this.l).rgb()};u.lab=ma;var Ic=18,le=.95047,
me=1,ne=1.08883,ae=ma.prototype=new la;ae.brighter=function(a){return new ma(Math.min(100,this.l+Ic*(arguments.length?a:1)),this.a,this.b)};ae.darker=function(a){return new ma(Math.max(0,this.l-Ic*(arguments.length?a:1)),this.a,this.b)};ae.rgb=function(){return Fb(this.l,this.a,this.b)};u.rgb=Ea;var Jc=Ea.prototype=new la;Jc.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var c=this.r,f=this.g,g=this.b;return c||f||g?(c&&30>c&&(c=30),f&&30>f&&(f=30),g&&30>g&&(g=30),new Ea(Math.min(255,c/
a),Math.min(255,f/a),Math.min(255,g/a))):new Ea(30,30,30)};Jc.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ea(a*this.r,a*this.g,a*this.b)};Jc.hsl=function(){return ie(this.r,this.g,this.b)};Jc.toString=function(){return"#"+tb(this.r)+tb(this.g)+tb(this.b)};var Yb=u.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,
cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,
deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,
lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,
mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,
royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Yb.forEach(function(a,c){Yb.set(a,new Ea(c>>16,c>>8&255,255&
c))});u.functor=fa;u.xhr=gd(A);u.dsv=function(a,c){function f(a,f,n){3>arguments.length&&(n=f,f=null);var b=Zb(a,c,null==f?g:m(f),n);return b.row=function(a){return arguments.length?b.response(null==(f=a)?g:m(a)):f},b}function g(a){return f.parse(a.responseText)}function m(a){return function(c){return f.parse(c.responseText,a)}}function n(c){return c.map(b).join(a)}function b(a){return d.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var d=new RegExp('["'+a+"\n]"),h=a.charCodeAt(0);return f.parse=function(a,
c){var g;return f.parseRows(a,function(a,f){if(g)return g(a,f-1);var m=new Function("d","return {"+a.map(function(a,c){return JSON.stringify(a)+": d["+c+"]"}).join(",")+"}");g=c?function(a,f){return c(m(a),f)}:m})},f.parseRows=function(a,c){function f(){if(p>=e)return b;if(m)return m=!1,n;var c=p;if(34===a.charCodeAt(c)){for(var g=c;g++<e;)if(34===a.charCodeAt(g)){if(34!==a.charCodeAt(g+1))break;++g}p=g+2;var d=a.charCodeAt(g+1);return 13===d?(m=!0,10===a.charCodeAt(g+2)&&++p):10===d&&(m=!0),a.slice(c+
1,g).replace(/""/g,'"')}for(;e>p;){d=a.charCodeAt(p++);g=1;if(10===d)m=!0;else if(13===d)m=!0,10===a.charCodeAt(p)&&(++p,++g);else if(d!==h)continue;return a.slice(c,p-g)}return a.slice(c)}for(var g,m,n={},b={},d=[],e=a.length,p=0,k=0;(g=f())!==b;){for(var l=[];g!==n&&g!==b;)l.push(g),g=f();c&&null==(l=c(l,k++))||d.push(l)}return d},f.format=function(c){if(Array.isArray(c[0]))return f.formatRows(c);var g=new C,m=[];return c.forEach(function(a){for(var c in a)g.has(c)||m.push(g.add(c))}),[m.map(b).join(a)].concat(c.map(function(c){return m.map(function(a){return b(c[a])}).join(a)})).join("\n")},
f.formatRows=function(a){return a.map(n).join("\n")},f};u.csv=u.dsv(",","text/csv");u.tsv=u.dsv("\t","text/tab-separated-values");var bc,ac,cc,dc,oe=this[r(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};u.timer=function(){$b.apply(this,arguments)};u.timer.flush=function(){pe();qe()};u.round=function(a,c){return c?Math.round(a*(c=Math.pow(10,c)))/c:Math.round(a)};var ui="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,c){var f=Math.pow(10,3*S(8-c));return{scale:8<c?
function(a){return a/f}:function(a){return a*f},symbol:a}});u.formatPrefix=function(a,c){var f=0;return(a=+a)&&(0>a&&(a*=-1),c&&(a=u.round(a,id(a,c))),f=1+Math.floor(1E-12+Math.log(a)/Math.LN10),f=Math.max(-24,Math.min(24,3*Math.floor((f-1)/3)))),ui[8+f/3]};var re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Cg=u.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},
X:function(a){return a.toString(16).toUpperCase()},g:function(a,c){return a.toPrecision(c)},e:function(a,c){return a.toExponential(c)},f:function(a,c){return a.toFixed(c)},r:function(a,c){return(a=u.round(a,id(a,c))).toFixed(Math.max(0,Math.min(20,id(a*(1+1E-15),c))))}}),M=u.time={},Ba=Date;Wa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Za.setUTCDate.apply(this._,arguments)},setDay:function(){Za.setUTCDay.apply(this._,arguments)},setFullYear:function(){Za.setUTCFullYear.apply(this._,
arguments)},setHours:function(){Za.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Za.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Za.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Za.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Za.setUTCSeconds.apply(this._,arguments)},setTime:function(){Za.setTime.apply(this._,arguments)}};var Za=Date.prototype;M.year=ib(function(a){return a=M.day(a),a.setMonth(0,1),a},function(a,c){a.setFullYear(a.getFullYear()+
c)},function(a){return a.getFullYear()});M.years=M.year.range;M.years.utc=M.year.utc.range;M.day=ib(function(a){var c=new Ba(2E3,0);return c.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),c},function(a,c){a.setDate(a.getDate()+c)},function(a){return a.getDate()-1});M.days=M.day.range;M.days.utc=M.day.utc.range;M.dayOfYear=function(a){var c=M.year(a);return Math.floor((a-c-6E4*(a.getTimezoneOffset()-c.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
c){c=7-c;var f=M[a]=ib(function(a){return(a=M.day(a)).setDate(a.getDate()-(a.getDay()+c)%7),a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var f=M.year(a).getDay();return Math.floor((M.dayOfYear(a)+(f+c)%7)/7)-(f!==c)});M[a+"s"]=f.range;M[a+"s"].utc=f.utc.range;M[a+"OfYear"]=function(a){var f=M.year(a).getDay();return Math.floor((M.dayOfYear(a)+(f+c)%7)/7)}});M.week=M.sunday;M.weeks=M.sunday.range;M.weeks.utc=M.sunday.utc.range;M.weekOfYear=M.sundayOfYear;var te={"-":"",_:" ",
0:"0"},ra=/^\s*\d+/,we=/^%/;u.locale=function(a){return{numberFormat:Bg(a),timeFormat:Eg(a)}};var ig=u.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
u.format=ig.numberFormat;u.geo={};kd.prototype={s:0,t:0,add:function(a){ye(a,this.t,Kc);ye(Kc.s,this.s,this);this.s?this.t+=Kc.t:this.s=Kc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Kc=new kd;u.geo.stream=function(a,c){a&&jg.hasOwnProperty(a.type)?jg[a.type](a,c):hc(a,c)};var jg={Feature:function(a,c){hc(a.geometry,c)},FeatureCollection:function(a,c){a=a.features;for(var f=-1,g=a.length;++f<g;)hc(a[f].geometry,c)}},ze={Sphere:function(a,c){c.sphere()},Point:function(a,
c){a=a.coordinates;c.point(a[0],a[1],a[2])},MultiPoint:function(a,c){for(var f=a.coordinates,g=-1,m=f.length;++g<m;)a=f[g],c.point(a[0],a[1],a[2])},LineString:function(a,c){ld(a.coordinates,c,0)},MultiLineString:function(a,c){a=a.coordinates;for(var f=-1,g=a.length;++f<g;)ld(a[f],c,0)},Polygon:function(a,c){Ae(a.coordinates,c)},MultiPolygon:function(a,c){a=a.coordinates;for(var f=-1,g=a.length;++f<g;)Ae(a[f],c)},GeometryCollection:function(a,c){a=a.geometries;for(var f=-1,g=a.length;++f<g;)hc(a[f],
c)}};u.geo.area=function(a){return Lc=0,u.geo.stream(a,Ja),Lc};var Lc,jb=new kd,Ja={sphere:function(){Lc+=4*Q},point:H,lineStart:H,lineEnd:H,polygonStart:function(){jb.reset();Ja.lineStart=Tg},polygonEnd:function(){var a=2*jb;Lc+=0>a?4*Q+a:a;Ja.lineStart=Ja.lineEnd=Ja.point=H}};u.geo.bounds=function(){function a(a,c){A.push(w=[p=a,l=a]);k>c&&(k=c);c>t&&(t=c)}function c(c,f){var g=kb([c*R,f*R]);if(E){var m=ub(E,g),m=ub([m[1],-m[0],0],m);kc(m);var m=lc(m),n=c-r,b=0<n?1:-1,h=m[0]*ja*b,n=180<S(n);n^(h>
b*r&&b*c>h)?(f=m[1]*ja,f>t&&(t=f)):(h=(h+360)%360-180,n^(h>b*r&&b*c>h))?(f=-m[1]*ja,k>f&&(k=f)):(k>f&&(k=f),f>t&&(t=f));n?r>c?d(p,c)>d(p,l)&&(l=c):d(c,l)>d(p,l)&&(p=c):l>=p?(p>c&&(p=c),c>l&&(l=c)):c>r?d(p,c)>d(p,l)&&(l=c):d(c,l)>d(p,l)&&(p=c)}else a(c,f);E=g;r=c}function f(){z.point=c}function g(){w[0]=p;w[1]=l;z.point=a;E=null}function m(a,f){if(E){var g=a-r;y+=180<S(g)?g+(0<g?360:-360):g}else v=a,q=f;Ja.point(a,f);c(a,f)}function n(){Ja.lineStart()}function b(){m(v,q);Ja.lineEnd();S(y)>K&&(p=-(l=
180));w[0]=p;w[1]=l;E=null}function d(a,c){return 0>(c-=a)?c+360:c}function h(a,c){return a[0]-c[0]}function e(a,c){return c[0]<=c[1]?c[0]<=a&&a<=c[1]:a<c[0]||c[1]<a}var p,k,l,t,r,v,q,E,y,A,w,z={point:a,lineStart:f,lineEnd:g,polygonStart:function(){z.point=m;z.lineStart=n;z.lineEnd=b;y=0;Ja.polygonStart()},polygonEnd:function(){Ja.polygonEnd();z.point=a;z.lineStart=f;z.lineEnd=g;0>jb?(p=-(l=180),k=-(t=90)):y>K?t=90:-K>y&&(k=-90);w[0]=p;w[1]=l}};return function(a){t=l=-(p=k=1/0);A=[];u.geo.stream(a,
z);if(a=A.length){A.sort(h);for(var c,f=1,g=A[0],m=[g];a>f;++f)c=A[f],e(c[0],g)||e(c[1],g)?(d(g[0],c[1])>d(g[0],g[1])&&(g[1]=c[1]),d(c[0],g[1])>d(g[0],g[1])&&(g[0]=c[0])):m.push(g=c);var n,b=-(1/0);a=m.length-1;f=0;for(g=m[a];a>=f;g=c,++f)c=m[f],(n=d(g[1],c[0]))>b&&(b=n,p=c[0],l=g[1])}return A=w=null,p===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[p,k],[l,t]]}}();u.geo.centroid=function(a){Ib=nc=lb=mb=Xa=ab=bb=Ta=vb=wb=cb=0;u.geo.stream(a,Pa);a=vb;var c=wb,f=cb,g=a*a+c*c+f*f;return sc>g&&(a=ab,c=bb,f=Ta,
K>nc&&(a=lb,c=mb,f=Xa),g=a*a+c*c+f*f,sc>g)?[NaN,NaN]:[Math.atan2(c,a)*ja,ha(f/Math.sqrt(g))*ja]};var Ib,nc,lb,mb,Xa,ab,bb,Ta,vb,wb,cb,Pa={sphere:H,point:nd,lineStart:Be,lineEnd:Ce,polygonStart:function(){Pa.lineStart=Ug},polygonEnd:function(){Pa.lineStart=Be}},Se=Ge(Jb,function(a){var c,f=NaN,g=NaN,m=NaN;return{lineStart:function(){a.lineStart();c=1},point:function(n,b){var d=0<n?Q:-Q,h=S(n-f);if(S(h-Q)<K)a.point(f,g=0<(g+b)/2?qa:-qa),a.point(m,g),a.lineEnd(),a.lineStart(),a.point(d,g),a.point(n,
g),c=0;else if(m!==d&&h>=Q){S(f-m)<K&&(f-=m*K);S(n-d)<K&&(n-=d*K);var h=f,e=g,p=n,k,l,t=Math.sin(h-p);g=S(t)>K?Math.atan((Math.sin(e)*(l=Math.cos(b))*Math.sin(p)-Math.sin(b)*(k=Math.cos(e))*Math.sin(h))/(k*l*t)):(e+b)/2;a.point(m,g);a.lineEnd();a.lineStart();a.point(d,g);c=0}a.point(f=n,g=b);m=d},lineEnd:function(){a.lineEnd();f=g=NaN},clean:function(){return 2-c}}},function(a,c,f,g){null==a?(f*=qa,g.point(-Q,f),g.point(0,f),g.point(Q,f),g.point(Q,0),g.point(Q,-f),g.point(0,-f),g.point(-Q,-f),g.point(-Q,
0),g.point(-Q,f)):S(a[0]-c[0])>K?(a=a[0]<c[0]?Q:-Q,f=f*a/2,g.point(-a,f),g.point(0,f),g.point(a,f)):g.point(c[0],c[1])},[-Q,-Q/2]),pc=1E9;u.geo.clipExtent=function(){var a,c,f,g,m,n,b={stream:function(a){return m&&(m.valid=!1),m=n(a),m.valid=!0,m},extent:function(d){return arguments.length?(n=Je(a=+d[0][0],c=+d[0][1],f=+d[1][0],g=+d[1][1]),m&&(m.valid=!1,m=null),b):[[a,c],[f,g]]}};return b.extent([[0,0],[960,500]])};(u.geo.conicEqualArea=function(){return pd(Ke)}).raw=Ke;u.geo.albers=function(){return u.geo.conicEqualArea().rotate([96,
0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};u.geo.albersUsa=function(){function a(a){var n=a[0];a=a[1];return c=null,f(n,a),c||(g(n,a),c)||m(n,a),c}var c,f,g,m,n=u.geo.albers(),b=u.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=u.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(a,f){c=[a,f]}};return a.invert=function(a){var c=n.scale(),f=n.translate(),g=(a[0]-f[0])/c,c=(a[1]-f[1])/c;return(.12<=c&&.234>c&&-.425<=
g&&-.214>g?b:.166<=c&&.234>c&&-.214<=g&&-.115>g?d:n).invert(a)},a.stream=function(a){var c=n.stream(a),f=b.stream(a),g=d.stream(a);return{point:function(a,m){c.point(a,m);f.point(a,m);g.point(a,m)},sphere:function(){c.sphere();f.sphere();g.sphere()},lineStart:function(){c.lineStart();f.lineStart();g.lineStart()},lineEnd:function(){c.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){c.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){c.polygonEnd();f.polygonEnd();g.polygonEnd()}}},
a.precision=function(c){return arguments.length?(n.precision(c),b.precision(c),d.precision(c),a):n.precision()},a.scale=function(c){return arguments.length?(n.scale(c),b.scale(.35*c),d.scale(c),a.translate(n.translate())):n.scale()},a.translate=function(c){if(!arguments.length)return n.translate();var e=n.scale(),p=+c[0],k=+c[1];return f=n.translate(c).clipExtent([[p-.455*e,k-.238*e],[p+.455*e,k+.238*e]]).stream(h).point,g=b.translate([p-.307*e,k+.201*e]).clipExtent([[p-.425*e+K,k+.12*e+K],[p-.214*
e-K,k+.234*e-K]]).stream(h).point,m=d.translate([p-.205*e,k+.212*e]).clipExtent([[p-.214*e+K,k+.166*e+K],[p-.115*e-K,k+.234*e-K]]).stream(h).point,a},a.scale(1070)};var be,rd,Mc,Nc,Oc,Pc,db={point:H,lineStart:H,lineEnd:H,polygonStart:function(){rd=0;db.lineStart=Yg},polygonEnd:function(){db.lineStart=db.lineEnd=db.point=H;be+=S(rd/2)}},vi={point:function(a,c){Mc>a&&(Mc=a);a>Oc&&(Oc=a);Nc>c&&(Nc=c);c>Pc&&(Pc=c)},lineStart:H,lineEnd:H,polygonStart:H,polygonEnd:H},Qa={point:nb,lineStart:Me,lineEnd:Ne,
polygonStart:function(){Qa.lineStart=$g},polygonEnd:function(){Qa.point=nb;Qa.lineStart=Me;Qa.lineEnd=Ne}};u.geo.path=function(){function a(a){return a&&("function"==typeof b&&m.pointRadius(+b.apply(this,arguments)),n&&n.valid||(n=g(m)),u.geo.stream(a,n)),m.result()}var c,f,g,m,n,b=4.5;return a.area=function(a){return be=0,u.geo.stream(a,g(db)),be},a.centroid=function(a){return lb=mb=Xa=ab=bb=Ta=vb=wb=cb=0,u.geo.stream(a,g(Qa)),cb?[vb/cb,wb/cb]:Ta?[ab/Ta,bb/Ta]:Xa?[lb/Xa,mb/Xa]:[NaN,NaN]},a.bounds=
function(a){return Oc=Pc=-(Mc=Nc=1/0),u.geo.stream(a,g(vi)),[[Mc,Nc],[Oc,Pc]]},a.projection=function(f){return arguments.length?(g=(c=f)?f.stream||bh(f):A,n=null,a):c},a.context=function(c){return arguments.length?(m=null==(f=c)?new Zg:new ah(c),"function"!=typeof b&&m.pointRadius(b),n=null,a):f},a.pointRadius=function(c){return arguments.length?(b="function"==typeof c?c:(m.pointRadius(+c),+c),a):b},a.projection(u.geo.albersUsa()).context(null)};u.geo.transform=function(a){return{stream:function(c){c=
new Re(c);for(var f in a)c[f]=a[f];return c}}};Re.prototype={point:function(a,c){this.stream.point(a,c)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};u.geo.projection=eb;u.geo.projectionMutator=qd;(u.geo.equirectangular=function(){return eb(Kb)}).raw=Kb.invert=Kb;u.geo.rotation=function(a){function c(c){return c=a(c[0]*
R,c[1]*R),c[0]*=ja,c[1]*=ja,c}return a=sd(a[0]%360*R,a[1]*R,2<a.length?a[2]*R:0),c.invert=function(c){return c=a.invert(c[0]*R,c[1]*R),c[0]*=ja,c[1]*=ja,c},c};Te.invert=Kb;u.geo.circle=function(){function a(){var a="function"==typeof g?g.apply(this,arguments):g,c=sd(-a[0]*R,-a[1]*R,0).invert,m=[];return f(null,null,1,{point:function(a,f){m.push(a=c(a,f));a[0]*=ja;a[1]*=ja}}),{type:"Polygon",coordinates:[m]}}var c,f,g=[0,0],m=6;return a.origin=function(c){return arguments.length?(g=c,a):g},a.angle=
function(g){return arguments.length?(f=od((c=+g)*R,m*R),a):c},a.precision=function(g){return arguments.length?(f=od(c*R,(m=+g)*R),a):m},a.angle(90)};u.geo.distance=function(a,c){var f,g=(c[0]-a[0])*R,m=a[1]*R,n=c[1]*R;c=Math.cos(g);a=Math.sin(m);var m=Math.cos(m),b=Math.sin(n),n=Math.cos(n);return Math.atan2(Math.sqrt((f=n*Math.sin(g))*f+(f=m*b-a*n*c)*f),a*b+m*n*c)};u.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return u.range(Math.ceil(n/q)*q,
m,q).map(l).concat(u.range(Math.ceil(e/E)*E,h,E).map(t)).concat(u.range(Math.ceil(g/r)*r,f,r).filter(function(a){return S(a%q)>K}).map(p)).concat(u.range(Math.ceil(d/v)*v,b,v).filter(function(a){return S(a%E)>K}).map(k))}var f,g,m,n,b,d,h,e,p,k,l,t,r=10,v=r,q=90,E=360,y=2.5;return a.lines=function(){return c().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[l(n).concat(t(h).slice(1),l(m).reverse().slice(1),t(e).reverse().slice(1))]}},
a.extent=function(c){return arguments.length?a.majorExtent(c).minorExtent(c):a.minorExtent()},a.majorExtent=function(c){return arguments.length?(n=+c[0][0],m=+c[1][0],e=+c[0][1],h=+c[1][1],n>m&&(c=n,n=m,m=c),e>h&&(c=e,e=h,h=c),a.precision(y)):[[n,e],[m,h]]},a.minorExtent=function(c){return arguments.length?(g=+c[0][0],f=+c[1][0],d=+c[0][1],b=+c[1][1],g>f&&(c=g,g=f,f=c),d>b&&(c=d,d=b,b=c),a.precision(y)):[[g,d],[f,b]]},a.step=function(c){return arguments.length?a.majorStep(c).minorStep(c):a.minorStep()},
a.majorStep=function(c){return arguments.length?(q=+c[0],E=+c[1],a):[q,E]},a.minorStep=function(c){return arguments.length?(r=+c[0],v=+c[1],a):[r,v]},a.precision=function(c){return arguments.length?(y=+c,p=Ye(d,b,90),k=Ze(g,f,y),l=Ye(e,h,90),t=Ze(n,m,y),a):y},a.majorExtent([[-180,-90+K],[180,90-K]]).minorExtent([[-180,-80-K],[180,80+K]])};u.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||g.apply(this,arguments),f||m.apply(this,arguments)]}}var c,f,g=td,m=ud;return a.distance=
function(){return u.geo.distance(c||g.apply(this,arguments),f||m.apply(this,arguments))},a.source=function(f){return arguments.length?(g=f,c="function"==typeof f?null:f,a):g},a.target=function(c){return arguments.length?(m=c,f="function"==typeof c?null:c,a):m},a.precision=function(){return arguments.length?a:0},a};u.geo.interpolate=function(a,c){return ch(a[0]*R,a[1]*R,c[0]*R,c[1]*R)};u.geo.length=function(a){return ce=0,u.geo.stream(a,Eb),ce};var ce,Eb={sphere:H,point:H,lineStart:function(){function a(a,
b){var d=Math.sin(b*=R);b=Math.cos(b);var h=S((a*=R)-c),e=Math.cos(h);ce+=Math.atan2(Math.sqrt((h=b*Math.sin(h))*h+(h=g*d-f*b*e)*h),f*d+g*b*e);c=a;f=d;g=b}var c,f,g;Eb.point=function(m,b){c=m*R;f=Math.sin(b*=R);g=Math.cos(b);Eb.point=a};Eb.lineEnd=function(){Eb.point=Eb.lineEnd=H}},lineEnd:H,polygonStart:H,polygonEnd:H},kg=Lb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(u.geo.azimuthalEqualArea=function(){return eb(kg)}).raw=kg;var lg=Lb(function(a){return(a=Math.acos(a))&&
a/Math.sin(a)},A);(u.geo.azimuthalEquidistant=function(){return eb(lg)}).raw=lg;(u.geo.conicConformal=function(){return pd($e)}).raw=$e;(u.geo.conicEquidistant=function(){return pd(af)}).raw=af;var mg=Lb(function(a){return 1/a},Math.atan);(u.geo.gnomonic=function(){return eb(mg)}).raw=mg;qc.invert=function(a,c){return[a,2*Math.atan(Math.exp(c))-qa]};(u.geo.mercator=function(){return bf(qc)}).raw=qc;var ng=Lb(function(){return 1},Math.asin);(u.geo.orthographic=function(){return eb(ng)}).raw=ng;var og=
Lb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(u.geo.stereographic=function(){return eb(og)}).raw=og;vd.invert=function(a,c){return[-c,2*Math.atan(Math.exp(a))-qa]};(u.geo.transverseMercator=function(){var a=bf(vd),c=a.center,f=a.rotate;return a.center=function(a){return a?c([-a[1],a[0]]):(a=c(),[a[1],-a[0]])},a.rotate=function(a){return a?f([a[0],a[1],2<a.length?a[2]+90:90]):(a=f(),[a[0],a[1],a[2]-90])},f([0,0,90])}).raw=vd;u.geom={};u.geom.hull=function(a){function c(a){if(3>
a.length)return[];var c,b=fa(f),d=fa(g),h=a.length,e=[],p=[];for(c=0;h>c;c++)e.push([+b.call(this,a[c],c),+d.call(this,a[c],c),c]);e.sort(dh);for(c=0;h>c;c++)p.push([e[c][0],-e[c][1]]);var b=cf(e),p=cf(p),d=p[0]===b[0],h=p[p.length-1]===b[b.length-1],k=[];for(c=b.length-1;0<=c;--c)k.push(a[e[b[c]][2]]);for(c=+d;c<p.length-h;++c)k.push(a[e[p[c]][2]]);return k}var f=xb,g=Mb;return arguments.length?c(a):(c.x=function(a){return arguments.length?(f=a,c):f},c.y=function(a){return arguments.length?(g=a,
c):g},c)};u.geom.polygon=function(a){return Wb(a,Qc),a};var Qc=u.geom.polygon.prototype=[];Qc.area=function(){for(var a,c=-1,f=this.length,g=this[f-1],b=0;++c<f;)a=g,g=this[c],b+=a[1]*g[0]-a[0]*g[1];return.5*b};Qc.centroid=function(a){var c,f,g=-1,b=this.length,n=0,d=0,h=this[b-1];for(arguments.length||(a=-1/(6*this.area()));++g<b;)c=h,h=this[g],f=c[0]*h[1]-h[0]*c[1],n+=(c[0]+h[0])*f,d+=(c[1]+h[1])*f;return[n*a,d*a]};Qc.clip=function(a){for(var c,f,g,b,n,d,h=df(a),e=-1,p=this.length-df(this),k=this[p-
1];++e<p;){c=a.slice();a.length=0;b=this[e];n=c[(g=c.length-h)-1];for(f=-1;++f<g;)d=c[f],wd(d,k,b)?(wd(n,k,b)||a.push(xd(n,d,k,b)),a.push(d)):wd(n,k,b)&&a.push(xd(n,d,k,b)),n=d;h&&a.push(a[0]);k=b}return a};var Bb,ob,zb,zd,Nb,ff=[],kf=[];hf.prototype.prepare=function(){for(var a,c=this.edges,f=c.length;f--;)a=c[f].edge,a.b&&a.a||c.splice(f,1);return c.sort(jf),c.length};uc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?
this.edge.b:this.edge.a}};Ad.prototype={insert:function(a,c){var f,g;if(a){if(c.P=a,c.N=a.N,a.N&&(a.N.P=c),a.N=c,a.R){for(a=a.R;a.L;)a=a.L;a.L=c}else a.R=c;f=a}else this._?(a=mf(this._),c.P=null,c.N=a,a.P=a.L=c,f=a):(c.P=c.N=null,this._=c,f=null);c.L=c.R=null;c.U=f;c.C=!0;for(a=c;f&&f.C;)c=f.U,f===c.L?(g=c.R,g&&g.C?(f.C=g.C=!1,c.C=!0,a=c):(a===f.R&&(Pb(this,f),a=f,f=a.U),f.C=!1,c.C=!0,Qb(this,c))):(g=c.L,g&&g.C?(f.C=g.C=!1,c.C=!0,a=c):(a===f.L&&(Qb(this,f),a=f,f=a.U),f.C=!1,c.C=!0,Pb(this,c))),f=
a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var c,f,g,b=a.U,n=a.L,d=a.R;if(f=n?d?mf(d):n:d,b?b.L===a?b.L=f:b.R=f:this._=f,n&&d?(g=f.C,f.C=a.C,f.L=n,n.U=f,f!==d?(b=f.U,f.U=a.U,a=f.R,b.L=a,f.R=d,d.U=f):(f.U=b,b=f,a=f.R)):(g=a.C,a=f),a&&(a.U=b),!g){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===b.L){if(c=b.R,c.C&&(c.C=!1,b.C=!0,Pb(this,b),c=b.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,Qb(this,c),c=b.R);c.C=b.C;b.C=c.R.C=!1;Pb(this,b);a=
this._;break}}else if(c=b.L,c.C&&(c.C=!1,b.C=!0,Qb(this,b),c=b.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,Pb(this,c),c=b.L);c.C=b.C;b.C=c.L.C=!1;Qb(this,b);a=this._;break}c.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};u.geom.voronoi=function(a){function c(a){var c=Array(a.length),g=h[0][0],b=h[0][1],m=h[1][0],n=h[1][1];return Bd(f(a),h).cells.forEach(function(f,d){var h=f.edges;f=f.site;(c[d]=h.length?h.map(function(a){a=a.start();return[a.x,a.y]}):f.x>=g&&f.x<=m&&f.y>=b&&f.y<=n?[[g,n],
[m,n],[m,b],[g,b]]:[]).point=a[d]}),c}function f(a){return a.map(function(a,c){return{x:Math.round(n(a,c)/K)*K,y:Math.round(d(a,c)/K)*K,i:c}})}var g=xb,b=Mb,n=g,d=b,h=Rc;return a?c(a):(c.links=function(a){return Bd(f(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],target:a[c.r.i]}})},c.triangles=function(a){var c=[];return Bd(f(a)).cells.forEach(function(f,g){for(var b=f.site,m=f.edges.sort(jf),n=-1,d=m.length,h=m[d-1].edge,h=h.l===b?h.r:h.l;++n<d;)f=h,h=m[n].edge,
h=h.l===b?h.r:h.l,g<f.i&&g<h.i&&0>(b.x-h.x)*(f.y-b.y)-(b.x-f.x)*(h.y-b.y)&&c.push([a[g],a[f.i],a[h.i]])}),c},c.x=function(a){return arguments.length?(n=fa(g=a),c):g},c.y=function(a){return arguments.length?(d=fa(b=a),c):b},c.clipExtent=function(a){return arguments.length?(h=null==a?Rc:a,c):h===Rc?null:h},c.size=function(a){return arguments.length?c.clipExtent(a&&[[0,0],a]):h===Rc?null:h&&h[1]},c)};var Rc=[[-1E6,-1E6],[1E6,1E6]];u.geom.delaunay=function(a){return u.geom.voronoi().triangles(a)};u.geom.quadtree=
function(a,c,f,g,b){function n(a){function n(a,c,f,g,b,m,d,h){if(!isNaN(f)&&!isNaN(g))if(a.leaf){var e=a.x,k=a.y;if(null!=e){if(!(.01>S(e-f)+S(k-g))){var l=a.point;a.x=a.y=a.point=null;p(a,l,e,k,b,m,d,h)}p(a,c,f,g,b,m,d,h)}else a.x=f,a.y=g,a.point=c}else p(a,c,f,g,b,m,d,h)}function p(a,c,f,g,b,m,d,h){var e=.5*(b+d),k=.5*(m+h),l=f>=e,t=g>=k,r=t<<1|l;a.leaf=!1;a=a.nodes[r]||(a.nodes[r]=nf());l?b=e:d=e;t?m=k:h=k;n(a,c,f,g,b,m,d,h)}var k,l,t,r,v,q,u,E,y,A=fa(h),w=fa(e);if(null!=c)q=c,u=f,E=g,y=b;else if(E=
y=-(q=u=1/0),l=[],t=[],v=a.length,d)for(r=0;v>r;++r)k=a[r],k.x<q&&(q=k.x),k.y<u&&(u=k.y),k.x>E&&(E=k.x),k.y>y&&(y=k.y),l.push(k.x),t.push(k.y);else for(r=0;v>r;++r){var z=+A(k=a[r],r);k=+w(k,r);q>z&&(q=z);u>k&&(u=k);z>E&&(E=z);k>y&&(y=k);l.push(z);t.push(k)}z=E-q;k=y-u;z>k?y=u+z:E=q+k;var C=nf();if(C.add=function(a){n(C,a,+A(a,++r),+w(a,r),q,u,E,y)},C.visit=function(a){Rb(a,C,q,u,E,y)},C.find=function(a){return lh(C,a[0],a[1],q,u,E,y)},r=-1,null==c){for(;++r<v;)n(C,a[r],l[r],t[r],q,u,E,y);--r}else a.forEach(C.add);
return l=t=a=k=null,C}var d,h=xb,e=Mb;return(d=arguments.length)?(h=jh,e=kh,3===d&&(b=f,g=c,f=c=0),n(a)):(n.x=function(a){return arguments.length?(h=a,n):h},n.y=function(a){return arguments.length?(e=a,n):e},n.extent=function(a){return arguments.length?(null==a?c=f=g=b=null:(c=+a[0][0],f=+a[0][1],g=+a[1][0],b=+a[1][1]),n):null==c?null:[[c,f],[g,b]]},n.size=function(a){return arguments.length?(null==a?c=f=g=b=null:(c=f=0,g=+a[0],b=+a[1]),n):null==c?null:[g-c,b-f]},n)};u.interpolateRgb=Cd;u.interpolateObject=
of;u.interpolateNumber=Ya;u.interpolateString=pf;var Dd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ed=new RegExp(Dd.source,"g");u.interpolate=pb;u.interpolators=[function(a,c){var f=typeof c;return("string"===f?Yb.has(c.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(c)?Cd:pf:c instanceof la?Cd:Array.isArray(c)?vc:"object"===f&&isNaN(c)?of:Ya)(a,c)}];u.interpolateArray=vc;var pg=function(){return A},wi=u.map({linear:pg,poly:function(a){return function(c){return Math.pow(c,a)}},quad:function(){return nh},
cubic:function(){return oh},sin:function(){return qh},exp:function(){return rh},circle:function(){return sh},elastic:function(a,c){var f;return 2>arguments.length&&(c=.45),arguments.length?f=c/Ka*Math.asin(1/a):(a=1,f=c/4),function(g){return 1+a*Math.pow(2,-10*g)*Math.sin((g-f)*Ka/c)}},back:function(a){return a||(a=1.70158),function(c){return c*c*((a+1)*c-a)}},bounce:function(){return th}}),xi=u.map({"in":A,out:qf,"in-out":rf,"out-in":function(a){return rf(qf(a))}});u.ease=function(a){var c=a.indexOf("-"),
f=0<=c?a.slice(0,c):a,c=0<=c?a.slice(c+1):"in";return f=wi.get(f)||pg,c=xi.get(c)||A,mh(c(f.apply(null,eg.call(arguments,1))))};u.interpolateHcl=function(a,c){a=u.hcl(a);c=u.hcl(c);var f=a.h,g=a.c,b=a.l,n=c.h-f,d=c.c-g,h=c.l-b;return isNaN(d)&&(d=0,g=isNaN(g)?c.c:g),isNaN(n)?(n=0,f=isNaN(f)?c.h:f):180<n?n-=360:-180>n&&(n+=360),function(a){return sb(f+n*a,g+d*a,b+h*a)+""}};u.interpolateHsl=function(a,c){a=u.hsl(a);c=u.hsl(c);var f=a.h,g=a.s,b=a.l,n=c.h-f,d=c.s-g,h=c.l-b;return isNaN(d)&&(d=0,g=isNaN(g)?
c.s:g),isNaN(n)?(n=0,f=isNaN(f)?c.h:f):180<n?n-=360:-180>n&&(n+=360),function(a){return $a(f+n*a,g+d*a,b+h*a)+""}};u.interpolateLab=function(a,c){a=u.lab(a);c=u.lab(c);var f=a.l,g=a.a,b=a.b,n=c.l-f,d=c.a-g,h=c.b-b;return function(a){return Fb(f+n*a,g+d*a,b+h*a)+""}};u.interpolateRound=sf;u.transform=function(a){var c=Da.createElementNS(u.ns.prefix.svg,"g");return(u.transform=function(a){if(null!=a){c.setAttribute("transform",a);var g=c.transform.baseVal.consolidate()}return new tf(g?g.matrix:yi)})(a)};
tf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var yi={a:1,b:0,c:0,d:1,e:0,f:0};u.interpolateTransform=vf;u.layout={};u.layout.bundle=function(){return function(a){for(var c=[],f=-1,g=a.length;++f<g;)c.push(Ah(a[f]));return c}};u.layout.chord=function(){function a(){var a,p,l,t,r,v={},q=[],E=u.range(n),y=[];f=[];g=[];a=0;for(t=-1;++t<n;){p=0;for(r=-1;++r<n;)p+=b[t][r];q.push(p);y.push(u.range(n));a+=p}d&&E.sort(function(a,
c){return d(q[a],q[c])});h&&y.forEach(function(a,c){a.sort(function(a,f){return h(b[c][a],b[c][f])})});a=(Ka-k*n)/a;p=0;for(t=-1;++t<n;){l=p;for(r=-1;++r<n;){var A=E[t],w=y[A][r],z=b[A][w],C=p,ca=p+=z*a;v[A+"-"+w]={index:A,subindex:w,startAngle:C,endAngle:ca,value:z}}g[A]={index:A,startAngle:l,endAngle:p,value:q[A]};p+=k}for(t=-1;++t<n;)for(r=t-1;++r<n;)a=v[t+"-"+r],p=v[r+"-"+t],(a.value||p.value)&&f.push(a.value<p.value?{source:p,target:a}:{source:a,target:p});e&&c()}function c(){f.sort(function(a,
c){return e((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var f,g,b,n,d,h,e,p={},k=0;return p.matrix=function(a){return arguments.length?(n=(b=a)&&b.length,f=g=null,p):b},p.padding=function(a){return arguments.length?(k=a,f=g=null,p):k},p.sortGroups=function(a){return arguments.length?(d=a,f=g=null,p):d},p.sortSubgroups=function(a){return arguments.length?(h=a,f=null,p):h},p.sortChords=function(a){return arguments.length?(e=a,f&&c(),p):e},p.chords=function(){return f||a(),
f},p.groups=function(){return g||a(),g},p};u.layout.force=function(){function a(a){return function(c,f,g,b){if(c.point!==a){g=c.cx-a.x;var n=c.cy-a.y;f=b-f;b=g*g+n*n;if(b>f*f/y)return q>b&&(f=c.charge/b,a.px-=g*f,a.py-=n*f),!0;c.point&&b&&q>b&&(f=c.pointCharge/b,a.px-=g*f,a.py-=n*f)}return!c.charge}}function c(a){a.px=u.event.x;a.py=u.event.y;e.resume()}var f,g,b,n,d,h,e={},p=u.dispatch("start","tick","end"),k=[1,1],l=.9,t=zi,r=Ai,v=-30,q=Bi,E=.1,y=.64,w=[],z=[];return e.tick=function(){if(.005>(b*=
.99))return f=null,p.end({type:"end",alpha:b=0}),!0;var c,g,e,t,r,q,y,A,J=w.length,C=z.length;for(g=0;C>g;++g)e=z[g],c=e.source,t=e.target,y=t.x-c.x,A=t.y-c.y,(r=y*y+A*A)&&(r=b*d[g]*((r=Math.sqrt(r))-n[g])/r,y*=r,A*=r,t.x-=y*(q=c.weight+t.weight?c.weight/(c.weight+t.weight):.5),t.y-=A*q,c.x+=y*(q=1-q),c.y+=A*q);if((q=b*E)&&(y=k[0]/2,A=k[1]/2,g=-1,q))for(;++g<J;)e=w[g],e.x+=(y-e.x)*q,e.y+=(A-e.y)*q;if(v)for(xf(c=u.geom.quadtree(w),b,h),g=-1;++g<J;)(e=w[g]).fixed||c.visit(a(e));for(g=-1;++g<J;)e=w[g],
e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*l,e.y-=(e.py-(e.py=e.y))*l);p.tick({type:"tick",alpha:b})},e.nodes=function(a){return arguments.length?(w=a,e):w},e.links=function(a){return arguments.length?(z=a,e):z},e.size=function(a){return arguments.length?(k=a,e):k},e.linkDistance=function(a){return arguments.length?(t="function"==typeof a?a:+a,e):t},e.distance=e.linkDistance,e.linkStrength=function(a){return arguments.length?(r="function"==typeof a?a:+a,e):r},e.friction=function(a){return arguments.length?
(l=+a,e):l},e.charge=function(a){return arguments.length?(v="function"==typeof a?a:+a,e):v},e.chargeDistance=function(a){return arguments.length?(q=a*a,e):Math.sqrt(q)},e.gravity=function(a){return arguments.length?(E=+a,e):E},e.theta=function(a){return arguments.length?(y=a*a,e):Math.sqrt(y)},e.alpha=function(a){return arguments.length?(a=+a,b?0<a?b=a:(f.c=null,f.t=NaN,f=null,p.end({type:"end",alpha:b=0})):0<a&&(p.start({type:"start",alpha:b=a}),f=$b(e.tick)),e):b},e.start=function(){function a(g,
n){if(!f){f=Array(b);for(e=0;b>e;++e)f[e]=[];for(e=0;m>e;++e){var d=z[e];f[d.source.index].push(d.target);f[d.target.index].push(d.source)}}for(var h=f[c],e=-1,p=h.length;++e<p;)if(!isNaN(d=h[e][g]))return d;return Math.random()*n}var c,f,g,b=w.length,m=z.length,p=k[0],l=k[1];for(c=0;b>c;++c)(g=w[c]).index=c,g.weight=0;for(c=0;m>c;++c)g=z[c],"number"==typeof g.source&&(g.source=w[g.source]),"number"==typeof g.target&&(g.target=w[g.target]),++g.source.weight,++g.target.weight;for(c=0;b>c;++c)g=w[c],
isNaN(g.x)&&(g.x=a("x",p)),isNaN(g.y)&&(g.y=a("y",l)),isNaN(g.px)&&(g.px=g.x),isNaN(g.py)&&(g.py=g.y);if(n=[],"function"==typeof t)for(c=0;m>c;++c)n[c]=+t.call(this,z[c],c);else for(c=0;m>c;++c)n[c]=t;if(d=[],"function"==typeof r)for(c=0;m>c;++c)d[c]=+r.call(this,z[c],c);else for(c=0;m>c;++c)d[c]=r;if(h=[],"function"==typeof v)for(c=0;b>c;++c)h[c]=+v.call(this,w[c],c);else for(c=0;b>c;++c)h[c]=v;return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=
function(){return g||(g=u.behavior.drag().origin(A).on("dragstart.force",Bh).on("drag.force",c).on("dragend.force",Ch)),arguments.length?void this.on("mouseover.force",Dh).on("mouseout.force",Eh).call(g):g},u.rebind(e,p,"on")};var zi=20,Ai=1,Bi=1/0;u.layout.hierarchy=function(){function a(b){var n,d=[b],h=[];for(b.depth=0;null!=(n=d.pop());)if(h.push(n),(p=f.call(a,n,n.depth))&&(e=p.length)){for(var e,p,k;0<=--e;)d.push(k=p[e]),k.parent=n,k.depth=n.depth+1;g&&(n.value=0);n.children=p}else g&&(n.value=
+g.call(a,n,n.depth)||0),delete n.children;return Ua(b,function(a){var f,b;c&&(f=a.children)&&f.sort(c);g&&(b=a.parent)&&(b.value+=a.value)}),h}var c=Ih,f=Gh,g=Hh;return a.sort=function(f){return arguments.length?(c=f,a):c},a.children=function(c){return arguments.length?(f=c,a):f},a.value=function(c){return arguments.length?(g=c,a):g},a.revalue=function(c){return g&&(Tb(c,function(a){a.children&&(a.value=0)}),Ua(c,function(c){var f;c.children||(c.value=+g.call(a,c,c.depth)||0);(f=c.parent)&&(f.value+=
c.value)})),c},a};u.layout.partition=function(){function a(c,f,g,b){var d=c.children;if(c.x=f,c.y=c.depth*b,c.dx=g,c.dy=b,d&&(m=d.length)){var m,h,e=-1;for(g=c.value?g/c.value:0;++e<m;)a(h=d[e],f,c=h.value*g,b),f+=c}}function c(a){a=a.children;var f=0;if(a&&(g=a.length))for(var g,b=-1;++b<g;)f=Math.max(f,c(a[b]));return 1+f}function f(f,d){f=g.call(this,f,d);return a(f[0],0,b[0],b[1]/c(f[0])),f}var g=u.layout.hierarchy(),b=[1,1];return f.size=function(a){return arguments.length?(b=a,f):b},Sb(f,g)};
u.layout.pie=function(){function a(h){var e,p=h.length,k=h.map(function(f,g){return+c.call(a,f,g)}),l=+("function"==typeof g?g.apply(this,arguments):g),t=("function"==typeof b?b.apply(this,arguments):b)-l,r=Math.min(Math.abs(t)/p,+("function"==typeof d?d.apply(this,arguments):d)),v=r*(0>t?-1:1),q=u.sum(k),E=q?(t-p*v)/q:0,p=u.range(p),y=[];return null!=f&&p.sort(f===qg?function(a,c){return k[c]-k[a]}:function(a,c){return f(h[a],h[c])}),p.forEach(function(a){y[a]={data:h[a],value:e=k[a],startAngle:l,
endAngle:l+=e*E+v,padAngle:r}}),y}var c=Number,f=qg,g=0,b=Ka,d=0;return a.value=function(f){return arguments.length?(c=f,a):c},a.sort=function(c){return arguments.length?(f=c,a):f},a.startAngle=function(c){return arguments.length?(g=c,a):g},a.endAngle=function(c){return arguments.length?(b=c,a):b},a.padAngle=function(c){return arguments.length?(d=c,a):d},a};var qg={};u.layout.stack=function(){function a(e,p){if(!(r=e.length))return e;for(var k=e.map(function(f,g){return c.call(a,f,g)}),l=k.map(function(c){return c.map(function(c,
f){return[d.call(a,c,f),h.call(a,c,f)]})}),t=f.call(a,l,p),k=u.permute(k,t),l=u.permute(l,t),r,v,q=g.call(a,l,p),E=k[0].length,t=0;E>t;++t)for(b.call(a,k[0][t],v=q[t],l[0][t][1]),p=1;r>p;++p)b.call(a,k[p][t],v+=l[p-1][t][1],l[p][t][1]);return e}var c=A,f=Fd,g=Gd,b=Lh,d=Jh,h=Kh;return a.values=function(f){return arguments.length?(c=f,a):c},a.order=function(c){return arguments.length?(f="function"==typeof c?c:Ci.get(c)||Fd,a):f},a.offset=function(c){return arguments.length?(g="function"==typeof c?c:
Di.get(c)||Gd,a):g},a.x=function(c){return arguments.length?(d=c,a):d},a.y=function(c){return arguments.length?(h=c,a):h},a.out=function(c){return arguments.length?(b=c,a):b},a};var Ci=u.map({"inside-out":function(a){var c,f=a.length,g=a.map(Mh),b=a.map(Nh),d=u.range(f).sort(function(a,c){return g[a]-g[c]}),h=0,e=0,p=[],k=[];for(a=0;f>a;++a)c=d[a],e>h?(h+=b[c],p.push(c)):(e+=b[c],k.push(c));return k.reverse().concat(p)},reverse:function(a){return u.range(a.length).reverse()},"default":Fd}),Di=u.map({silhouette:function(a){var c,
f,g,b=a.length,d=a[0].length,h=[],e=0,p=[];for(f=0;d>f;++f){for(g=c=0;b>c;c++)g+=a[c][f][1];g>e&&(e=g);h.push(g)}for(f=0;d>f;++f)p[f]=(e-h[f])/2;return p},wiggle:function(a){var c,f,g,b,d,h,e,p,k,l=a.length,t=a[0],r=t.length,v=[];v[0]=p=k=0;for(f=1;r>f;++f){for(b=c=0;l>c;++c)b+=a[c][f][1];d=c=0;for(e=t[f][0]-t[f-1][0];l>c;++c){g=0;for(h=(a[c][f][1]-a[c][f-1][1])/(2*e);c>g;++g)h+=(a[g][f][1]-a[g][f-1][1])/e;d+=h*a[c][f][1]}v[f]=p-=b?d/b*e:0;k>p&&(k=p)}for(f=0;r>f;++f)v[f]-=k;return v},expand:function(a){var c,
f,g,b=a.length,d=a[0].length,h=1/b,e=[];for(f=0;d>f;++f){for(g=c=0;b>c;c++)g+=a[c][f][1];if(g)for(c=0;b>c;c++)a[c][f][1]/=g;else for(c=0;b>c;c++)a[c][f][1]=h}for(f=0;d>f;++f)e[f]=0;return e},zero:Gd});u.layout.histogram=function(){function a(a,d){var h,e,p=[],k=a.map(f,this),l=g.call(this,k,d),t=b.call(this,l,k,d);d=-1;for(var r=k.length,v=t.length-1,q=c?1:1/r;++d<v;)h=p[d]=[],h.dx=t[d+1]-(h.x=t[d]),h.y=0;if(0<v)for(d=-1;++d<r;)e=k[d],e>=l[0]&&e<=l[1]&&(h=p[u.bisect(t,e,1,v)-1],h.y+=q,h.push(a[d]));
return p}var c=!0,f=Number,g=Qh,b=Ph;return a.value=function(c){return arguments.length?(f=c,a):f},a.range=function(c){return arguments.length?(g=fa(c),a):g},a.bins=function(c){return arguments.length?(b="number"==typeof c?function(a){return yf(a,c)}:fa(c),a):b},a.frequency=function(f){return arguments.length?(c=!!f,a):c},a};u.layout.pack=function(){function a(a,d){a=f.call(this,a,d);d=a[0];var h=b[0],e=b[1],p=null==c?Math.sqrt:"function"==typeof c?c:function(){return c};if(d.x=d.y=0,Ua(d,function(a){a.r=
+p(a.value)}),Ua(d,Bf),g){var k=g*(c?1:Math.max(2*d.r/h,2*d.r/e))/2;Ua(d,function(a){a.r+=k});Ua(d,Bf);Ua(d,function(a){a.r-=k})}return Df(d,h/2,e/2,c?1:1/Math.max(2*d.r/h,2*d.r/e)),a}var c,f=u.layout.hierarchy().sort(Rh),g=0,b=[1,1];return a.size=function(c){return arguments.length?(b=c,a):b},a.radius=function(f){return arguments.length?(c=null==f||"function"==typeof f?f:+f,a):c},a.padding=function(c){return arguments.length?(g=+c,a):g},Sb(a,f)};u.layout.tree=function(){function a(a,k){a=d.call(this,
a,k);k=a[0];var l=c(k);if(Ua(l,f),l.parent.m=-l.z,Tb(l,g),p)Tb(k,b);else{var t=k,r=k,v=k;Tb(k,function(a){a.x<t.x&&(t=a);a.x>r.x&&(r=a);a.depth>v.depth&&(v=a)});var q=h(t,r)/2-t.x,u=e[0]/(r.x+h(r,t)/2+q),E=e[1]/(v.depth||1);Tb(k,function(a){a.x=(a.x+q)*u;a.y=a.depth*E})}return a}function c(a){for(var c={A:null,children:[a]},f=[c];null!=(a=f.pop());)for(var g,b=a.children,d=0,h=b.length;h>d;++d)f.push((b[d]=g={_:b[d],parent:a,children:(g=b[d].children)&&g.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,
t:null,i:d}).a=g);return c.children[0]}function f(a){var c=a.children,f=a.parent.children,g=a.i?f[a.i-1]:null;if(c.length){for(var b,d=0,m=0,n=a.children,e=n.length;0<=--e;)b=n[e],b.z+=d,b.m+=d,d+=b.s+(m+=b.c);c=(c[0].z+c[c.length-1].z)/2;g?(a.z=g.z+h(a._,g._),a.m=a.z-c):a.z=c}else g&&(a.z=g.z+h(a._,g._));c=a.parent;f=a.parent.A||f[0];if(g){for(var d=b=a,m=g,n=b.parent.children[0],e=b.m,p=d.m,k=m.m,l=n.m;m=Jd(m),b=Id(b),m&&b;){n=Id(n);d=Jd(d);d.a=a;g=m.z+k-b.z-e+h(m._,b._);if(0<g){var t=m.a.parent===
a.parent?m.a:f,r=a,v=g,q=v/(r.i-t.i);r.c-=q;r.s+=v;t.c+=q;r.z+=v;r.m+=v;e+=g;p+=g}k+=m.m;e+=b.m;l+=n.m;p+=d.m}m&&!Jd(d)&&(d.t=m,d.m+=k-p);b&&!Id(n)&&(n.t=b,n.m+=e-l,f=a)}c.A=f}function g(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function b(a){a.x*=e[0];a.y=a.depth*e[1]}var d=u.layout.hierarchy().sort(null).value(null),h=Ef,e=[1,1],p=null;return a.separation=function(c){return arguments.length?(h=c,a):h},a.size=function(c){return arguments.length?(p=null==(e=c)?b:null,a):p?null:e},a.nodeSize=function(c){return arguments.length?
(p=null==(e=c)?null:b,a):p?e:null},Sb(a,d)};u.layout.cluster=function(){function a(a,d){var h;a=c.call(this,a,d);var e=a[0],p=0;Ua(e,function(a){var c=a.children;c&&c.length?(a.x=Vh(c),a.y=Uh(c)):(a.x=h?p+=f(a,h):0,a.y=0,h=a)});d=Ff(e);var k=Gf(e),l=d.x-f(d,k)/2,t=k.x+f(k,d)/2;return Ua(e,b?function(a){a.x=(a.x-e.x)*g[0];a.y=(e.y-a.y)*g[1]}:function(a){a.x=(a.x-l)/(t-l)*g[0];a.y=(1-(e.y?a.y/e.y:1))*g[1]}),a}var c=u.layout.hierarchy().sort(null).value(null),f=Ef,g=[1,1],b=!1;return a.separation=function(c){return arguments.length?
(f=c,a):f},a.size=function(c){return arguments.length?(b=null==(g=c),a):b?null:g},a.nodeSize=function(c){return arguments.length?(b=null!=(g=c),a):b?g:null},Sb(a,c)};u.layout.treemap=function(){function a(a,c){for(var f,g,b=-1,d=a.length;++b<d;)g=(f=a[b]).value*(0>c?0:c),f.area=isNaN(g)||0>=g?0:g}function c(f){var b=f.children;if(b&&b.length){var d,h=l(f),m=[],n=b.slice(),e=1/0,p="slice"===r?h.dx:"dice"===r?h.dy:"slice-dice"===r?1&f.depth?h.dy:h.dx:Math.min(h.dx,h.dy);a(n,h.dx*h.dy/f.value);for(m.area=
0;0<(f=n.length);){m.push(f=n[f-1]);m.area+=f.area;var k;if(!(k="squarify"!==r)){f=p;d=void 0;var t=m.area;k=0;for(var q=1/0,u=-1,E=m.length;++u<E;)(d=m[u].area)&&(q>d&&(q=d),d>k&&(k=d));k=(d=(t*=t,f*=f,t?Math.max(f*k*v/t,t/(f*q*v)):1/0))<=e}k?(n.pop(),e=d):(m.area-=m.pop().area,g(m,p,h,!1),p=Math.min(h.dx,h.dy),m.length=m.area=0,e=1/0)}m.length&&(g(m,p,h,!0),m.length=m.area=0);b.forEach(c)}}function f(c){var b=c.children;if(b&&b.length){var d=l(c),h=b.slice(),m=[];a(h,d.dx*d.dy/c.value);for(m.area=
0;c=h.pop();)m.push(c),m.area+=c.area,null!=c.z&&(g(m,c.z?d.dx:d.dy,d,!h.length),m.length=m.area=0);b.forEach(f)}}function g(a,c,f,g){var b,d=-1,h=a.length,m=f.x,n=f.y,p=c?e(a.area/c):0;if(c==f.dx){for((g||p>f.dy)&&(p=f.dy);++d<h;)b=a[d],b.x=m,b.y=n,b.dy=p,m+=b.dx=Math.min(f.x+f.dx-m,p?e(b.area/p):0);b.z=!0;b.dx+=f.x+f.dx-m;f.y+=p;f.dy-=p}else{for((g||p>f.dx)&&(p=f.dx);++d<h;)b=a[d],b.x=m,b.y=n,b.dx=p,n+=b.dy=Math.min(f.y+f.dy-n,p?e(b.area/p):0);b.z=!1;b.dy+=f.y+f.dy-n;f.x+=p;f.dx-=p}}function b(g){g=
d||h(g);var m=g[0];return m.x=m.y=0,m.value?(m.dx=p[0],m.dy=p[1]):m.dx=m.dy=0,d&&h.revalue(m),a([m],m.dx*m.dy/m.value),(d?f:c)(m),t&&(d=g),g}var d,h=u.layout.hierarchy(),e=Math.round,p=[1,1],k=null,l=Kd,t=!1,r="squarify",v=.5*(1+Math.sqrt(5));return b.size=function(a){return arguments.length?(p=a,b):p},b.padding=function(a){function c(f){var g=a.call(b,f,f.depth);return null==g?Kd(f):Hf(f,"number"==typeof g?[g,g,g,g]:g)}function f(c){return Hf(c,a)}if(!arguments.length)return k;var g;return l=null==
(k=a)?Kd:"function"==(g=typeof a)?c:"number"===g?(a=[a,a,a,a],f):f,b},b.round=function(a){return arguments.length?(e=a?Math.round:Number,b):e!=Number},b.sticky=function(a){return arguments.length?(t=a,d=null,b):t},b.ratio=function(a){return arguments.length?(v=a,b):v},b.mode=function(a){return arguments.length?(r=a+"",b):r},Sb(b,h)};u.random={normal:function(a,c){var f=arguments.length;return 2>f&&(c=1),1>f&&(a=0),function(){var f,b;do f=2*Math.random()-1,b=2*Math.random()-1,b=f*f+b*b;while(!b||1<
b);return a+c*f*Math.sqrt(-2*Math.log(b)/b)}},logNormal:function(){var a=u.random.normal.apply(u,arguments);return function(){return Math.exp(a())}},bates:function(a){var c=u.random.irwinHall(a);return function(){return c()/a}},irwinHall:function(a){return function(){for(var c=0,f=0;a>f;f++)c+=Math.random();return c}}};u.scale={};var Xh={floor:A,ceil:A};u.scale.linear=function(){return Jf([0,1],[0,1],pb,!1)};var $h={s:1,g:1,p:1,r:1,e:1};u.scale.log=function(){return Lf(u.scale.linear().domain([0,
1]),10,!0,[1,10])};var Mf=u.format(".0e"),ai={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};u.scale.pow=function(){return Nf(u.scale.linear(),1,[0,1])};u.scale.sqrt=function(){return u.scale.pow().exponent(.5)};u.scale.ordinal=function(){return Of([],{t:"range",a:[[]]})};u.scale.category10=function(){return u.scale.ordinal().range(Ei)};u.scale.category20=function(){return u.scale.ordinal().range(Fi)};u.scale.category20b=function(){return u.scale.ordinal().range(Gi)};
u.scale.category20c=function(){return u.scale.ordinal().range(Hi)};var Ei=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Xb),Fi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Xb),Gi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,
10834324,13528509,14589654].map(Xb),Hi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Xb);u.scale.quantile=function(){return Pf([],[])};u.scale.quantize=function(){return Qf(0,1,[0,1])};u.scale.threshold=function(){return Rf([.5],[0,1])};u.scale.identity=function(){return Sf([0,1])};u.svg={};u.svg.arc=function(){function a(){var a=Math.max(0,+f.apply(this,arguments)),
k=Math.max(0,+g.apply(this,arguments)),l=h.apply(this,arguments)-qa,t=e.apply(this,arguments)-qa,r=Math.abs(t-l),v=l>t?0:1;if(a>k&&(q=k,k=a,a=q),r>=ti)return c(k,v)+(a?c(a,1-v):"")+"Z";var q,u,E,y,A,w,z,C,F,D,O=0;z=0;var I=[];((y=(+p.apply(this,arguments)||0)/2)&&(E=d===Sc?Math.sqrt(a*a+k*k):+d.apply(this,arguments),v||(z*=-1),k&&(z=ha(E/k*Math.sin(y))),a&&(O=ha(E/a*Math.sin(y)))),k)?(E=k*Math.cos(l+z),y=k*Math.sin(l+z),A=k*Math.cos(t-z),w=k*Math.sin(t-z),u=Math.abs(t-l-2*z)<=Q?0:1,z&&Ac(E,y,A,w)===
v^u&&(A=(l+t)/2,E=k*Math.cos(A),y=k*Math.sin(A),A=w=null)):E=y=0;if(a){z=a*Math.cos(t-O);C=a*Math.sin(t-O);F=a*Math.cos(l+O);D=a*Math.sin(l+O);var V=Math.abs(l-t+2*O)<=Q?0:1;O&&Ac(z,C,F,D)===1-v^V&&(F=(l+t)/2,z=a*Math.cos(F),C=a*Math.sin(F),F=D=null)}else z=C=0;r>K&&.001<(q=Math.min(Math.abs(k-a)/2,+b.apply(this,arguments)))?(u=k>a^v?0:1,V=l=q,Q>r&&(r=null==F?[z,C]:null==A?[E,y]:xd([E,y],[F,D],[A,w],[z,C]),V=E-r[0],l=y-r[1],t=A-r[0],O=w-r[1],l=1/Math.sin(Math.acos((V*t+l*O)/(Math.sqrt(V*V+l*l)*Math.sqrt(t*
t+O*O)))/2),r=Math.sqrt(r[0]*r[0]+r[1]*r[1]),V=Math.min(q,(a-r)/(l-1)),l=Math.min(q,(k-r)/(l+1))),null!=A?(r=Bc(null==F?[z,C]:[F,D],[E,y],k,l,v),t=Bc([A,w],[z,C],k,l,v),q===l?I.push("M",r[0],"A",l,",",l," 0 0,",u," ",r[1],"A",k,",",k," 0 ",1-v^Ac(r[1][0],r[1][1],t[1][0],t[1][1]),",",v," ",t[1],"A",l,",",l," 0 0,",u," ",t[0]):I.push("M",r[0],"A",l,",",l," 0 1,",u," ",t[0])):I.push("M",E,",",y),null!=F?(k=Bc([E,y],[F,D],a,-V,v),A=Bc([z,C],null==A?[E,y]:[A,w],a,-V,v),q===V?I.push("L",A[0],"A",V,",",
V," 0 0,",u," ",A[1],"A",a,",",a," 0 ",v^Ac(A[1][0],A[1][1],k[1][0],k[1][1]),",",1-v," ",k[1],"A",V,",",V," 0 0,",u," ",k[0]):I.push("L",A[0],"A",V,",",V," 0 0,",u," ",k[0])):I.push("L",z,",",C)):(I.push("M",E,",",y),null!=A&&I.push("A",k,",",k," 0 ",u,",",v," ",A,",",w),I.push("L",z,",",C),null!=F&&I.push("A",a,",",a," 0 ",V,",",1-v," ",F,",",D));return I.push("Z"),I.join("")}function c(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var f=ci,g=di,b=bi,d=Sc,h=Tf,e=
Uf,p=ei;return a.innerRadius=function(c){return arguments.length?(f=fa(c),a):f},a.outerRadius=function(c){return arguments.length?(g=fa(c),a):g},a.cornerRadius=function(c){return arguments.length?(b=fa(c),a):b},a.padRadius=function(c){return arguments.length?(d=c==Sc?Sc:fa(c),a):d},a.startAngle=function(c){return arguments.length?(h=fa(c),a):h},a.endAngle=function(c){return arguments.length?(e=fa(c),a):e},a.padAngle=function(c){return arguments.length?(p=fa(c),a):p},a.centroid=function(){var a=(+f.apply(this,
arguments)+ +g.apply(this,arguments))/2,c=(+h.apply(this,arguments)+ +e.apply(this,arguments))/2-qa;return[Math.cos(c)*a,Math.sin(c)*a]},a};var Sc="auto";u.svg.line=function(){return Vf(A)};var Nd=u.map({linear:Ra,"linear-closed":Wf,step:function(a){for(var c=0,f=a.length,g=a[0],b=[g[0],",",g[1]];++c<f;)b.push("H",(g[0]+(g=a[c])[0])/2,"V",g[1]);return 1<f&&b.push("H",g[0]),b.join("")},"step-before":Od,"step-after":Pd,basis:Xf,"basis-open":function(a){if(4>a.length)return Ra(a);for(var c,f=[],g=-1,
b=a.length,d=[0],h=[0];3>++g;)c=a[g],d.push(c[0]),h.push(c[1]);f.push(La(gb,d)+","+La(gb,h));for(--g;++g<b;)c=a[g],d.shift(),d.push(c[0]),h.shift(),h.push(c[1]),Rd(f,d,h);return f.join("")},"basis-closed":function(a){for(var c,f,g=-1,b=a.length,d=b+4,h=[],e=[];4>++g;)f=a[g%b],h.push(f[0]),e.push(f[1]);c=[La(gb,h),",",La(gb,e)];for(--g;++g<d;)f=a[g%b],h.shift(),h.push(f[0]),e.shift(),e.push(f[1]),Rd(c,h,e);return c.join("")},bundle:function(a,c){var f=a.length-1;if(f)for(var g,b,d=a[0][0],h=a[0][1],
e=a[f][0]-d,p=a[f][1]-h,k=-1;++k<=f;)g=a[k],b=k/f,g[0]=c*g[0]+(1-c)*(d+b*e),g[1]=c*g[1]+(1-c)*(h+b*p);return Xf(a)},cardinal:function(a,c){return 3>a.length?Ra(a):a[0]+Cc(a,Qd(a,c))},"cardinal-open":function(a,c){return 4>a.length?Ra(a):a[1]+Cc(a.slice(1,-1),Qd(a,c))},"cardinal-closed":function(a,c){return 3>a.length?Wf(a):a[0]+Cc((a.push(a[0]),a),Qd([a[a.length-2]].concat(a,[a[1]]),c))},monotone:function(a){if(3>a.length)a=Ra(a);else{var c=a[0],f,g,b,d,h=[],e;f=0;e=a.length-1;for(var p=[],k=a[1],
l=p[0]=Sd(a[0],k);++f<e;)p[f]=(l+(l=Sd(k,k=a[f+1])))/2;e=(p[f]=l,p);p=-1;for(k=a.length-1;++p<k;)f=Sd(a[p],a[p+1]),S(f)<K?e[p]=e[p+1]=0:(g=e[p]/f,b=e[p+1]/f,d=g*g+b*b,9<d&&(d=3*f/Math.sqrt(d),e[p]=d*g,e[p+1]=d*b));for(p=-1;++p<=k;)d=(a[Math.min(k,p+1)][0]-a[Math.max(0,p-1)][0])/(6*(1+e[p]*e[p])),h.push([d||0,e[p]*d||0]);a=c+Cc(a,h)}return a}});Nd.forEach(function(a,c){c.key=a;c.closed=/-closed$/.test(a)});var Yf=[0,2/3,1/3,0],Zf=[0,1/3,2/3,0],gb=[0,1/6,2/3,1/6];u.svg.line.radial=function(){var a=
Vf($f);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};Od.reverse=Pd;Pd.reverse=Od;u.svg.area=function(){return ag(A)};u.svg.area.radial=function(){var a=ag($f);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};u.svg.chord=function(){function a(a,d){var h=c(this,g,a,d);a=c(this,b,a,d);return"M"+h.p0+f(h.r,h.p1,h.a1-h.a0)+(h.a0==a.a0&&h.a1==a.a1?"Q 0,0 "+h.p0:"Q 0,0 "+
a.p0+f(a.r,a.p1,a.a1-a.a0)+("Q 0,0 "+h.p0))+"Z"}function c(a,c,f,g){var b=c.call(a,f,g);c=d.call(a,b,g);f=h.call(a,b,g)-qa;a=e.call(a,b,g)-qa;return{r:c,a0:f,a1:a,p0:[c*Math.cos(f),c*Math.sin(f)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function f(a,c,f){return"A"+a+","+a+" 0 "+ +(f>Q)+",1 "+c}var g=td,b=ud,d=fi,h=Tf,e=Uf;return a.radius=function(c){return arguments.length?(d=fa(c),a):d},a.source=function(c){return arguments.length?(g=fa(c),a):g},a.target=function(c){return arguments.length?(b=fa(c),a):
b},a.startAngle=function(c){return arguments.length?(h=fa(c),a):h},a.endAngle=function(c){return arguments.length?(e=fa(c),a):e},a};u.svg.diagonal=function(){function a(a,b){var d=c.call(this,a,b);a=f.call(this,a,b);b=(d.y+a.y)/2;d=[d,{x:d.x,y:b},{x:a.x,y:b},a];return d=d.map(g),"M"+d[0]+"C"+d[1]+" "+d[2]+" "+d[3]}var c=td,f=ud,g=bg;return a.source=function(f){return arguments.length?(c=fa(f),a):c},a.target=function(c){return arguments.length?(f=fa(c),a):f},a.projection=function(c){return arguments.length?
(g=c,a):g},a};u.svg.diagonal.radial=function(){var a=u.svg.diagonal(),c=bg,f=a.projection;return a.projection=function(a){return arguments.length?f(gi(c=a)):c},a};u.svg.symbol=function(){function a(a,b){return(rg.get(c.call(this,a,b))||cg)(f.call(this,a,b))}var c=ii,f=hi;return a.type=function(f){return arguments.length?(c=fa(f),a):c},a.size=function(c){return arguments.length?(f=fa(c),a):f},a};var rg=u.map({circle:cg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+
a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*sg));var c=a*sg;return"M0,"+-a+"L"+c+",0 0,"+a+" "+-c+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Tc);var c=a*Tc/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Tc);var c=a*Tc/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});u.svg.symbolTypes=rg.keys();var Tc=
Math.sqrt(3),sg=Math.tan(30*R);Y.transition=function(a){for(var c,f=rb||++tg,g=Ud(a),b=[],d=Uc||{time:Date.now(),ease:ph,delay:0,duration:250},h=-1,e=this.length;++h<e;){b.push(a=[]);for(var p=this[h],k=-1,l=p.length;++k<l;)(c=p[k])&&Dc(c,k,g,f,d),a.push(c)}return Ub(b,g,f)};Y.interrupt=function(a){return this.each(null==a?Gc:dg(Ud(a)))};var rb,Uc,Gc=dg(Ud()),wa=[],tg=0;wa.call=Y.call;wa.empty=Y.empty;wa.node=Y.node;wa.size=Y.size;u.transition=function(a,c){return a&&a.transition?rb?a.transition(c):
a:u.selection().transition(a)};u.transition.prototype=wa;wa.select=function(a){var c,f,g,b=this.id,d=this.namespace,h=[];a=U(a);for(var e=-1,p=this.length;++e<p;){h.push(c=[]);for(var k=this[e],l=-1,t=k.length;++l<t;)(g=k[l])&&(f=a.call(g,g.__data__,l,e))?("__data__"in g&&(f.__data__=g.__data__),Dc(f,l,d,b,g[d][b]),c.push(f)):c.push(null)}return Ub(h,d,b)};wa.selectAll=function(a){var c,f,g,b,d=this.id,h=this.namespace,e=[];a=O(a);for(var p=-1,k=this.length;++p<k;)for(var l=this[p],t=-1,r=l.length;++t<
r;)if(c=l[t]){b=c[h][d];f=a.call(c,c.__data__,t,p);e.push(c=[]);for(var v=-1,q=f.length;++v<q;)(g=f[v])&&Dc(g,v,h,d,b),c.push(g)}return Ub(e,h,d)};wa.filter=function(a){var c,f,g,b=[];"function"!=typeof a&&(a=ga(a));for(var d=0,h=this.length;h>d;d++){b.push(c=[]);f=this[d];for(var e=0,p=f.length;p>e;e++)(g=f[e])&&a.call(g,g.__data__,e,d)&&c.push(g)}return Ub(b,this.namespace,this.id)};wa.tween=function(a,c){var f=this.id,g=this.namespace;return 2>arguments.length?this.node()[g][f].tween.get(a):Z(this,
null==c?function(c){c[g][f].tween.remove(a)}:function(b){b[g][f].tween.set(a,c)})};wa.attr=function(a,c){function f(){this.removeAttribute(e)}function g(){this.removeAttributeNS(e.space,e.local)}function b(a){return null==a?f:(a+="",function(){var c,f=this.getAttribute(e);return f!==a&&(c=h(f,a),function(a){this.setAttribute(e,c(a))})})}function d(a){return null==a?g:(a+="",function(){var c,f=this.getAttributeNS(e.space,e.local);return f!==a&&(c=h(f,a),function(a){this.setAttributeNS(e.space,e.local,
c(a))})})}if(2>arguments.length){for(c in a)this.attr(c,a[c]);return this}var h="transform"==a?vf:pb,e=u.ns.qualify(a);return Td(this,"attr."+a,c,e.local?d:b)};wa.attrTween=function(a,c){function f(a,f){var g=c.call(this,a,f,this.getAttribute(b));return g&&function(a){this.setAttribute(b,g(a))}}function g(a,f){var g=c.call(this,a,f,this.getAttributeNS(b.space,b.local));return g&&function(a){this.setAttributeNS(b.space,b.local,g(a))}}var b=u.ns.qualify(a);return this.tween("attr."+a,b.local?g:f)};
wa.style=function(a,c,f){function g(){this.style.removeProperty(a)}var b=arguments.length;if(3>b){if("string"!=typeof a){2>b&&(c="");for(f in a)this.style(f,a[f],c);return this}f=""}return Td(this,"style."+a,c,function(c){return null==c?g:(c+="",function(){var g,b=e(this).getComputedStyle(this,null).getPropertyValue(a);return b!==c&&(g=pb(b,c),function(c){this.style.setProperty(a,g(c),f)})})})};wa.styleTween=function(a,c,f){return 3>arguments.length&&(f=""),this.tween("style."+a,function(g,b){var d=
c.call(this,g,b,e(this).getComputedStyle(this,null).getPropertyValue(a));return d&&function(c){this.style.setProperty(a,d(c),f)}})};wa.text=function(a){return Td(this,"text",a,ji)};wa.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var c;2>this[a].count&&(c=this.parentNode)&&c.removeChild(this)})};wa.ease=function(a){var c=this.id,f=this.namespace;return 1>arguments.length?this.node()[f][c].ease:("function"!=typeof a&&(a=u.ease.apply(u,arguments)),Z(this,function(g){g[f][c].ease=
a}))};wa.delay=function(a){var c=this.id,f=this.namespace;return 1>arguments.length?this.node()[f][c].delay:Z(this,"function"==typeof a?function(g,b,d){g[f][c].delay=+a.call(g,g.__data__,b,d)}:(a=+a,function(g){g[f][c].delay=a}))};wa.duration=function(a){var c=this.id,f=this.namespace;return 1>arguments.length?this.node()[f][c].duration:Z(this,"function"==typeof a?function(g,b,d){g[f][c].duration=Math.max(1,a.call(g,g.__data__,b,d))}:(a=Math.max(1,a),function(g){g[f][c].duration=a}))};wa.each=function(a,
c){var f=this.id,g=this.namespace;if(2>arguments.length){var b=Uc,d=rb;try{rb=f,Z(this,function(c,b,d){Uc=c[g][f];a.call(c,c.__data__,b,d)})}finally{Uc=b,rb=d}}else Z(this,function(b){b=b[g][f];(b.event||(b.event=u.dispatch("start","end","interrupt"))).on(a,c)});return this};wa.transition=function(){for(var a,c,f,g,b=this.id,d=++tg,h=this.namespace,e=[],p=0,k=this.length;k>p;p++){e.push(a=[]);c=this[p];for(var l=0,t=c.length;t>l;l++)(f=c[l])&&(g=f[h][b],Dc(f,l,h,d,{time:g.time,ease:g.ease,delay:g.delay+
g.duration,duration:g.duration})),a.push(f)}return Ub(e,h,d)};u.svg.axis=function(){function a(a){a.each(function(){var a,k=u.select(this),l=this.__chart__||f,t=this.__chart__=f.copy(),r=null==p?t.ticks?t.ticks.apply(t,e):t.domain():p,v=null==c?t.tickFormat?t.tickFormat.apply(t,e):A:c,q=k.selectAll(".tick").data(r,t),r=q.enter().insert("g",".domain").attr("class","tick").style("opacity",K),E=u.transition(q.exit()).style("opacity",K).remove(),y=u.transition(q.order()).style("opacity",1),w=Math.max(b,
0)+h,z=wc(t),k=k.selectAll(".domain").data([0]),k=(k.enter().append("path").attr("class","domain"),u.transition(k));r.append("line");r.append("text");var C,F,D,O,I=r.select("line"),V=y.select("line"),v=q.select("text").text(v),q=r.select("text"),N=y.select("text"),G="top"===g||"left"===g?-1:1;if("bottom"===g||"top"===g?(a=ki,C="x",D="y",F="x2",O="y2",v.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+z[0]+","+G*d+"V0H"+z[1]+"V"+G*d)):(a=li,C="y",D="x",F="y2",O="x2",v.attr("dy",
".32em").style("text-anchor",0>G?"end":"start"),k.attr("d","M"+G*d+","+z[0]+"H0V"+z[1]+"H"+G*d)),I.attr(O,G*b),q.attr(D,G*w),V.attr(F,0).attr(O,G*b),N.attr(C,0).attr(D,G*w),t.rangeBand)var ba=t,P=ba.rangeBand()/2,l=t=function(a){return ba(a)+P};else l.rangeBand?l=t:E.call(a,t,l);r.call(a,l,t);y.call(a,t,t)})}var c,f=u.scale.linear(),g=ug,b=6,d=6,h=3,e=[10],p=null;return a.scale=function(c){return arguments.length?(f=c,a):f},a.orient=function(c){return arguments.length?(g=c in Ii?c+"":ug,a):g},a.ticks=
function(){return arguments.length?(e=Sa(arguments),a):e},a.tickValues=function(c){return arguments.length?(p=c,a):p},a.tickFormat=function(f){return arguments.length?(c=f,a):c},a.tickSize=function(c){var f=arguments.length;return f?(b=+c,d=+arguments[f-1],a):b},a.innerTickSize=function(c){return arguments.length?(b=+c,a):b},a.outerTickSize=function(c){return arguments.length?(d=+c,a):d},a.tickPadding=function(c){return arguments.length?(h=+c,a):h},a.tickSubdivide=function(){return arguments.length&&
a},a};var ug="bottom",Ii={top:1,right:1,bottom:1,left:1};u.svg.brush=function(){function a(d){d.each(function(){var d=u.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",b).on("touchstart.brush",b),h=d.selectAll(".background").data([0]);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");d.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor",
"move");var e=d.selectAll(".resize").data(y,A);e.exit().remove();e.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ji[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");e.style("display",a.empty()?"none":null);var p,d=u.transition(d),h=u.transition(h);k&&(p=wc(k),h.attr("x",p[0]).attr("width",p[1]-p[0]),f(d));l&&
(p=wc(l),h.attr("y",p[0]).attr("height",p[1]-p[0]),g(d));c(d)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+t[+/e$/.test(a)]+","+r[+/^s/.test(a)]+")"})}function f(a){a.select(".extent").attr("x",t[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",t[1]-t[0])}function g(a){a.select(".extent").attr("y",r[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1]-r[0])}function b(){function m(){var a=u.mouse(C),b=!1;z&&(a[0]+=z[0],a[1]+=z[1]);N||(u.event.altKey?
(w||(w=[(t[0]+t[1])/2,(r[0]+r[1])/2]),P[0]=t[+(a[0]<w[0])],P[1]=r[+(a[1]<w[1])]):w=null);V&&y(a,k,0)&&(f(O),b=!0);G&&y(a,l,1)&&(g(O),b=!0);b&&(c(O),D({type:"brush",mode:N?"move":"resize"}))}function y(a,c,f){var g,b,e=wc(c);c=e[0];var e=e[1],m=P[f],p=f?r:t,k=p[1]-p[0];return N&&(c-=m,e-=k+m),g=(f?q:v)?Math.max(c,Math.min(e,a[f])):a[f],N?b=(g+=m)+k:(w&&(m=Math.max(c,Math.min(e,2*w[f]-g))),g>m?(b=g,g=m):b=m),p[0]!=g||p[1]!=b?(f?h=null:d=null,p[0]=g,p[1]=b,!0):void 0}function A(){m();O.style("pointer-events",
"all").selectAll(".resize").style("display",a.empty()?"none":null);u.select("body").style("cursor",null);L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ba();D({type:"brushend"})}var w,z,C=this,F=u.select(u.event.target),D=p.of(C,arguments),O=u.select(C),I=F.datum(),V=!/^(n|s)$/.test(I)&&k,G=!/^(e|w)$/.test(I)&&l,N=F.classed("extent"),ba=E(C),P=u.mouse(C),L=u.select(e(C)).on("keydown.brush",
function(){32==u.event.keyCode&&(N||(w=null,P[0]-=t[1],P[1]-=r[1],N=2),W())}).on("keyup.brush",function(){32==u.event.keyCode&&2==N&&(P[0]+=t[1],P[1]+=r[1],N=0,W())});if(u.event.changedTouches?L.on("touchmove.brush",m).on("touchend.brush",A):L.on("mousemove.brush",m).on("mouseup.brush",A),O.interrupt().selectAll("*").interrupt(),N)P[0]=t[0]-P[0],P[1]=r[0]-P[1];else if(I){var H=+/w$/.test(I),I=+/^n/.test(I);z=[t[1-H]-P[0],r[1-I]-P[1]];P[0]=t[H];P[1]=r[I]}else u.event.altKey&&(w=P.slice());O.style("pointer-events",
"none").selectAll(".resize").style("display",null);u.select("body").style("cursor",F.style("cursor"));D({type:"brushstart"});m()}var d,h,p=ba(a,"brushstart","brush","brushend"),k=null,l=null,t=[0,0],r=[0,0],v=!0,q=!0,y=de[0];return a.event=function(a){a.each(function(){var a=p.of(this,arguments),c={x:t,y:r,i:d,j:h},f=this.__chart__||c;this.__chart__=c;rb?u.select(this).transition().each("start.brush",function(){d=f.i;h=f.j;t=f.x;r=f.y;a({type:"brushstart"})}).tween("brush:brush",function(){var f=
vc(t,c.x),g=vc(r,c.y);return d=h=null,function(b){t=c.x=f(b);r=c.y=g(b);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){d=c.i;h=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(c){return arguments.length?(k=c,y=de[!k<<1|!l],a):k},a.y=function(c){return arguments.length?(l=c,y=de[!k<<1|!l],a):l},a.clamp=function(c){return arguments.length?(k&&l?(v=!!c[0],q=!!c[1]):k?v=!!c:l&&(q=!!c),
a):k&&l?[v,q]:k?v:l?q:null},a.extent=function(c){var f,g,b,e,m;return arguments.length?(k&&(f=c[0],g=c[1],l&&(f=f[0],g=g[0]),d=[f,g],k.invert&&(f=k(f),g=k(g)),f>g&&(m=f,f=g,g=m),f==t[0]&&g==t[1]||(t=[f,g])),l&&(b=c[0],e=c[1],k&&(b=b[1],e=e[1]),h=[b,e],l.invert&&(b=l(b),e=l(e)),b>e&&(m=b,b=e,e=m),b==r[0]&&e==r[1]||(r=[b,e])),a):(k&&(d?(f=d[0],g=d[1]):(f=t[0],g=t[1],k.invert&&(f=k.invert(f),g=k.invert(g)),f>g&&(m=f,f=g,g=m))),l&&(h?(b=h[0],e=h[1]):(b=r[0],e=r[1],l.invert&&(b=l.invert(b),e=l.invert(e)),
b>e&&(m=b,b=e,e=m))),k&&l?[[f,b],[g,e]]:k?[f,g]:l&&[b,e])},a.clear=function(){return a.empty()||(t=[0,0],r=[0,0],d=h=null),a},a.empty=function(){return!!k&&t[0]==t[1]||!!l&&r[0]==r[1]},u.rebind(a,p,"on")};var Ji={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},de=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],ee=M.format=ig.timeFormat,vg=ee.utc,wg=vg("%Y-%m-%dT%H:%M:%S.%LZ");ee.iso=Date.prototype.toISOString&&
+new Date("2000-01-01T00:00:00.000Z")?Vd:wg;Vd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Vd.toString=wg.toString;M.second=ib(function(a){return new Ba(1E3*Math.floor(a/1E3))},function(a,c){a.setTime(a.getTime()+1E3*Math.floor(c))},function(a){return a.getSeconds()});M.seconds=M.second.range;M.seconds.utc=M.second.utc.range;M.minute=ib(function(a){return new Ba(6E4*Math.floor(a/6E4))},function(a,c){a.setTime(a.getTime()+6E4*Math.floor(c))},function(a){return a.getMinutes()});M.minutes=
M.minute.range;M.minutes.utc=M.minute.utc.range;M.hour=ib(function(a){var c=a.getTimezoneOffset()/60;return new Ba(36E5*(Math.floor(a/36E5-c)+c))},function(a,c){a.setTime(a.getTime()+36E5*Math.floor(c))},function(a){return a.getHours()});M.hours=M.hour.range;M.hours.utc=M.hour.utc.range;M.month=ib(function(a){return a=M.day(a),a.setDate(1),a},function(a,c){a.setMonth(a.getMonth()+c)},function(a){return a.getMonth()});M.months=M.month.range;M.months.utc=M.month.utc.range;var Ec=[1E3,5E3,15E3,3E4,6E4,
3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],fe=[[M.second,1],[M.second,5],[M.second,15],[M.second,30],[M.minute,1],[M.minute,5],[M.minute,15],[M.minute,30],[M.hour,1],[M.hour,3],[M.hour,6],[M.hour,12],[M.day,1],[M.day,2],[M.week,1],[M.month,1],[M.month,3],[M.year,1]],Ki=ee.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",
function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Jb]]),mi={range:function(a,c,f){return u.range(Math.ceil(a/f)*f,+c,f).map(qb)},floor:A,ceil:A};fe.year=M.year;M.scale=function(){return Wd(u.scale.linear(),fe,Ki)};var xg=fe.map(function(a){return[a[0].utc,a[1]]}),Li=vg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],
["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Jb]]);xg.year=M.year.utc;M.scale.utc=function(){return Wd(u.scale.linear(),xg,Li)};u.text=gd(function(a){return a.responseText});u.json=function(a,c){return Zb(a,"application/json",ni,c)};u.html=function(a,c){return Zb(a,"text/html",oi,c)};u.xml=gd(function(a){return a.responseXML});"function"==
typeof define&&define.amd?(this.d3=u,define(u)):"object"==typeof module&&module.exports?module.exports=u:this.d3=u}();angular.module("xe-ui-components","badge button checkbox dropdown label radiobutton simpleTextbox statusLabel switch textarea textbox ui.select xeUISelect external-resouces utils columnFilter pagination search xebarmodule dataTableModule aboutModal pieChartModule popupModal tabnav timePicker xe-ui-components-tpls".split(" "));
!function(){angular.module("badge",[]).directive("xeBadge",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/badge.html"}})}();(function(){angular.module("button",[]).directive("xeButton",function(){return{restrict:"E",scope:{xeId:"@",xeType:"@",xeDisabled:"=",xeLabel:"@",xeBtnClick:"&",xeBtnClass:"@",xeAriaLabel:"@"},templateUrl:"templates/button.html"}})})();
(function(){angular.module("checkbox",["label"]).directive("xeCheckbox",["keyCodes","$timeout",function(e,l){return{scope:{xeId:"@",xeValue:"@",xeName:"@?",xeLabel:"@?",xeAriaLabel:"@?",xeLabelHidden:"@?",xeModel:"=",xeOnClick:"&",xeDisabled:"=?",ariaRole:"@?"},restrict:"E",replace:!0,templateUrl:"templates/checkbox.html",link:function(q,k){q.cbClicked=function(d){q.xeDisabled||(q.xeModel=!q.xeModel,l(function(){q.xeOnClick({checked:q.xeModel,event:d});angular.element(k.find("input")).controller("ngModel").$setDirty()}))};
k.on("keydown",function(d){d.keyCode!==e.ENTER&&d.keyCode!==e.SPACEBAR||(d.preventDefault(),d.stopPropagation(),q.cbClicked(d),q.$apply())});k.on("click",function(d){d.preventDefault();d.stopPropagation();q.cbClicked(d);q.$apply()})}}}])})();
(function(){angular.module("dropdown",[]).directive("xeDropdown",function(){return{restrict:"E",scope:{xeOptions:"=",xeLabel:"=",disabled:"=",ngModel:"="},require:"ngModel",controller:["$scope",function(e){e.isObject=angular.isObject(e.xeOptions[0]);e.dropDownLabel="";e.updateModel=function(l){e.xeLabel!==l?angular.isObject(l)?(e.ngModel=l,e.dropDownLabel=l.label):(e.ngModel=l,e.dropDownLabel=l):(e.ngModel=null,e.dropDownLabel=null)}}],link:function(e){angular.isDefined(e.ngModel)&&e.updateModel(e.ngModel)},
templateUrl:"templates/dropdown.html"}})})();(function(){angular.module("label",[]).directive("xeLabel",function(){return{restrict:"E",scope:{xeId:"@",xeValue:"@",xeHidden:"@?",xeRequired:"=?",xeFor:"@"},replace:!0,templateUrl:"templates/label.html"}})})();
(function(){angular.module("radiobutton",[]).directive("xeRadioButton",["$window",function(e){return{scope:{xeLabel:"@",ngValue:"=",ngModel:"=",xeOnClick:"&",xeName:"@",xeDisabled:"=",xeId:"@"},restrict:"E",require:"ngModel",templateUrl:"templates/radio-button.html",link:function(e,q){q.on("keydown",function(k){32!==k.keyCode&&13!==k.keyCode||(k.preventDefault(),e.ngModel=e.ngValue,e.$apply())})}}}])})();
(function(){angular.module("simpleTextbox",[]).directive("xeSimpleTextBox",function(){return{restrict:"E",scope:{inputField:"@",xeClass:"@",value:"=",placeHolder:"@",disabled:"=",onChange:"&",onKeydown:"&",onKeypress:"&",onFocus:"&",onBlur:"&",required:"="},templateUrl:"templates/simple-textbox.html"}})})();(function(){angular.module("statusLabel",[]).directive("xeStatusLabel",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/statusLabel.html"}})})();
(function(){angular.module("switch",[]).directive("xeSwitch",function(){return{scope:{disabled:"=",label:"=",value:"=",id:"="},templateUrl:"templates/switch.html"}})})();
(function(){angular.module("textarea",[]).directive("xeTextArea",["$filter",function(e){return{restrict:"E",scope:{ngModel:"=",xeOnChange:"&",xePlaceholder:"@",xeLabel:"=",xeId:"@",xeName:"@?",xeRequired:"=",xeReadonly:"=",xeCharCounter:"@"},templateUrl:function(e,q){return q.xeCharCounter?"templates/text-area-counter.html":"templates/text-area.html"},controller:["$scope","$element","$attrs",function(l,q,k){var d,p;k.xeCharCounter&&(d=$(".textarea-char-accessible"),0===d.length&&(d=$("<span>",{role:"status",
"aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("textarea-char-accessible screen-reader").appendTo(document.body)));p=e("xei18n")("xe.text.limit.over",k.xeCharCounter);k.xeCharCounter&&q.find("textarea").focus(function(){var h=e("xei18n")("xe.text.chars.remaining.aria",l.charRemaining);d.text(h)});l.$watch("ngModel",function(){k.xeCharCounter&&(0>=l.charRemaining?l.charRemaining=0:l.charRemaining=k.xeCharCounter,l.ngModel)&&(l.charRemaining=k.xeCharCounter-l.ngModel.length,
q.find("textarea").on("keyup change",function(h){$(this).val().length===k.xeCharCounter&&d.text(p)}))})}]}}])})();
(function(){angular.module("textbox",["ngMessages"]).directive("xeTextBox",["$filter",function(e){return{restrict:"E",scope:{xePlaceholder:"@",xeId:"@",xeRequired:"=",xeType:"@",xeReadonly:"=",xeValidate:"=",xePattern:"@",xeErrorMessages:"=",xeNotification:"@",xeLabel:"@",xeName:"@",xeMaxlength:"@",xeMinlength:"@",xeFormName:"@",ngModel:"=",ngForm:"=",xeCharMax:"@"},require:["ngModel","?ngForm"],templateUrl:function(e,q){return"password"===q.xeType?"templates/text-box-password.html":q.hasOwnProperty("xeCharMax")?
"templates/text-box-char-limit.html":"templates/text-box.html"},controller:["$scope","$element","$attrs",function(l,q,k){var d,p;k.hasOwnProperty("xeCharMax")&&(d=$(".text-box-char-accessible"),p=e("xei18n")("xe.text.limit.over",k.xeMaxlength),0===d.length&&(d=$("<span>",{role:"status","aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("text-box-char-accessible screen-reader").appendTo(document.body)),q.find("input").on("keyup change focusout",function(h){$(this).val().length>=
k.xeMaxlength&&d.text(p);1==$(this).prop("required")&&(0<$(this).val().length?$(this).attr("aria-invalid",!1):$(this).attr("aria-invalid",!0))}))}],compile:function(e,q){var k="ngForm."+q.xeName;e.find("div.error-messages").attr("ng-messages",k+".$error");e.find("div.error-messages").attr("ng-if",k+"."+q.xeName+".$touched")}}}])})();
(function(){var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",
57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",
191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(k){switch(k.which){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!k.metaKey},isFunctionKey:function(e){return 112<=(e=e.which?e.which:e)&&123>=e},isVerticalMovement:function(k){return~[e.UP,e.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(k)},toSeparator:function(k){return{ENTER:"\n",TAB:"\t",SPACE:" "}[k]||(e[k]?void 0:k)}};void 0===angular.element.prototype.querySelectorAll&&
(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var d=this[0],p=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector;d;){if(p.bind(d)(e))return d;d=d.parentElement}return!1});var l=0,q=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:0,
closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return l+=1},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var d=e.apply(this,arguments).message.replace(/\nhttp:\/\/errors.angularjs.org\/.*/,"");return Error(d)}}).directive("uisTranscludeAppend",function(){return{link:function(e,d,p,h,l){l(e,function(b){d.append(b)})}}}).filter("highlight",function(){return function(e,d){return d&&e?(""+e).replace(new RegExp((""+
d).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):e}}).factory("uisOffset",["$document","$window",function(e,d){return function(p){var h=p[0].getBoundingClientRect();return{width:h.width||p.prop("offsetWidth"),height:h.height||p.prop("offsetHeight"),top:h.top+(d.pageYOffset||e[0].documentElement.scrollTop),left:h.left+(d.pageXOffset||e[0].documentElement.scrollLeft)}}}]);q.directive("xeUiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr",
"$compile","$window","$timeout",function(e,d,p,h,l,b){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(b){return b.addClass("ui-select-choices"),(b.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(b,q){if(!q.repeat)throw p("repeat","Expected 'repeat' expression.");return function(b,t,q,y,C){var A,N=q.groupBy,r=q.groupFilter,H=t.querySelectorAll(".ui-select-choices-row"),G=t.querySelectorAll(".ui-select-choices-row-inner");if(y.parseRepeatAttr(q,
N,r,y),y.disableChoiceExpression=q.uiDisableChoice,y.onHighlightCallback=q.onHighlight,y.dropdownPosition=q.position?q.position.toLowerCase():e.dropdownPosition,N){if(A=t.querySelectorAll(".ui-select-choices-group"),1!==A.length)throw p("rows","Expected 1 .ui-select-choices-group but got '{0}'.",A.length);A.attr("ng-repeat",d.getGroupNgRepeatExpression())}if(1!==H.length)throw p("rows","Expected 1 .ui-select-choices-row but got '{0}'.",H.length);if(H.attr("ng-repeat",y.parserResult.repeatExpression(N)).attr("ng-if",
"$select.open"),l.document.addEventListener&&H.attr("ng-mouseenter","$select.setActiveItem("+y.parserResult.itemName+")").attr("ng-click","$select.select("+y.parserResult.itemName+",$select.skipFocusser,$event)"),1!==G.length)throw p("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",G.length);G.attr("uis-transclude-append","");l.document.addEventListener||G.attr("ng-mouseenter","$select.setActiveItem("+y.parserResult.itemName+")").attr("ng-click","$select.select("+y.parserResult.itemName+
",$select.skipFocusser,$event)");h(t,C)(b);b.$watch("$select.search",function(b){b&&!y.open&&y.multiple&&(y.activate(!1,!0),y.activeIndex=y.tagging.isActivated?-1:0);q.minimumInputLength&&!(y.search.length>=q.minimumInputLength)||y.disabled?y.disabled||(y.minimumInputLength=q.minimumInputLength,y.showMinMsg=!0,y.items=[]):(y.refresh(q.refresh),y.showMinMsg=!1)});b.$watch(y.disabled,function(b,d){b||b===d||y.items.length||y.refresh(q.refresh)});y.refreshOnChange&&b.$watch(y.refreshOnChange,function(b){b&&
y.refresh(q.refresh)});q.$observe("refreshDelay",function(){var d=b.$eval(q.refreshDelay);y.refreshDelay=void 0!==d?d:e.refreshDelay});b.$watch("$select.items",function(b,d){0==y.items.length?y.showNoResultsMsg=!0:y.showNoResultsMsg=!1})}}}}]);q.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(k,d,p,h,l,b,t,q,z,I){function w(b,d,h){if(b.findIndex)return b.findIndex(d,h);var e,p=Object(b),
k=p.length>>>0;for(b=0;b<k;b+=1)if(e=p[b],d.call(h,e,b,p))return b;return-1}function D(){(r.resetSearchInput||void 0===r.resetSearchInput&&t.resetSearchInput)&&(r.search=H,r.selected&&r.items.length&&!r.multiple&&(r.activeIndex=w(r.items,function(b){return angular.equals(this,b)},r.selected)))}function C(b,d){var h,e,p=[];for(h=0;h<d.length;h+=1)for(e=0;e<b.length;e+=1)b[e].name==[d[h]]&&p.push(b[e]);return p}function A(b){var d=!0;switch(b){case e.DOWN:!r.open&&r.multiple?r.activate(!1,!0):r.activeIndex<
r.items.length-1&&r.activeIndex++;break;case e.UP:!r.open&&r.multiple?r.activate(!1,!0):(0<r.activeIndex||0===r.search.length&&r.tagging.isActivated&&-1<r.activeIndex)&&r.activeIndex--;break;case e.TAB:r.multiple&&!r.open||r.select(r.items[r.activeIndex],!0);break;case e.ENTER:1==r.items.length?r.select(r.items[0],r.skipFocusser):r.open&&(r.tagging.isActivated||0<=r.activeIndex)?r.select(r.items[r.activeIndex],r.skipFocusser):r.activate(!1,!0);break;case e.ESC:r.close();break;default:d=!1}return d}
function N(){var e=d.querySelectorAll(".ui-select-choices-content"),p=e.querySelectorAll(".ui-select-choices-row");if(1>p.length)throw b("choices","Expected multiple .ui-select-choices-row but got '{0}'.",p.length);if(!(0>r.activeIndex)){p=p[r.activeIndex];$(".uiselect-choice-status-hidden-accessible").text("");var k=$(p).find("div:last").text(),k=h("xei18n")("uiselect.option.selected",k);$(".uiselect-choice-status-hidden-accessible").text(k);$(".uiselect-choice-status-hidden-accessible").attr("aria-selected",
!0);$(".uiselect-choice-status-hidden-accessible").innerText=k;var k=p.offsetTop+p.clientHeight-e[0].scrollTop,l=e[0].offsetHeight;k>l?e[0].scrollTop+=k-l:k<p.clientHeight&&(r.isGrouped&&0===r.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=p.clientHeight-k)}}var r=this,H="";r.placeholder=t.placeholder;r.searchEnabled=t.searchEnabled;r.sortable=t.sortable;r.refreshDelay=t.refreshDelay;r.paste=t.paste;r.removeSelected=!1;r.closeOnSelect=!0;r.skipFocusser=!1;r.search=H;r.activeIndex=0;r.items=[];r.open=
!1;r.focus=!1;r.disabled=!1;r.selected=void 0;r.dropdownPosition="auto";r.focusser=void 0;r.resetSearchInput=!0;r.multiple=void 0;r.disableChoiceExpression=void 0;r.tagging={isActivated:!1,fct:void 0};r.taggingTokens={isActivated:!1,tokens:void 0};r.lockChoiceExpression=void 0;r.clickTriggeredSelect=!1;r.$filter=h;r.minimumInputLength;var G=r,L;try{L=z.get("$animate")}catch(ba){L=null}if(G.$animate=L,r.searchInput=d.querySelectorAll("input.ui-select-search"),1!==r.searchInput.length)throw b("searchInput",
"Expected 1 input.ui-select-search but got '{0}'.",r.searchInput.length);r.isEmpty=function(){return angular.isUndefined(r.selected)||null===r.selected||""===r.selected||r.multiple&&0===r.selected.length};r.activate=function(b,e){if(r.disabled||r.open)r.open&&r.multiple&&(r.open=!1);else{if(e||D(),k.$broadcast("uis:activate"),r.open=!0,r.liveRegion=$(".uiselect-hidden-accessible"),r.liveChoicestStusRegion=$(".uiselect-choice-status-hidden-accessible"),0==r.liveRegion.length)e=angular.element("<span></span>"),
e.attr("role","status"),e.attr("aria-live","assertive"),e.attr("class","uiselect-hidden-accessible"),angular.element(document.body).append(e);0==r.liveChoicestStusRegion.length&&(e=angular.element("<span></span>"),e.attr("role","status"),e.attr("aria-live","assertive"),e.attr("aria-atomic","true"),e.attr("class","uiselect-choice-status-hidden-accessible"),angular.element(document.body).append(e));r.activeIndex=r.activeIndex>=r.items.length?0:r.activeIndex;-1===r.activeIndex&&!1!==r.taggingLabel&&
(r.activeIndex=0);e=d.querySelectorAll(".ui-select-choices-content");r.$animate&&r.$animate.on&&r.$animate.enabled(e[0])?r.$animate.on("enter",e[0],function(d,h){"close"===h&&p(function(){r.focusSearchInput(b)})}):p(function(){if(r.focusSearchInput(b),!r.tagging.isActivated&&1<r.items.length){var d;$(".uiselect-hidden-accessible").text("");d=r.searchEnabled?h("xei18n")("uiselect.search.results",r.items.length):h("xei18n")("uiselect.search.disabled.results");$(".uiselect-hidden-accessible").text(d);
$(".uiselect-hidden-accessible").innerText=d}else 0===r.items.length&&"undefined"!=r.minimumInputLength&&(d=h("xei18n")("uiselect.minimum.input.text",r.minimumInputLength),$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(d),$(".uiselect-hidden-accessible").innerText=d)})}};r.focusSearchInput=function(b){r.search=b||r.search;setTimeout(function(){r.searchInput[0].focus()},10)};r.findGroupByName=function(b){return r.groups&&r.groups.filter(function(d){return d.name===
b})[0]};r.parseRepeatAttr=function(d,e,p,t){function A(b){var d=k.$eval(e);if(r.groups=[],angular.forEach(b,function(b){var h=angular.isFunction(d)?d(b):b[d],e=r.findGroupByName(h);e?e.items.push(b):r.groups.push({name:h,items:[b]})}),p)b=k.$eval(p),angular.isFunction(b)?r.groups=b(r.groups):angular.isArray(b)&&(r.groups=C(r.groups,b));r.items=[];r.groups.forEach(function(b){r.items=r.items.concat(b.items)})}function w(b){r.items=b}r.setItemsFn=e?A:w;r.parserResult=l.parse(d.repeat);r.isGrouped=!!e;
r.itemProperty=r.parserResult.itemName;var z=r.parserResult.source,D=function(){var b=z(k);k.$uisSource=Object.keys(b).map(function(d){var h={};return h[r.parserResult.keyName]=d,h.value=b[d],h})};r.parserResult.keyName&&(D(),r.parserResult.source=q("$uisSource"+r.parserResult.filters),k.$watch(z,function(b,d){b!==d&&D()},!0));r.refreshItems=function(b){angular.isArray(b)&&d.refresh&&angular.isArray(r.items)&&"object"==typeof r.items[0]&&r.items[0].isTag&&b.unshift(r.items[0]);b=b||r.parserResult.source(k);
var e=r.selected;r.isEmpty()||angular.isArray(e)&&!e.length||!r.removeSelected?r.setItemsFn(b):void 0!==b&&(b=b.filter(function(b){return e.every(function(d){return!angular.equals(b,d)})}),r.setItemsFn(b));null!==r.items&&void 0!==r.items&&void 0!==r.items.length&&0<r.items.length?""!=r.search&&(b=h("xei18n")("uiselect.search.results",r.items.length),$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(b),$(".uiselect-hidden-accessible").innerText=b):null!==r.items&&void 0!==
r.items&&void 0!==r.items.length&&0===r.items.length&&(b=h("xei18n")("uiselect.no.results.found.text"),$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(b),$(".uiselect-hidden-accessible").innerText=b);"auto"!==r.dropdownPosition&&"up"!==r.dropdownPosition||k.calculateDropdownPos()};k.$watchCollection(r.parserResult.source,function(h){if(void 0===h||null===h)r.items=[];else{if(!angular.isArray(h))throw b("items","Expected an array but got '{0}'.",h);!d.minimumInputLength||
t.search.length>=d.minimumInputLength?r.refreshItems(h):(r.groups=[],r.items=[]);r.ngModel.$modelValue=null}})};var W;r.refresh=function(b){void 0!==b&&(W&&p.cancel(W),W=p(function(){k.$eval(b)},r.refreshDelay))};r.isActive=function(b){if(!r.open)return!1;var d=r.items.indexOf(b[r.itemProperty]),h=d==r.activeIndex;return!(!h||0>d&&!1!==r.taggingLabel||0>d&&!1===r.taggingLabel)&&(h&&!angular.isUndefined(r.onHighlightCallback)&&b.$eval(r.onHighlightCallback),h)};r.isDisabled=function(b){if(r.open){var d,
h=r.items.indexOf(b[r.itemProperty]),e=!1;return 0<=h&&!angular.isUndefined(r.disableChoiceExpression)&&(d=r.items[h],e=!!b.$eval(r.disableChoiceExpression),d._uiSelectChoiceDisabled=e),e}};r.select=function(b,d,e){if(void 0===b||!b._uiSelectChoiceDisabled){var l=r.selected;if(r.items||r.search||r.tagging.isActivated)if(!b||!b._uiSelectChoiceDisabled){if(r.tagging.isActivated){if(!1===r.taggingLabel)if(0>r.activeIndex){if(!(b=void 0!==r.tagging.fct?r.tagging.fct({tag:r.search,taggingKey:r.taggingKey}):
r.search)||angular.equals(r.items[0],b))return}else b=r.items[r.activeIndex];else if(b)if(void 0!==r.tagging.fct&&"object"==typeof b&&b.isTag){if(!(b=r.tagging.fct({tag:r.search,taggingKey:r.taggingKey,onSelect:!0})))return}else if(void 0!==r.tagging.fct&&"string"==typeof b&&-1!==b.indexOf(r.taggingLabel)){if(!(b=r.tagging.fct({tag:b,taggingKey:r.taggingKey,onSelect:!0})))return}else"string"==typeof b&&-1!==b.indexOf(r.taggingLabel)&&(b=b.replace(r.taggingLabel,"").trim());if(r.selected&&angular.isArray(r.selected)&&
0<r.selected.filter(function(d){return angular.equals(d,b)}).length)return void r.close(d)}r.search="";var t;b&&($(".uiselect-choice-status-hidden-accessible").text(""),t=void 0!=r.selectedValue?h("xei18n")("uiselect.option.selected",b[r.selectedValue]):h("xei18n")("uiselect.option.selected",b.name),$(".uiselect-choice-status-hidden-accessible").text(t),$(".uiselect-choice-status-hidden-accessible").innerText=t);k.$broadcast("uis:select",b);var v={};v[r.parserResult.itemName]=b;var q={};q[r.parserResult.itemName]=
l;p(function(){angular.isUndefined(b)?r.onRemoveCallback(k,{$item:l,$model:r.parserResult.modelMapper(k,q)}):r.onSelectCallback(k,{$item:b,$model:r.parserResult.modelMapper(k,v)})});r.focusSearchInput("");r.closeOnSelect&&r.close(d);e&&"click"===e.type&&(r.clickTriggeredSelect=!0)}}};r.close=function(b){r.open&&(r.ngModel&&r.ngModel.$setTouched&&r.ngModel.$setTouched(),D(),r.open=!1,k.$broadcast("uis:close",b))};r.setFocus=function(){r.focus||r.focusInput[0].focus()};r.clear=function(b){r.select(void 0);
b.stopPropagation();p(function(){r.focusser[0].focus()},0,!1)};r.toggle=function(b){r.open?(r.close(),b.preventDefault(),b.stopPropagation()):r.activate()};r.toggleMultiDropdown=function(b){};r.isLocked=function(b,d){var h;d=r.selected[d];return d&&!angular.isUndefined(r.lockChoiceExpression)&&(h=!!b.$eval(r.lockChoiceExpression),d._uiSelectChoiceLocked=h),h};var T=null;r.sizeSearchInput=function(){var b=r.searchInput[0],d=r.searchInput.parent().parent()[0],h=function(){return d.clientWidth*!!b.offsetParent},
e=function(d){if(0===d)return!1;var h=d-b.offsetLeft-10;return 50>h&&(h=d),r.searchInput.css("width",h+"px"),!0};r.searchInput.css("width","10px");p(function(){null!==T||e(h())||(T=k.$watch(h,function(b){e(b)&&(T(),T=null)}))})};r.searchInput.on("keydown",function(b){var d=b.which;if(~[e.ENTER,e.ESC].indexOf(d)&&(b.preventDefault(),b.stopPropagation()),~[e.ESC].indexOf(d)&&r.close(),!~[e.ENTER,e.ESC].indexOf(d)&&!e.isVerticalMovement(d)&&!1===r.searchEnabled)return b.preventDefault(),b.stopPropagation(),
!1;k.$apply(function(){var h=!1;if(0<r.items.length||r.tagging.isActivated){if(A(d),r.taggingTokens.isActivated){for(var k=0;k<r.taggingTokens.tokens.length;k++)r.taggingTokens.tokens[k]===e.MAP[b.keyCode]&&0<r.search.length&&(h=!0);h&&p(function(){r.searchInput.triggerHandler("tagged");var d=r.search.replace(e.MAP[b.keyCode],"").trim();r.tagging.fct&&(d=r.tagging.fct({tag:d,taggingKey:r.taggingKey}));d&&r.select(d,!0)})}}else!r.open&&r.multiple&&A(d)});e.isVerticalMovement(d)&&0<r.items.length&&
N();0==k.$select.search.length&&d===e.SPACE&&(b.preventDefault(),b.stopPropagation());d!==e.ENTER&&d!==e.ESC&&d!==e.UP&&e!==e.DOWN||(b.preventDefault(),b.stopPropagation());(-1===r.activeIndex||!1!==r.taggingLabel&&!e.isVerticalMovement(d))&&(r.activeIndex=0)});r.searchInput.on("paste",function(b){var d;if(d=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(b.originalEvent||b).clipboardData.getData("text/plain"),(d=r.search+d)&&0<d.length)if(r.taggingTokens.isActivated){var h=
e.toSeparator(r.taggingTokens.tokens[0]);(d=d.split(h||r.taggingTokens.tokens[0]))&&0<d.length&&(h=r.search,angular.forEach(d,function(b){(b=r.tagging.fct?r.tagging.fct({tag:b,taggingKey:r.taggingKey}):b)&&r.select(b,!0)}),r.search=h||H,b.preventDefault(),b.stopPropagation())}else r.paste&&(r.paste(d),r.search=H,b.preventDefault(),b.stopPropagation())});r.searchInput.on("tagged",function(){p(function(){D()})});k.$on("$destroy",function(){r.searchInput.off("keyup keydown tagged blur paste")});angular.element(I).bind("resize",
function(){r.sizeSearchInput()})}]);q.directive("xeUiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,d,p,h,l,b,t){return{restrict:"EA",templateUrl:function(b,h){return(h.theme||d.theme)+(angular.isDefined(h.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["xeUiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(l,v){var q=/{(.*)}\s*{(.*)}/.exec(v.ngClass);
q&&(q="{"+q[1]+", "+q[2]+"}",v.ngClass=q,l.attr("ng-class",q));return angular.isDefined(v.multiple)?l.append("<ui-select-multiple/>").removeAttr("multiple"):l.append("<ui-select-single/>"),v.inputId&&(l.querySelectorAll("input.ui-select-search")[0].id=v.inputId),function(l,v,q,y,z){function r(b){if(G.open){if((window.jQuery?!window.jQuery.contains(v[0],b.target):!v[0].contains(b.target))&&!G.clickTriggeredSelect){var d;if(G.skipFocusser)d=!0;else{var h=["input","button","textarea","select"];(d=(d=
angular.element(b.target).controller("xeUiSelect"))&&d!==G)||(d=~h.indexOf(b.target.tagName.toLowerCase()))}G.close(d);l.$digest()}G.clickTriggeredSelect=!1}}function I(){null!==L&&(L.replaceWith(v),L=null,v[0].style.position="",v[0].style.left="",v[0].style.top="",v[0].style.width=W,G.setFocus())}var G=y[0];y=y[1];G.selectedValue=q.textSelected;G.refreshOnChange=void 0!==q.refreshOnChange?q.refreshOnChange:"";G.disabled=!!q.hasOwnProperty("ngDisabled");G.generatedId=d.generateId();G.baseTitle=q.title||
"Select box";G.focusserId="focusser-"+G.generatedId;"false"===q.searchEnabled?G.focusserTitle=G.baseTitle+("true"===q.ngRequired?", required":"")+", focus, Single Select Search Unavailable":G.focusserTitle=G.baseTitle+("true"===q.ngRequired?", required":"")+", focus";G.closeOnSelect=angular.isDefined(q.closeOnSelect)?b(q.closeOnSelect)():d.closeOnSelect;l.$watch("skipFocusser",function(){var b=l.$eval(q.skipFocusser);G.skipFocusser=void 0!==b?b:d.skipFocusser});G.onSelectCallback=b(q.onSelect);G.onRemoveCallback=
b(q.onRemove);G.limit=angular.isDefined(q.limit)?parseInt(q.limit,10):void 0;G.ngModel=y;G.choiceGrouped=function(b){return G.isGrouped&&b&&b.name};q.tabindex&&q.$observe("tabindex",function(b){G.focusInput.attr("tabindex",b);v.removeAttr("tabindex")});l.$watch("searchEnabled",function(){var b=l.$eval(q.searchEnabled);G.searchEnabled=void 0!==b?b:d.searchEnabled});l.$watch("sortable",function(){var b=l.$eval(q.sortable);G.sortable=void 0!==b?b:d.sortable});q.$observe("disabled",function(){G.disabled=
void 0!==q.disabled&&q.disabled});q.$observe("resetSearchInput",function(){var b=l.$eval(q.resetSearchInput);G.resetSearchInput=void 0===b||b});q.$observe("paste",function(){G.paste=l.$eval(q.paste)});q.$observe("tagging",function(){if(void 0!==q.tagging){var b=l.$eval(q.tagging);G.tagging={isActivated:!0,fct:!0!==b?b:void 0}}else G.tagging={isActivated:!1,fct:void 0}});q.$observe("taggingLabel",function(){void 0!==q.tagging&&("false"===q.taggingLabel?G.taggingLabel=!1:G.taggingLabel=void 0!==q.taggingLabel?
q.taggingLabel:"(new)")});q.$observe("taggingKey",function(){void 0!==q.tagging&&(G.taggingKey=void 0!==q.taggingKey?q.taggingKey:"")});q.$observe("taggingTokens",function(){if(void 0!==q.tagging){var b=void 0!==q.taggingTokens?q.taggingTokens.split("|"):[",","ENTER"];G.taggingTokens={isActivated:!0,tokens:b}}});angular.isDefined(q.autofocus)&&t(function(){G.setFocus()});angular.isDefined(q.focusOn)&&l.$on(q.focusOn,function(){t(function(){G.setFocus()})});e.on("click",r);l.$on("$destroy",function(){e.off("click",
r)});z(l,function(b){b=angular.element("<div>").append(b);var d=b.querySelectorAll(".ui-select-match");if(d.removeAttr("ui-select-match"),d.removeAttr("data-ui-select-match"),1!==d.length)throw p("transcluded","Expected 1 .ui-select-match but got '{0}'.",d.length);v.querySelectorAll(".ui-select-match").replaceWith(d);b=b.querySelectorAll(".ui-select-choices");if(b.removeAttr("ui-select-choices"),b.removeAttr("data-ui-select-choices"),1!==b.length)throw p("transcluded","Expected 1 .ui-select-choices but got '{0}'.",
b.length);v.querySelectorAll(".ui-select-choices").replaceWith(b)});z=l.$eval(q.appendToBody);(void 0!==z?z:d.appendToBody)&&(l.$watch("$select.open",function(b){b?(b=h(v),L=angular.element('<div class="ui-select-placeholder"></div>'),L[0].style.width=b.width+"px",L[0].style.height=b.height+"px",v.after(L),W=v[0].style.width,e.find("body").append(v),v[0].style.position="absolute",v[0].style.left=b.left+"px",v[0].style.top=b.top+"px",v[0].style.width=b.width+"px"):I()}),l.$on("$destroy",function(){I()}));
var L=null,W="",T=null;l.$watch("$select.open",function(){"auto"!==G.dropdownPosition&&"up"!==G.dropdownPosition||l.calculateDropdownPos()});var ba=function(b,d){b||h(v);d=d||h(T);T[0].style.position="absolute";T[0].style.top=-1*d.height+"px";v.addClass("direction-up")};l.calculateDropdownPos=function(){if(G.open){if(T=angular.element(v).querySelectorAll(".ui-select-dropdown"),0!==T.length)T[0].style.opacity=0,t(function(){if("up"===G.dropdownPosition)ba();else{v.removeClass("direction-up");var b=
h(v),d=h(T);b.top+b.height+d.height>(e[0].documentElement.scrollTop||e[0].body.scrollTop)+e[0].documentElement.clientHeight?ba(b,d):(v.removeClass("direction-up"),b||h(v),d||h(T),T[0].style.position="",T[0].style.top="")}T[0].style.opacity=1})}else null!==T&&0!==T.length&&(T[0].style.position="",T[0].style.top="",v.removeClass("direction-up"))}}}}}]);q.directive("xeUiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(d){return d.addClass("ui-select-match"),
(d.parent().attr("theme")||e.theme)+(d.parent().attr("multiple")?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(d,p,h,l){function b(b){l.allowClear=!!angular.isDefined(b)&&(""===b||"true"===b.toLowerCase())}l.lockChoiceExpression=h.uiLockChoice;h.$observe("placeholder",function(b){l.placeholder=void 0!==b?b:e.placeholder});h.$observe("allowClear",b);b(h.allowClear);l.multiple&&l.sizeSearchInput()}}}]);q.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(k,d){return{restrict:"EA",
require:["^xeUiSelect","^ngModel"],controller:["$scope","$timeout",function(d,h){var e,b=this,k=d.$select;angular.isUndefined(k.selected)&&(k.selected=[]);d.$evalAsync(function(){e=d.ngModel});b.activeMatchIndex=-1;b.updateModel=function(){e.$setViewValue(Date.now());b.refreshComponent()};b.refreshComponent=function(){k.refreshItems();k.sizeSearchInput()};b.removeChoice=function(e){var l=k.selected[e];if(!l._uiSelectChoiceLocked){var v={};v[k.parserResult.itemName]=l;k.selected.splice(e,1);b.activeMatchIndex=
-1;k.sizeSearchInput();h(function(){k.onRemoveCallback(d,{$item:l,$model:k.parserResult.modelMapper(d,v)})});b.updateModel();k.setFocus()}};b.getPlaceholder=function(){if(!k.selected||!k.selected.length)return k.placeholder}}],controllerAs:"$selectMultiple",link:function(p,h,l,b){function t(b){return angular.isNumber(b.selectionStart)?b.selectionStart:b.value.length}function q(b){function d(){switch(b){case e.LEFT:if(~C.activeMatchIndex){var h=w.selected[v].name;return $(".uiselect-choice-status-hidden-accessible").text(h),
v}h=w.selected[p].name;return $(".uiselect-choice-status-hidden-accessible").text(h),p;case e.RIGHT:return~C.activeMatchIndex&&k!==p?(h=w.selected[l].name,$(".uiselect-choice-status-hidden-accessible").text(h),l):(w.activate(),!1);case e.BACKSPACE:return~C.activeMatchIndex?(C.removeChoice(k),v):p;case e.DELETE:return!!~C.activeMatchIndex&&(C.removeChoice(C.activeMatchIndex),k)}}var h=t(w.searchInput[0]),p=w.selected.length-1,k=C.activeMatchIndex,l=C.activeMatchIndex+1,v=C.activeMatchIndex-1,y=k;return!(0<
h||w.search.length&&b==e.RIGHT||(w.close(),y=d(),w.selected.length&&!1!==y?C.activeMatchIndex=Math.min(p,Math.max(0,y)):C.activeMatchIndex=-1,0))}function z(b){return void 0!==b&&void 0!==w.search&&0<b.filter(function(b){return void 0!==w.search.toUpperCase()&&void 0!==b&&b.toUpperCase()===w.search.toUpperCase()}).length}function I(b,d){var h=-1;if(angular.isArray(b)){b=angular.copy(b);for(var e=0;e<b.length;e++)if(void 0===w.tagging.fct)b[e]+" "+w.taggingLabel===d&&(h=e);else{var p=b[e];angular.isObject(p)&&
(p.isTag=!0);angular.equals(p,d)&&(h=e)}}return h}var w=b[0],D=p.ngModel=b[1],C=p.$selectMultiple;w.multiple=!0;w.removeSelected=!0;w.focusInput=w.searchInput;D.$isEmpty=function(b){return!b||0===b.length};D.$parsers.unshift(function(){for(var b,d=[],h=w.selected.length-1;0<=h;h--)b={},b[w.parserResult.itemName]=w.selected[h],b=w.parserResult.modelMapper(p,b),d.unshift(b);return d});D.$formatters.unshift(function(b){var d,h=w.parserResult.source(p,{$select:{search:""}}),e={};if(!h)return b;var k=
[],l=function(b,h){if(b&&b.length){for(var l=b.length-1;0<=l;l--){if(e[w.parserResult.itemName]=b[l],d=w.parserResult.modelMapper(p,e),w.parserResult.trackByExp){var t=/(\w*)\./.exec(w.parserResult.trackByExp),r=/\.([^\s]+)/.exec(w.parserResult.trackByExp);if(t&&0<t.length&&t[1]==w.parserResult.itemName&&r&&0<r.length&&d[r[1]]==h[r[1]])return k.unshift(b[l]),!0}if(angular.equals(d,h))return k.unshift(b[l]),!0}return!1}};if(!b)return k;for(var t=b.length-1;0<=t;t--)l(w.selected,b[t])||l(h,b[t])||k.unshift(b[t]);
return k});p.$watchCollection(function(){return D.$modelValue},function(b,d){d!=b&&(D.$modelValue=null,C.refreshComponent())});D.$render=function(){if(!angular.isArray(D.$viewValue)){if(!angular.isUndefined(D.$viewValue)&&null!==D.$viewValue)throw k("multiarr","Expected model value to be array but got '{0}'",D.$viewValue);w.selected=[]}w.selected=D.$viewValue;C.refreshComponent();p.$evalAsync()};p.$on("uis:select",function(b,d){w.selected.length>=w.limit||(w.selected.push(d),C.updateModel())});p.$on("uis:activate",
function(){C.activeMatchIndex=-1});p.$watch("$select.disabled",function(b,d){d&&!b&&w.sizeSearchInput()});w.searchInput.on("keydown",function(b){var d=b.which;p.$apply(function(){var h=!1;e.isHorizontalMovement(d)&&(h=q(d));h&&d!=e.TAB&&(b.preventDefault(),b.stopPropagation())})});w.searchInput.on("keyup",function(b){if((e.isVerticalMovement(b.which)||p.$evalAsync(function(){w.activeIndex=!1===w.taggingLabel?-1:0}),w.tagging.isActivated&&0<w.search.length)&&!(b.which===e.TAB||e.isControl(b)||e.isFunctionKey(b)||
b.which===e.ESC||e.isVerticalMovement(b.which))&&(w.activeIndex=!1===w.taggingLabel?-1:0,!1!==w.taggingLabel)){var d,h,k,l,t=angular.copy(w.items);b=angular.copy(w.items);var v=!1,q=-1;if(void 0!==w.tagging.fct){if(k=w.$filter("filter")(t,{isTag:!0}),0<k.length&&(l=k[0]),0<t.length&&l&&(v=!0,t=t.slice(1,t.length),b=b.slice(1,b.length)),d=w.tagging.fct({tag:w.search,taggingKey:w.taggingKey}),b.some(function(b){return angular.equals(b,w.tagging.fct({tag:w.search,taggingKey:w.taggingKey}))})||w.selected.some(function(b){return angular.equals(b,
d)}))return void p.$evalAsync(function(){w.activeIndex=0;w.items=t});d.isTag=!0}else{if(k=w.$filter("filter")(t,function(b){return b.match(w.taggingLabel)}),0<k.length&&(l=k[0]),h=t[0],void 0!==h&&0<t.length&&l&&(v=!0,t=t.slice(1,t.length),b=b.slice(1,b.length)),d=w.search+" "+w.taggingLabel,-1<I(w.selected,w.search))return;if(z(b.concat(w.selected)))return void(v&&(t=b,p.$evalAsync(function(){w.activeIndex=0;w.items=t})));if(z(b))return void(v&&(w.items=b.slice(1,b.length)))}v&&(q=I(w.selected,d));
-1<q?t=t.slice(q+1,t.length-1):(t=[],t.push(d),t=t.concat(b));p.$evalAsync(function(){w.activeIndex=0;w.items=t})}});w.searchInput.on("blur",function(){d(function(){C.activeMatchIndex=-1})})}}}]);q.directive("uiSelectSingle",["$timeout","$compile",function(k,d){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],link:function(p,h,l,b){function t(b){return void 0!==b&&void 0!==q.search&&0<b.filter(function(b){return void 0!==q.search.toUpperCase()&&void 0!==b&&b.toUpperCase()===q.search.toUpperCase()}).length}
var q=b[0],z=b[1];z.$parsers.unshift(function(b){var d={};return d[q.parserResult.itemName]=b,q.parserResult.modelMapper(p,d)});z.$formatters.unshift(function(b){var d=q.parserResult.source(p,{$select:{search:""}}),h={};if(d){if(q.selected&&(h[q.parserResult.itemName]=q.selected,q.parserResult.modelMapper(p,h)==b))return q.selected;for(var e=d.length-1;0<=e;e--)if(h[q.parserResult.itemName]=d[e],q.parserResult.modelMapper(p,h)==b)return d[e]}return b});p.$watch("$select.selected",function(b){z.$viewValue!==
b&&z.$setViewValue(b)});z.$render=function(){q.selected=z.$viewValue};p.$on("uis:select",function(b,d){q.selected=d});p.$on("uis:close",function(b,d){k(function(){q.tagging.isActivated&&q.refreshItems();q.focusser.prop("disabled",!1);d||q.focusser[0].focus()},0,!1)});p.$on("uis:activate",function(){I.prop("disabled",!0)});var I=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button'/><abbr ng-if=\"$select.allowClear && !$select.isEmpty()\" class=\"select2-search-choice-close ui-select-clear\" tabindex=\"0\" ng-click=\"$select.clear($event)\" xe-key-enter><span class=\"ui-select-offscreen\">Clear</span></abbr>");
d(I)(p);q.focusser=I;q.focusInput=I;h.parent().append(I);I.bind("focus",function(){p.$evalAsync(function(){q.focus=!0})});I.bind("blur",function(){p.$evalAsync(function(){q.focus=!1})});I.bind("keydown",function(b){if(b.which===e.BACKSPACE)return b.preventDefault(),b.stopPropagation(),q.select(void 0),void p.$apply();if(b.which!==e.TAB&&!e.isControl(b)&&!e.isFunctionKey(b)&&b.which!==e.ESC)return b.which==e.DOWN||b.which==e.UP||b.which==e.ENTER||b.which==e.SPACE?(b.preventDefault(),b.stopPropagation(),
q.activate(),!1):void p.$digest()});q.searchInput.on("keyup",function(b){if(q.tagging.isActivated&&0<q.search.length){if(!(b.which===e.TAB||e.isControl(b)||e.isFunctionKey(b)||b.which===e.ESC||e.isVerticalMovement(b.which))&&(q.activeIndex=!1===q.taggingLabel?-1:0,!1!==q.taggingLabel)){var d,h,k,l=angular.copy(q.items);b=angular.copy(q.items);var r=!1;if(void 0!==q.tagging.fct){if(d=q.$filter("filter")(l,{isTag:!0}),0<d.length&&(k=d[0]),0<l.length&&k&&(r=!0,l=l.slice(1,l.length),b=b.slice(1,b.length),
b.some(function(b){return angular.equals(b[q.taggingKey].toLowerCase(),q.search.toLowerCase())})))return void p.$evalAsync(function(){q.activeIndex=0;q.items=l});d=q.tagging.fct({tag:q.search,taggingKey:q.taggingKey});d.isTag=!0}else{var v=q.parserResult.source(p,{$select:{search:""}});if(k=l.filter(function(b){return 0>v.indexOf(b)})[0],h=l[0],void 0!==h&&0<l.length&&k&&(r=!0,l=l.slice(1,l.length),b=b.slice(1,b.length)),d=q.search+(q.taggingLabel?" "+q.taggingLabel:""),t(b.concat(q.selected)))return void(r&&
(l=b,p.$evalAsync(function(){q.activeIndex=0;q.items=l})));if(t(b))return void(r&&(q.items=b.slice(1,b.length)))}l=[];l.push(d);l=l.concat(b);p.$evalAsync(function(){q.activeIndex=0;q.items=l})}}else q.tagging.isActivated&&0===q.search.length&&angular.isArray(q.items)&&q.refreshItems()});I.bind("keyup input",function(b){b.which===e.TAB||e.isControl(b)||e.isFunctionKey(b)||b.which===e.ESC||b.which==e.ENTER||b.which===e.BACKSPACE||(q.activate(I.val()),I.val(""),p.$digest())})}}}]);q.directive("uiSelectSort",
["$timeout","uiSelectConfig","uiSelectMinErr",function(e,d,p){return{require:"^xeUiSelect",link:function(d,l,b,t){if(null===d[b.uiSelectSort])throw p("sort","Expected a list to sort");var q=angular.extend({axis:"horizontal"},d.$eval(b.uiSelectSortOptions)).axis;d.$watch(function(){return t.sortable},function(b){b?l.attr("draggable",!0):l.removeAttr("draggable")});l.on("dragstart",function(b){l.addClass("dragging");(b.dataTransfer||b.originalEvent.dataTransfer).setData("text",d.$index.toString())});
l.on("dragend",function(){l.removeClass("dragging")});var z,I=function(b,d){this.splice(d,0,this.splice(b,1)[0])},w=function(b){b.preventDefault();("vertical"===q?b.offsetY||b.layerY||(b.originalEvent?b.originalEvent.offsetY:0):b.offsetX||b.layerX||(b.originalEvent?b.originalEvent.offsetX:0))<this["vertical"===q?"offsetHeight":"offsetWidth"]/2?(l.removeClass("dropping-after"),l.addClass("dropping-before")):(l.removeClass("dropping-before"),l.addClass("dropping-after"))},D=function(b){b.preventDefault();
var d=parseInt((b.dataTransfer||b.originalEvent.dataTransfer).getData("text"),10);e.cancel(z);z=e(function(){C(d)},20)},C=function(e){var p=d.$eval(b.uiSelectSort),k=p[e],t=null,t=l.hasClass("dropping-before")?e<d.$index?d.$index-1:d.$index:e<d.$index?d.$index:d.$index+1;I.apply(p,[e,t]);d.$apply(function(){d.$emit("uiSelectSort:change",{array:p,item:k,from:e,to:t})});l.removeClass("dropping");l.removeClass("dropping-before");l.removeClass("dropping-after");l.off("drop",D)};l.on("dragenter",function(){l.hasClass("dragging")||
(l.addClass("dropping"),l.on("dragover",w),l.on("drop",D))});l.on("dragleave",function(b){b.target==l&&(l.removeClass("dropping"),l.removeClass("dropping-before"),l.removeClass("dropping-after"),l.off("dragover",w),l.off("drop",D))})}}}]);q.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,d){this.parse=function(p){var h;if(!(h=p.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp",
"Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);p=h[5];var l="";if(h[3]){p=h[5].replace(/(^\()|(\)$)/g,"");var b=h[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);b&&b[1].trim()&&(l=b[1],p=p.replace(l,""))}return{itemName:h[4]||h[2],keyName:h[3],source:d(p),filters:l,trackByExp:h[6],modelMapper:d(h[1]||h[4]||h[2]),repeatExpression:function(b){b=this.itemName+" in "+(b?"$group.items":"$select.items");return this.trackByExp&&(b+=" track by "+this.trackByExp),
b}}};this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])})();
angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>');e.put("bootstrap/match-multiple.tpl.html",
'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');
e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');
e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="application" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>');
e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');
e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results" ><li ng-if="$select.minimumInputLength" ng-show="$select.showMinMsg" class="select2-no-results" role="option" ng-bind="\'uiselect.minimum.input.text\' | xei18n: $select.minimumInputLength" aria-live="polite" ></li><li ng-show="$select.showNoResultsMsg && !$select.showMinMsg" role="option"  class="select2-no-results "  ng-bind="\'uiselect.no.results.found.text\' | xei18n" > <li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }" role="option"  ><div ng-show="$select.choiceGrouped($group) && !$select.showNoResultsMsg && !$select.showMinMsg" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul ng-show="!$select.showNoResultsMsg && !$select.showMinMsg" role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row"  ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}" ><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');
e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');
e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span><span class="select2-arrow ui-select-toggle"><b></b></span></a>');e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices" ng-click="$select.activate()"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="application" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search"  style="width: 34px;" ondrop="return false;"/></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');
e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div ng-class=" {\'ui-select-search-hidden\' : !$select.searchEnabled , \'select2-search\' : $select.searchEnabled , \'search-container\' : $select.searchEnabled }"><input type="text" autocomplete="off" aria-autocomplete="list" autocorrect="false" autocapitalize="off" spellcheck="false" role="application" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>');
e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');
e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]);
(function(){angular.module("xeUISelect",["ui.select","ngSanitize"]).filter("propsFilter",function(){return function(e,l){var q=[];return angular.isArray(e)?e.forEach(function(e){var d=!1;if("string"==typeof e)-1!==e.toLowerCase().indexOf(l.toLowerCase())&&(d=!0);else if("object"==typeof e)for(var p=Object.keys(l),h=0;h<p.length;h++){var v=p[h],b=l[v].toLowerCase();if(-1!==e[v].toString().toLowerCase().indexOf(b)){d=!0;break}}d&&q.push(e)}):q=e,q}}).directive("reachInfinity",["$parse","$timeout","$q",
function(e,l,q){function k(d){if(d)return d=d[0]||d,isNaN(d.offsetHeight)&&d.document?d.document.documentElement.clientHeight:d.offsetHeight}function d(d){if(d&&d[0]&&d[0].getBoundingClientRect&&!d.css("none")){var e=d[0].getBoundingClientRect().top;var b=d;d=b?(b=b[0]||b,isNaN(window.pageYOffset)&&b.document?b.document.documentElement.scrollTop:b.ownerDocument.defaultView.pageYOffset):void 0;return e+d}}function p(d,e,b){var p=!1;b=b||window;var k=function(){p||(p=!0,requestAnimationFrame(function(){b.dispatchEvent(new CustomEvent(e));
p=!1}))};return b.addEventListener(d,k),function(){b.removeEventListener(d,k)}}return{link:function(h,v,b){function t(){var l=v.querySelectorAll(".ui-select-choices-row");if(0===l.length)return!1;var t=angular.element(l[l.length-1]);z=angular.element(v.querySelectorAll(".ui-select-choices-content"));var w=function(){var p=k(z),r=0;l=v.querySelectorAll(".ui-select-choices-row");t=angular.element(l[l.length-1]);void 0!==d(z)&&(r=d(z));p=d(t)-r+k(t)-p;0<k(z)&&p<=k(z)*(I+1)&&q.when(e(b.reachInfinity)(h)).then(function(){setTimeout(function(){l=
v.querySelectorAll(".ui-select-choices-row");t=angular.element(l[l.length-1])},0)})};return y=p("scroll","optimizedScroll",z[0]),z.on("optimizedScroll",w),h.$on("$destroy",function(){y();z.off("optimizedScroll",w)}),!0}var y,z=v,I=angular.isDefined(b.scrollDistance)?parseInt(b.scrollDistance):.3,w=h.$watch("$select.open",function(b){b&&l(function(){t()&&w()})})}}}]).directive("xeKeyEnter",function(){return{restrict:"A",scope:!0,link:function(e,l){l.on("keydown",function(e){13===e.which&&(l.click(),
e.preventDefault(),e.stopPropagation())})}}})})();angular.module("external-resouces",["pascalprecht.translate","ngSanitize"]);
(function(){angular.module("xe-ui-components").constant("keyCodes",{A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144}).run(["$rootScope","$window","getlocale",
"Language","$translate",function(e,l,q,k,d){e.isMAC=-1!==l.navigator.userAgent.indexOf("Mac");e.isRtl=k.isRtl();d.use(q.getUserLocale())}])})();
(function(){angular.module("utils",["ngResource"]).directive("numbersOnly",function(){return{require:"ngModel",link:function(e,l,q,k){k.$parsers.push(function(d){if(void 0===d)return"";var e=d.replace(/[^0-9]/g,"");return e!==d&&(k.$setViewValue(e),k.$render()),e})}}}).directive("browserDetect",function(){return{link:function(e,l){e=angular||{};var q=navigator.userAgent;e.ISFF=-1!==q.indexOf("Firefox");e.ISOPERA=-1!==q.indexOf("Opera");e.ISCHROME=-1!==q.indexOf("Chrome");e.ISSAFARI=-1!==q.indexOf("Safari")&&
!e.ISCHROME;e.ISWEBKIT=-1!==q.indexOf("WebKit");e.ISIE=0<q.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE");e.ISIE9=0<q.indexOf("MSIE 9");e.ISIE10=0<q.indexOf("MSIE 10");e.ISIE11UP=-1===q.indexOf("MSIE")&&0<q.indexOf("Trident");e.ISIE10UP=e.ISIE10||e.ISIE11UP;e.ISIE9UP=e.ISIE9||e.ISIE10UP;e.ISIE9?l.addClass("ie ie9"):e.ISCHROME?l.addClass("modern chrome"):l.addClass("modern")}}}).directive("continuousScroll",["$window",function(e){return{restrict:"A",scope:{continuousScroll:"&",scrollParent:"@"},
link:function(l,q){var k;k="body"===l.scrollParent?angular.element(e):""!==l.scrollParent?angular.element("#"+l.scrollParent):q;var d=_.throttle(function(d){500>=("body"===l.scrollParent?angular.element(document).height():d[0].scrollHeight)-d.scrollTop()-d.height()&&l.continuousScroll()},500);k.bind("scroll",function(){d(k)});l.$on("$destroy",function(){k.off("scroll")})}}}]).directive("xeKeypress",["keyCodes",function(e){var l=function(l,k){var d=k.split(",");for(k=0;k<d.length;k+=1)if(l===e[d[k]])return!0;
return!1};return{restrict:"A",link:function(e,k,d){k.bind("keypress",function(p){l(p.which||p.keyCode,d.codes)&&e.$apply(function(){e.$eval(d.xeKeypress,{$event:p})})})}}}]).factory("accessibility",["$rootScope","keyCodes","$document",function(e,l,q){function k(b,e){q.off("keydown",h).on("keydown",{table:b,parent:e},h);b.on("keydown",function(h){var k,q,w=angular.element(h.target),D=(w.closest(".column-filter-container").length,w.is("input.search")),C=!!w.closest(".thead").length,A=!!w.closest(".tbody").length;
b.find(".tbody tbody").is(":empty");w.closest(".tfoot").length;if(!w.is("[xe-keypress]")){switch(h.which){case l.ENTER:D?(k=b.find(".tbody tbody tr:first-child"),b.find(".active-row").removeClass("active-row"),b.find(".active").removeClass("active")):(A||C)&&(q=w);break;case l.SPACEBAR:if(!C)return!0;q=w;break;default:k=p(h,b.find(":not([global-key])[shortcut-key]")),v(k,e)}k&&k.length?(k.select().focus(),k.is("tr")&&k.addClass("active-row"),k=k.find("a, :input, [tabindex=0], .xe-checkbox").first().not(":hidden, .disabled, :disabled, [readonly]"),
k.length&&d(k),h.preventDefault()):q&&q.length&&(q.is("a")?(q=q.get(0),q.click()):q.select().focus().click(),h.preventDefault())}})}function d(b){b.select().focus().on("focusout",function(b){b=angular.element(b.target);b.closest("th").removeClass("focus-ring");b.closest("td").removeClass("active focus-ring");b.off("focusout")});b.closest("tr th").addClass("focus-ring");b.closest("tr td").addClass("active focus-ring")}function p(b,d){if(!angular.isUndefined(d)&&d.length){for(var e,h=0;h<d.length;h++){var p=
["ctrl","alt","shift","meta"],k=d.eq(h).attr("shortcut-key").split("+");if(1===k.length){if(l[k[0]]===b.which){e=d.eq(h);break}}else if(2===k.length&&-1!==p.indexOf(k[0].toLowerCase())){if(b[k[0].toLowerCase()+"Key"]&&l[k[1]]===b.which){e=d.eq(h);break}}else if(3===k.length&&-1!==p.indexOf(k[0].toLowerCase())&&-1!==p.indexOf(k[1].toLowerCase())&&b[k[0].toLowerCase()+"Key"]&&b[k[1].toLowerCase()+"Key"]&&l[k[2]]===b.which){e=d.eq(h);break}}return e}}var h=function(b){var d=p(b,b.data.table.find("[global-key][shortcut-key]"));
d&&d.length&&(v(d,b.data.parent),d.select().focus().click(),b.preventDefault())},v=function(b,d){d.prop("nodeName")||(d=angular.element("#content"));d.length&&b&&d.animate({scrollTop:b.offset().top-d.offset().top+d.scrollTop()})};return{provideAccessibilityForTable:function(b,d){var h;h=e.isMAC?"CTRL+META+Y":"ALT+Y";b.find("input.search:first").attr("shortcut-key",h).attr("global-key",!0);k(b,d)}}}]).factory("getlocale",["$translate",function(e){return{getUserLocale:function(){var l=jQuery("meta[name=userLocale]").attr("content");
return l||(l=e.use()),l}}}]).factory("Language",["$translate",function(e){return{isRtl:function(){var l=jQuery("meta[name=dir]").attr("content");if(!l){for(var l=["ar"],q=e.proposedLanguage()||e.use(),k=0;k<l.length;k+=1)if(-1<q.indexOf(l[k]))return!0;return!1}return"rtl"===l}}}]).filter("xei18n",["$filter",function(e){return function(l,q){var k="";return angular.isDefined(l)&&angular.isDefined(jQuery.i18n)&&(k=jQuery.i18n.prop(l,[q])),(!k||0<=k.indexOf(l))&&(k=e("translate")(l,{arg1:q})),k}}])})();
(function(){angular.module("columnFilter",[]).directive("xeColumnFilter",["$document","$timeout","keyCodes",function(e,l,q){return{restrict:"E",scope:{header:"="},replace:!0,templateUrl:"templates/column-filter.html",controller:["$scope",function(e){e.selectAll={visible:!0};e.hideColumnSettingMenu=!0;e.hideUnhideColumn=function(d,p){d.options.visible?e.header.filter(function(d){return!1===d.options.visible&&!1!==d.options.columnShowHide}).length||(e.selectAll.visible=!0):e.selectAll.visible=!1};e.onSelectAll=
function(d,p){e.selectAll.visible=!0;angular.forEach(d,function(d){!1===d.options.visible&&!1!==d.options.columnShowHide&&(d.options.visible=!0)})}}],link:function(k,d,p){var h=function(){e.off("click");l(function(){d.find("button").attr("tabindex",0)},10)};d.on("close",function(e,b){0<d.find(b).length||(k.hideColumnSettingMenu=!0,h(),(angular.isUndefined(b)||angular.element(b).is(":not(:focus)"))&&d.find(".column-filter-button").focus(),k.$apply())});k.bindClickEvent=function(p){k.hideColumnSettingMenu=
!k.hideColumnSettingMenu;k.hideColumnSettingMenu?h():(d.find("button").attr("tabindex",-1),e.on("click",function(b){d.trigger("close",b.target)}),l(function(){d.find("ul.column-setting-menu li:first").find("div").focus()},10))};l(function(){d.find("ul.column-setting-menu li").bind("keydown",function(e){if(e.keyCode===q.ESC&&(k.hideColumnSettingMenu=!0,h(),d.find(".column-filter-button").focus(),e.preventDefault(),e.stopPropagation()),e.keyCode===q.DOWN||e.keyCode===q.TAB){if(0<$(e.currentTarget).next().length){var b=
$(e.currentTarget).next();$(b).find("div").focus()}else d.find("ul.column-setting-menu li:first").find("div").focus();e.preventDefault();e.stopPropagation()}if(e.keyCode===q.UP||e.shiftKey&&e.keyCode===q.TAB)0<$(e.currentTarget).prev().length?(b=$(e.currentTarget).prev(),$(b).find("div").focus()):d.find("ul.column-setting-menu li:last").find("div").focus(),e.preventDefault(),e.stopPropagation()})},10)}}}])})();
angular.module("pagination",[]).directive("xePagination",["$http","$q",function(e,l){var q=function(d){var p=l.defer();return url=d.endPoint+"?searchString="+(d.searchString?d.searchString:"")+"&sortColumnName="+(d.sortColumnName?d.sortColumnName:"")+"&ascending="+d.ascending+"&offset="+(d.offset?d.offset:"")+"&max="+(d.max?d.max:""),e.get(url).then(function(d){p.resolve(d)}).catch(function(){p.reject(data)}),p.promise},k=function(d,e){d*=e;return{max:d,offset:0===d?0:d-e}};return{restrict:"EA",replace:!0,
require:"?^xeTableGrid",scope:{model:"=",endPoint:"=?",paginationConfig:"=?",resultsFound:"=",searchString:"=",fetch:"&?",postFetch:"&",totalValue:"=?"},templateUrl:"templates/pagination.html",controller:["$scope","$attrs","$timeout",function(d,e,h){var l=1;d.firstPrev=!1;d.nextLast=!1;d.onPage=1;angular.isObject(d.paginationConfig)&&!d.paginationConfig.pageLengths?d.pageOffsets=[10,20,50,100]:d.pageOffsets=d.paginationConfig.pageLengths;angular.isObject(d.paginationConfig)&&d.paginationConfig.offset?
d.offset=d.paginationConfig.offset:d.offset=d.pageOffsets[0];0>d.pageOffsets.indexOf(d.offset)&&(d.pageOffsets.push(d.offset),d.pageOffsets.sort(function(b,d){return b-d}));d.offsetChanged=function(b){y();z(d.onPage,d.numberOfPages);b&&d.fetchData(d.onPage,d.offset)};d.first=function(){d.firstPrev||(b(1),d.fetchData(d.onPage,d.offset),z(d.onPage,d.numberOfPages),t())};d.prev=function(e){if(!d.firstPrev){var h=parseInt(d.onPage);h--;b(h);d.fetchData(d.onPage,d.offset,e);z(d.onPage,d.numberOfPages);
d.firstPrev&&t()}};d.next=function(e){if(!d.nextLast){var h=parseInt(d.onPage);h++;b(h);d.fetchData(d.onPage,d.offset,e);z(d.onPage,d.numberOfPages);d.nextLast&&t()}};d.last=function(){d.nextLast||(b(d.numberOfPages),d.fetchData(d.onPage,d.offset),z(d.onPage,d.numberOfPages),t())};d.paggeNumberChange=function(){d.onPage&&t();null!==d.onPage&&l!=d.onPage&&(angular.isUndefined(d.onPage)||0>=d.onPage||d.onPage>d.numberOfPages?d.onPage=l:(b(d.onPage),d.fetchData(d.onPage,d.offset),z(d.onPage,d.numberOfPages)))};
d.focusOut=function(b){angular.element(b.target).val(l)};d.$watch("resultsFound",function(e,p){h(function(){0===e?b(0):0===d.onPage&&b(1);y();z(d.onPage,d.numberOfPages)})});var b=function(b){l=d.onPage=b;y();z(d.onPage,d.numberOfPages)},t=function(){h(function(){angular.element("#pageInput").select().focus()},50)},y=function(){d.numberOfPages=Math.ceil(d.resultsFound/d.offset);d.numberOfPages=1>d.numberOfPages?0:d.numberOfPages;d.onPage>d.numberOfPages&&b(d.numberOfPages)},z=function(b,e){b=parseInt(b);
e=parseInt(e);var h=e/b;1===e?(d.firstPrev=!0,d.nextLast=!0):1===h?(d.nextLast=!0,d.firstPrev=!1):h===e?(d.firstPrev=!0,d.nextLast=!1):0>=b||b>e?(d.firstPrev=!0,d.nextLast=!0):(d.nextLast=!1,d.firstPrev=!1)};d.fetchData=function(h,l,t){angular.isNumber(h)||(h=parseInt(h));b(h);var v=k(h,l);h={searchString:d.searchString,sortColumnName:d.sortColumnName,ascending:d.ascending,offset:v.offset,max:v.max,endPoint:d.endPoint,onPage:h,pageSize:l};d.loading(!0);angular.isDefined(e.fetch)?d.fetch({query:h}).then(function(b){d.postFetch({response:b,
oldResult:d.model});d.model=t?d.model.concat(b.result):b.result;d.resultsFound=b.length;angular.isDefined(b.totals)&&0!==Object.keys(b.totals).length&&(d.totalValue=b.totals);d.loading(!1);d.addExtensionColumns(d.header,b)}).catch(function(b){b&&console.error(b);d.postFetch({response:b,oldResult:d.model});d.loading(!1)}):q(h).then(function(b){d.postFetch({response:b,oldResult:d.model});d.model=t?d.model.concat(b.result):b.result;d.resultsFound=b.length;angular.isDefined(b.totals)&&0!==Object.keys(b.totals).length&&
(d.totalValue=b.totals);d.loading(!1);d.addExtensionColumns(d.header,b)}).catch(function(b){b&&console.error(b);d.postFetch({response:b,oldResult:d.model});d.loading(!1)})};d.offsetChanged(!1)}],link:function(d,e,h,k){d.loading=k.loadingDataIndicator;d.emptyTableMsg=k.emptyTableMsg;d.sortColumnName=k.sortColumnName;d.ascending=k.ascending;d.header=k.header;d.addExtensionColumns=k.addExtensionColumns;d.emptyTableMsg||d.fetchData(1,d.offset);k.hidePaginationIfContinuousScroll&&k.hidePaginationIfContinuousScroll();
k.next=function(b){d.next(b)};k.previous=function(b){d.prev(b)};k.fetchData=function(b,e){b=angular.isDefined(b)?b:d.onPage;e=angular.isDefined(e)?e:d.offset;d.fetchData(b,e)};k.sort=function(b,e){d.sortColumnName=b;d.ascending=e;d.fetchData(d.onPage,d.offset)}}}}]);
(function(){angular.module("search",[]).directive("xeSearch",["keyCodes","$filter",function(e,l){return{restrict:"E",scope:{value:"=",placeholder:"@",onChange:"&",onFocus:"&",onBlur:"&",onKeydown:"&",searchConfig:"=",loadingData:"="},replace:!0,templateUrl:"templates/search.html",link:function(q,k,d){var p,h,v=0,b=1/0;angular.isObject(q.searchConfig)&&(angular.isDefined(q.searchConfig.minimumCharacters)&&(v=q.searchConfig.minimumCharacters),angular.isDefined(q.searchConfig.maxlength)&&(b=q.searchConfig.maxlength),
angular.isUndefined(q.searchConfig.searchString)&&(q.searchConfig.searchString=""),angular.isUndefined(q.searchConfig.id)&&(q.searchConfig.id="search"),v>=b&&console.error("Wrong searchConfig: maxlength value should be more than the minimumCharacters value inside searchConfig to enable searching."),q.ariaLabel=l("xei18n")("search.aria.label"),angular.isDefined(q.searchConfig.ariaLabel)&&(q.ariaLabel=q.ariaLabel+" "+q.searchConfig.ariaLabel));p=_.debounce(function(b){angular.isUndefined(b)||q.onChange({query:b})},
q.searchConfig.delay||0);q.$watch("searchConfig.searchString",function(d,e){angular.isDefined(d)&&(d=d.toString(),d.length>b&&(d=d.substring(0,b),q.searchConfig.searchString=d),e=angular.isDefined(e)?e.toString():"",d!==e&&(d.length>b&&(d=d.substring(0,b),q.searchConfig.searchString=d),d.length>=v?p(d):d.length<e.length&&e.length>=v&&d.length<v?p(""):""===d&&0===d.length&&1===e.length&&p("")))});q.searchKeypress=function(d,e,p){b?angular.isDefined(d)&&d.length>=b&&(p.preventDefault(),h=d.substring(0,
b),q.form[e].$setViewValue(h),q.form[e].$render()):p.preventDefault()};q.searchKeydown=function(b,d,h){h&&h.which===e.ESC?(h.preventDefault(),q.form[d].$rollbackViewValue(),q.form[d].$render(),q.value=""):h&&h.which===e.ENTER&&(q.loadingData||!q.searchConfig.searchString.length||q.searchConfig.searchString.length<v)&&(h.preventDefault(),h.stopPropagation());q.onKeydown({$event:h})}}}}])})();
(function(){angular.module("xebarmodule",[]).factory("d3",["$window","$log",function(e,l){return e.d3||l.error("D3 must be present"),e.d3}]).directive("xeBarModule",["d3","Language","$filter","getlocale",function(e,l,q,k){return{restrict:"E",scope:{data:"=xebardata",ngclickfunction:"&",barChartWidth:"@xeChartWidth",barChartHeight:"@xeChartHeight",barWidth:"@xeBarWidth",gapWidth:"@xeGapWidth",xTitleValue:"@xeXaxisTitle",yTitleValue:"@xeYaxisTitle",yAxisFormat:"@xeYaxisFormat"},template:'<div><div class="xe-bar-tooltip"></div></div>',
link:function(d,p){function h(){return ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/"),0<msie||0<trident}function v(b){return l.isRtl()?b:b.toLocaleString(k.getUserLocale().replace("_","-"))}function b(b,d){d*=2;b.each(function(){for(var b,h=e.select(this),p=h.text().split(/\s+/).reverse(),k=[],l=0,t=h.attr("y"),q=parseFloat(h.attr("dy")),r=h.text("").append("tspan").attr("x",0).attr("y",t).attr("dy",q+"em");b=p.pop();)k.push(b),r.text(k.join(" ")),(0<r.node().getComputedTextLength()?
r.node().getComputedTextLength():5*r.text().length)>d&&(1<k.length?(k.pop(),r.text(k.join(" ")),k=[b],r=h.append("tspan").attr("x",0).attr("y",t).attr("dy",1.1*++l+q+"em").text(b)):(k=[],r=h.append("tspan").attr("x",0).attr("y",t).attr("dy",1.1*++l+q+"em").text("")))})}function t(){d.dataKeys=[];angular.forEach(d.data[0],function(b,e){d.dataKeys.push(e)});1==d.dataKeys.length?(X=!0,d.dataKeys=[],angular.forEach(d.data,function(b,e){angular.forEach(b,function(b,e){d.dataKeys.push(e)})}),d.displayGroupsKey=
d.dataKeys[0],d.displayValuesKey=d.dataKeys[1],ka=d.data[0][d.displayGroupsKey],ga=d.data[1][d.displayValuesKey],ia=ka.length,l.isRtl()&&(ka=ka.reverse()),d.dataKeys=[],angular.forEach(ka[0],function(b,e){d.dataKeys.push(e)}),angular.forEach(ga[0],function(b,e){d.dataKeys.push(e)}),d.subLabelKey=d.dataKeys[0],d.colorKey=d.dataKeys[1],d.labelKey=d.dataKeys[2],d.valueKey=d.dataKeys[3]):(d.labelKey=d.dataKeys[0],d.valueKey=d.dataKeys[1],d.colorKey=d.dataKeys[2],ga=d.data)}function y(){ga.length>va&&
D.call(W);C.domain(ga.map(function(b){return b[d.labelKey]}));l.isRtl()?C.rangeRoundBands([sa,(U+O)*(va-ga.length)],oa):C.rangeRoundBands([0,(U+O)*ga.length],oa);X?A.domain([0,e.max(ga,function(b){return e.max(b[d.valueKey])})]).nice().range([ta,0]):A.domain([0,e.max(ga,function(b){return b[d.valueKey]})]).nice().range([ta,0]);A.domain([0,e.max(A.ticks())+A.ticks()[1]]);D.on("keydown",function(){switch(e.event.keyCode){case 37:W.translate([W.translate()[0]+(U+O),W.translate()[1]]).event(D);break;
case 39:W.translate([W.translate()[0]-(U+O),W.translate()[1]]).event(D)}});l.isRtl()?(H.call(w).attr("transform","translate("+sa+" ,0)"),H.selectAll("text").style("text-anchor","end")):H.call(w);r.attr("transform","translate(0,"+ta+")").call(I).selectAll(".tick text").call(b,C.rangeBand());G.selectAll(".bar").remove();L=G.selectAll(".bar").data(ga).enter().append("g");L.attr("class","bar").attr("transform",function(b){return"translate("+C(b[d.labelKey])+",0)"});L.selectAll("rect").data(function(b){return X?
l.isRtl()?b[d.valueKey].reverse():b[d.valueKey]:[b]}).enter().append("rect").attr("width",function(b){return X?U/ia:U}).attr("x",function(b){return X?(da==ia&&(da=0),da++*U/ia):0}).attr("y",function(b){return X?isNaN(A(b))?0:A(b):isNaN(A(b[d.valueKey]))?0:A(b[d.valueKey])}).attr("height",function(b){return X?isNaN(A(b))?0:ta-A(b):isNaN(A(b[d.valueKey]))?0:ta-A(b[d.valueKey])}).style("fill",function(b){return X?(da==ia&&(da=0),void 0==ka[da][d.colorKey]||""==ka[da][d.colorKey]?za(da++):ka[da++][d.colorKey]):
(pa++,void 0==b[d.colorKey]||""==b[d.colorKey]?za(pa%za.range().length):b[d.colorKey])}).attr("tabindex",function(b){return X&&0==b||!X&&0==b[d.valueKey]?-1:0}).attr("focusable",function(b){return X&&0==b||!X&&0==b[d.valueKey]?"false":"true"}).attr("aria-label",function(b){return X?(da==ia&&(da=0),ka[da++][d.subLabelKey]+" "+v(b)):b[d.labelKey]+" "+v(b[d.valueKey])}).on("mousemove",function(b){(xa[0].style.left=e.event.layerX+10+"px",xa[0].style.top=e.event.layerY-25+"px",xa[0].style.display="block",
X)?(b=e.event.currentTarget.attributes["aria-label"].value,xa[0].innerHTML=b.substring(0,b.lastIndexOf(" "))+"<br>"+b.substring(b.lastIndexOf(" ")+1)):xa[0].innerHTML=b[d.labelKey]+" <br> "+v(b[d.valueKey])}).on("mouseout",function(b){xa[0].style.display="none"}).on("focusin",function(){e.event.target.classList.add("xe-rect-on")}).on("focusout",function(){e.event.target.classList.remove("xe-rect-on")});L.on("click",function(b){d.ngclickfunction({barData:b})});L.on("keydown",function(b){13==e.event.keyCode&&
d.ngclickfunction({barData:b})});L.selectAll("text").data(function(b){return X?l.isRtl()?b[d.valueKey].reverse():b[d.valueKey]:[b]}).enter().append("text").attr("class","xe-bar-label").attr("text-anchor","middle").attr("x",function(b){return X?(da==ia&&(da=0),l.isRtl()?(ia-da++)*U/ia-U/(2*ia):da++*U/ia+U/(2*ia)):U/2}).attr("y",function(b){return X?isNaN(A(b))?0:A(b)-3:isNaN(A(b[d.valueKey]))?0:A(b[d.valueKey])-3}).text(function(b){return v(X?b:b[d.valueKey])})}function z(){if(null!=d.data&&0!=d.data.length){p[0].style=
"";U=void 0==d.barWidth?44:+d.barWidth;O=void 0==d.gapWidth?55:+d.gapWidth;ba=void 0==d.barChartWidth?400:+d.barChartWidth;F=void 0==d.barChartHeight?450:+d.barChartHeight;P=void 0==d.xTitleValue?"":d.xTitleValue;na=void 0==d.yTitleValue?"":d.yTitleValue;Ca=void 0==d.yAxisFormat?"d":d.yAxisFormat;sa=+ba-Z.right-Z.left;ta=+F-Z.top-Z.bottom;va=sa/(U+O);oa=O/(U+O);t();xa=p[0].getElementsByClassName("xe-bar-tooltip");C=e.scale.ordinal();A=e.scale.linear();I=e.svg.axis().scale(C).orient("bottom").innerTickSize(0).outerTickSize(0);
W=e.behavior.zoom().on("zoom",d.zoom);e.select(p[0]).selectAll("svg").remove();D=e.select(p[0]).classed("svg-container",!0).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 "+Z.top+" "+ba+" "+F).classed("svg-content-responsive",!0);h()&&D.attr("width",sa).attr("height",ta);ga.length>va&&D.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+ba/2+","+1.5*Z.top+")").attr("aria-label",
q("xei18n")("barchart.viewmore.help.label")).text(q("xei18n")("barchart.viewmore.help.label"));""!=na&&(T=D.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("aria-label",na).text(na),l.isRtl()?T.attr("transform","translate("+(ba-Z.right/4)+","+F/2+")rotate(-90)"):T.attr("transform","translate("+Z.left/3+","+F/2+")rotate(-90)"));""!=P&&D.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex",
"0").attr("focusable","true").attr("transform","translate("+ba/2+","+(F+Z.bottom/3)+")").attr("aria-label",P).text(P);N=D.append("g").attr("transform","translate("+Z.left+","+Z.bottom+")");w=e.svg.axis().scale(A).orient(l.isRtl()?"right":"left").innerTickSize(-sa).tickFormat(e.format(Ca));H=N.append("g").attr("class","y xe-bar-axis");var b=N.append("g").attr("clip-path","url(#chartAreaClip"+d.$id+")");b.append("clipPath").attr("id","chartAreaClip"+d.$id).append("rect").attr({width:sa,height:ta+Z.bottom});
r=b.append("g").attr("class","x xe-bar-axis");G=b.append("g").attr("class","allBars");y()}else p[0].style="display:none"}var I,w,D,C,A,N,r,H,G,L,W,T,ba,F,U,O,P,na,Ca,xa,oa,va,sa,ta,ga,ka,Z={top:20,right:50,bottom:50,left:40},za=e.scale.ordinal().range("#9191E1 #90C9FF #6DD6BC #BBE19B #F4DB76 #FFB581 #D389C6 #B2B3B7 #DD5C5F".split(" ")),pa=-1,X=!1,ia=0,da=0;p.addClass("xe-bar-chart");h()&&(Object.getOwnPropertyDescriptor(Element.prototype,"classList")||HTMLElement&&Object.getOwnPropertyDescriptor(HTMLElement.prototype,
"classList")&&Object.defineProperty(Element.prototype,"classList",Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")));d.$watch("data",function(b,d,e){b!=d&&z()},!0);d.zoom=function(){1==e.event.scale&&(D.select(".allBars").attr("transform","translate("+e.event.translate[0]+",0)"),D.select(".x.xe-bar-axis").attr("transform","translate("+e.event.translate[0]+","+ta+")").call(I).selectAll(".tick text").call(b,C.rangeBand()))};z()}}}])})();
(function(){var e,l=!1;angular.module("dataTableModule",["utils"]).constant("mobileMaxWidth",768).directive("xeTableGrid",["$timeout","accessibility","$window","mobileMaxWidth",function(e,k,d,p){return{restrict:"E",transclude:!0,replace:!0,scope:{tableId:"@",caption:"@?",header:"=",endPoint:"=?",fetch:"&",postFetch:"&",content:"=",resultsFound:"=?",toolbar:"=",paginate:"=?",continuousScrolling:"=?",continuousScrollParent:"@?",onRowClick:"&",onRowDoubleClick:"&",noDataMsg:"@?",emptyTableMsg:"=?",searchConfig:"=",
paginationConfig:"=",draggableColumnNames:"=?",mobileLayout:"=?",height:"@?",refreshContent:"=?refreshGrid",xeSection:"@?",totalRow:"@?"},controller:["$scope","$filter","$attrs","$http","$sce","$timeout",function(e,k,b,l,q,z){function I(b){var d,p;if("undefined"!=typeof xe&&xe.extensionsFound)switch(b){case "captionBar":(d=e.xeSection+"CaptionBar")&&(p=_.find(xe.extensions.sections,function(b){return b.name==d}))&&w(p);break;case "header":(d=e.xeSection)&&(p=_.find(xe.extensions.sections,function(b){return b.name==
d}))&&(e.header=D(p,e.header),e.header=C(p,e.header))}}function w(b){if(b.exclude)return void(e.noCaptionBar=!0);_.each(b.fields,function(b){b.exclude&&(e["no"+b.name]=!0)})}function D(b,d){var e,h;return _.each(b.fields,function(b){h=_.findWhere(d,{name:b.name});if(angular.isDefined(h)&&(e=b.exclude?{visible:!b.exclude,columnShowHide:!b.exclude}:{},_.extend(_.findWhere(d,{name:b.name}).options,e),!b.exclude)){var p=h;b.attributes&&b.attributes.label&&angular.isString(b.attributes.label)&&(p.title=
b.attributes.label);b.attributes&&b.attributes.label&&angular.isObject(b.attributes.label)&&b.attributes.label.key&&(p.title=xe.i18n(b.attributes.label.key))}}),d}function C(b,d){return _.each(b.fields,function(b){if(_.has(b,"nextSibling")){var e=_.indexOf(_.pluck(d,"name"),b.name),h=_.indexOf(_.pluck(d,"name"),b.nextSibling);_.isNull(b.nextSibling)&&0<=e?(e=_.last(d).name,d=A(d,b.name,e)):0<=e&&0<=h&&(d=A(d,b.name,e<h&&d[h-1]?d[h-1].name:d[h].name))}}),d}function A(b,d,e){d=_.indexOf(_.pluck(b,"name"),
d);e=_.indexOf(_.pluck(b,"name"),e);if(0<=d&&0<=e){var h=b[d];b.splice(d,1);b.splice(e,0,h);_.each(b,function(b,d){b.position[W]=d+1})}return b}function N(b,d){return-1!==b.indexOf(d,b.length-d.length)}function r(b,d,e){return N(b,"%")?Math.floor(d*b.substr(0,b.indexOf("%"))/100):N(b,"em")?Math.floor(e*b.substr(0,b.indexOf("em"))):N(b,"px")?Math.floor(b.substr(0,b.indexOf("px"))):0}function H(){b.fetch||e.emptyTableMsg?e.pagination||e.emptyTableMsg||(F.loadingDataIndicator(!0),e.fetch({query:{searchString:e.searchConfig.searchString,
sortColumnName:F.sortColumnName,ascending:F.ascending}}).then(function(b){e.postFetch({response:b,oldResult:e.content});e.content=b.result;angular.isDefined(e.content.totals)&&0!==Object.keys(e.content.totals).length&&(e.totalValue=e.content.totals);F.loadingDataIndicator(!1)}).catch(function(b){console.error(b);e.postFetch({response:b,oldResult:e.content});F.loadingDataIndicator(!1)})):(e.fetch=function(b){G||(G=e.content);e.content=T(ba(G,b.query.searchString,!1),F.sortColumnName,F.ascending);e.resultsFound=
e.content.length;angular.isDefined(e.content.totals)&&0!==Object.keys(e.content.totals).length&&(e.totalValue=e.content.totals);F.loadingDataIndicator(!1);F.addExtensionColumns(e.header,b)},e.pagination||b.endPoint?e.pagination||(F.loadingDataIndicator(!0),l.get(e.endPoint+"?searchString="+e.searchConfig.searchString+"&sortColumnName="+(F.sortColumnName||"")+"&ascending="+(F.ascending||"")).then(function(b){e.postFetch({response:b,oldResult:e.content});e.content=b.result;e.resultsFound=e.content.length;
angular.isDefined(e.content.totals)&&0!==Object.keys(e.content.totals).length&&(e.totalValue=e.content.totals);F.loadingDataIndicator(!1);F.addExtensionColumns(e.header,b)}).catch(function(b){console.error(b);e.postFetch({response:b,oldResult:e.content});F.loadingDataIndicator(!1);F.addExtensionColumns(e.header,b)})):console.error("Provide either end-point or fetch attribute"))}var G,L,W,T=k("orderBy"),ba=k("filter"),F=this;if(e.hideColumnSettingMenu=!0,e.transcludes={},e.headingTranscludes={},e.hideContainer=
!1,e.sortArray=[],e.pagination=e.paginate,e.showPagination=!0,e.totalValue={},e.isMobileView=d.innerWidth<=p,!e.tableId)return void console.error("Provide a unique id for table");e.pagination||(e.pagination=e.continuousScrolling);e.toolbar||e.caption||(e.noCaptionBar=!0);d.innerWidth>p?(e.header=k("orderBy")(e.header,"position.desktop",!1),W="desktop"):(e.header=k("orderBy")(e.header,"position.mobile",!1),W="mobile");I("captionBar");I("header");angular.isObject(e.searchConfig)&&angular.isUndefined(e.searchConfig.searchString)&&
(e.searchConfig.searchString="");this.emptyTableMsg=e.emptyTableMsg;this.header=e.header;this.loadingDataIndicator=function(b){e.loadingData=b};this.hidePaginationIfContinuousScroll=function(){e.showPagination=!e.continuousScrolling};e.onSort=function(d){F.sortColumnName=d.heading.name;F.ascending=!F.ascending;e.pagination?d.heading.options.sortable&&F.sort(F.sortColumnName,F.ascending):d.heading.options.sortable&&(angular.isDefined(b.fetch)?(F.loadingDataIndicator(!0),e.fetch({query:{searchString:e.searchConfig.searchString,
sortColumnName:F.sortColumnName,ascending:F.ascending}}).then(function(b){e.postFetch({response:b,oldResult:e.content});e.content=b.result;F.loadingDataIndicator(!1)}).catch(function(b){console.error(b);e.postFetch({response:b,oldResult:e.content});F.loadingDataIndicator(!1)})):e.content=T(e.content,F.sortColumnName,!F.ascending))};e.handleDrop=function(b,d){e.header=A(e.header,b,d)};this.addExtensionColumns=function(b,d){d&&0<d.length&&d.result&&d.result[0].extensions&&(_.find(b,function(b){return-1<
b.name.indexOf("extension.")})||angular.forEach(d.result[0].extensions,function(d){var p;if("undefined"!=typeof xe&&xe.extensionsFound){var k=_.find(xe.extensions.sections,function(b){return b.name==e.xeSection});if(k)var l=_.find(k.fields,function(b){return b.name=="extension."+d.name});l&&(p=!l.exclude&&void 0!==l.exclude)}p&&(p=_.max(b,function(b){return b.position.desktop}).position.desktop+1,k=_.max(b,function(b){return b.position.mobile}).position.mobile+1,b.push({position:{desktop:p,mobile:k},
name:"extension."+d.name,title:d.prompt,options:{visible:!0,sortable:!1},width:"10%"}))}),e.populateHeaderWidths(angular.element("#"+e.tableId)),d=_.reduce(_.pluck(b,"dynamicWidth"),function(b,d){return b+d},0),angular.element("#"+e.tableId).find(".thead, .tbody").width(d));return b};var U={visible:!0,sortable:!1};angular.forEach(e.header,function(b,d){angular.isUndefined(b.width)&&(b.width="");e.$watch(function(){return e.header[d].options.visible},function(b,d){b!==d&&z(function(){e.populateHeaderWidths(angular.element("#"+
e.tableId))},0)});angular.isDefined(b.options)?(angular.isDefined(b.options.ascending)?(e.sortArray[b.name]={ascending:b.options.ascending,decending:!b.options.ascending},L=b.name,F.ascending=b.options.ascending,F.sortColumnName=b.name):e.sortArray[b.name]={ascending:!1,decending:!1},angular.isDefined(b.options.visible)||(b.options.visible=!0),angular.isDefined(b.options.sortable)||(b.options.sortable=!1)):b.options=U});e.populateHeaderWidths=function(b){b.find(".thead, .tbody").width("");var k=0,
l=0,t=b.find(".tbody thead").width(),q=parseFloat(b.find(".tbody thead").css("font-size"))||16,v=t,y=0,z=b.find(".hr-scrollable-content")[0]?b.find(".hr-scrollable-content")[0].scrollWidth:0;if((b.find(".tbody")[0]?b.find(".tbody").width():0)<z&&b.find(".thead, .tbody").width(z-1),angular.forEach(e.header,function(b){var e=b.width;d.innerWidth<p?(b.dynamicWidth="",v=0):b.options.visible?(e=r(e,t,q),e?(b.dynamicWidth=e,v-=b.dynamicWidth):l++,N(b.width,"%")&&k++):(e=r(e,t,q))&&(y+=e)}),l||y){var w=
Math.floor(v/l),A=Math.floor(y/k);angular.forEach(e.header,function(b){b.options.visible&&(w&&""===b.width.trim()?b.dynamicWidth=w:N(b.width,"%")&&(b.dynamicWidth+=A))})}};H();e.fetchSpecial=function(b){e.pagination?F.fetchData(1):(b=e.fetch({query:{searchString:b,sortColumnName:F.sortColumnName,ascending:F.ascending}}),F.loadingDataIndicator(!0),F.addExtensionColumns(e.header,data),b&&b.then(function(b){e.postFetch({response:b,oldResult:e.content});e.content=b.result;angular.isDefined(e.content.totals)&&
0!==Object.keys(e.content.totals).length&&(e.totalValue=e.content.totals);F.loadingDataIndicator(!1)}).catch(function(b){console.error(b);e.postFetch({response:b,oldResult:e.content});F.loadingDataIndicator(!1)}))};this.registerTransclude=function(b){e.transcludes[b.id]=b};this.registerHeadingTransclude=function(b){e.headingTranscludes[b.id]=b};e.onSearchfocus=function(b){e.hideContainer=!e.hideContainer};e.onSearchBlur=function(b){e.hideContainer=!e.hideContainer;angular.element(b.target).val(e.searchConfig.searchString)};
e.sortOnHeading=function(b,d){if(b.options.sortable)if(b=b.name,L==b)e.sortArray[b]={ascending:!e.sortArray[b].ascending,decending:!e.sortArray[b].decending};else{L=b;for(var p in e.sortArray)e.sortArray[p]=p==b?{ascending:!0,decending:!1}:{ascending:!1,decending:!1}}};document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&document.addEventListener("selectstart",function(b){for(var d=b.target;d;d=d.parentNode)if(d.attributes&&d.attributes.draggable)return b.preventDefault(),b.stopImmediatePropagation(),
d.dragDrop(),!1});e.getObjectValue=function(b,d){var e;return"object"==typeof b&&"string"==typeof d&&(e=b[d]),e};e.getTotalValue=function(b){return angular.isDefined(b.totalLabel)&&d.innerWidth>p?b.totalLabel:"object"==typeof e.totalValue&&null!==e.totalValue?angular.isDefined(e.totalValue["total"+b.name])?e.totalValue["total"+b.name]:"":void 0};e.isExtendedField=function(b,d){if(-1<d.indexOf("extension."))return e.extensionValue=e.getObjectValueForExtendedField(b,d),e.isEditable=e.isEditableField(d),
e.isEditable&&(e.dataType=e.getDataType(b,d)),!0};e.isEditableField=function(b){var d;if("undefined"!=typeof xe&&xe.extensionsFound){var p=_.find(xe.extensions.sections,function(b){return b.name==e.xeSection});p&&p.fields.forEach(function(e,h){e.name!==b||e.exclude||e.editable&&(d=!0)})}return d};e.getDataType=function(b,d){var e;return"undefined"!=typeof xe&&xe.extensionsFound&&b.extensions.forEach(function(b){"extension."+b.name===d&&(e=b.datatype)}),e};e.getObjectValueForExtendedField=function(b,
d){var p,k=d.split(".");b=b.extensions;return b&&b.forEach(function(b){b.name===k[1]&&(p=b.value,"undefined"!=typeof xe&&xe.extensionsFound)&&(b=_.find(xe.extensions.sections,function(b){return b.name==e.xeSection}))&&_.find(b.fields,function(b){return b.name==d})}),p};e.refreshContent=function(d){d&&(b.fetch&&e.pagination?F.fetchData&&F.fetchData(1):H(),e.populateHeaderWidths(angular.element("#"+e.tableId)))}}],templateUrl:function(d,e){return"templates/dataTable.html"},compile:function(d,p){(d.css("opacity",
0),"true"===p.paginate||"true"===p.continuousScrolling)?(d=d.find("xe-pagination"),angular.isDefined(p.fetch)&&d.attr("fetch","fetch({query: query})"),angular.isDefined(p.postFetch)&&d.attr("post-fetch","postFetch({response: response, oldResult: oldResult})"),angular.isDefined(p.paginationConfig)&&d.attr("pagination-config","paginationConfig"),p.endPoint&&d.attr("end-point","endPoint"),d.attr("total-value","totalValue")):d.find("xe-pagination").remove();return function(b,d,h,l){"false"!==p.paginate&&
"true"!==p.continuousScrolling||angular.element(".tfoot").remove();e(function(){d.css("opacity",1);b.populateHeaderWidths(d);k.provideAccessibilityForTable(d,angular.element("#"+b.continuousScrollParent));b.nextPage=function(){b.continuousScrolling?b.pagination&&!b.showPagination&&l.next&&l.next(!0):b.pagination&&d.find(".pagination-container").is(":hidden")&&l.next&&l.next(!0)}})}}}}]).directive("xeCellInjector",[function(){return{require:"^xeTableGrid",restrict:"A",replace:!0,scope:!0,link:function(e,
k,d,p,h){p=d.name;k.attr("tabindex",0);if(p=e.transcludes[p])angular.isUndefined(e.row[d.name])?(d=p.scope.$new(),p.transclude(d,function(d,b){b.row=e.row;k.append(d)})):p.transclude(e,function(d,b){k.html(d)})}}}]).directive("xeRowInjector",[function(){var e;return{restrict:"A",replace:!0,require:"^xeTableGrid",scope:!0,link:function(k,d,p,h,l){d.on("click",function(b){e&&e.removeClass("active-row");d.addClass("active-row");e=d})}}}]).directive("xeHeadingInjector",[function(){return{restrict:"A",
replace:!0,require:"^xeTableGrid",scope:!0,link:function(e,k,d,p,h){if(e=e.headingTranscludes[d.name])d=e.scope.$new(),e.transclude(d,function(d,b){k.find(".data").length?k.find(".data").append(d):k.append(d)})}}}]).directive("xeCellMarkup",[function(){return{restrict:"EA",transclude:"element",replace:!0,scope:!0,require:"^xeTableGrid",link:function(e,k,d,p,h){var l;d.columnName&&p.registerTransclude?(l={id:d.columnName,transclude:h,element:k,scope:e},p.registerTransclude(l)):d.headingName&&p.registerHeadingTransclude&&
(l={id:d.headingName,transclude:h,element:k,scope:e},p.registerHeadingTransclude(l))}}}]).directive("attainMobileLayout",function(){var e={1:"single-column",2:"two-columns",3:"all-columns"};return{restrict:"A",scope:!0,link:function(k,d,p){d.addClass(e[parseInt(p.attainMobileLayout)])}}}).directive("droppable",["$parse",function(e){return{link:function(e,d,p){}}}]).directive("dragDrop",function(){return{link:function(e,k,d){function p(b){angular.element(b.target).addClass("dragged");w=angular.element(b.target).closest("th").index()+
1;k.closest(".table-container").find("td:nth-child("+w+")").addClass("dragged");var d=angular.element(b.target).data("name");b.originalEvent.dataTransfer.setData("text",d)}function h(b){angular.element(b.target).removeClass("dragged");w=angular.element(b.target).closest("th").index()+1;k.closest(".table-container").find("td:nth-child("+w+")").removeClass("dragged");angular.element(".drag-enter").removeClass("drag-enter");angular.element("#dragtable").hide()}function l(b){angular.element(b.target).closest("th").addClass("drag-enter");
w=angular.element(b.target).closest("th").index()+1;k.closest(".table-container").find("td:nth-child("+w+")").addClass("drag-enter");I=b.target;b.preventDefault()}function b(b){I==b.target&&(angular.element(b.target).closest("th").removeClass("drag-enter"),w=angular.element(b.target).closest("th").index()+1,k.closest(".table-container").find("td:nth-child("+w+")").removeClass("drag-enter"))}function t(b){z(b);b=b||window.event;var d=b.originalEvent.pageX,e=b.originalEvent.pageY-170;return angular.element("#dragtable").show(),
angular.element("#dragtable").css({left:d,top:e}),b.originalEvent.dataTransfer.dropEffect="move",b.preventDefault&&b.preventDefault(),!1}function y(b){angular.element("#dragtable").hide();z(b);var h=b.originalEvent.dataTransfer.getData("text"),p=angular.element(b.target).closest("th").data("name"),k=d.dragDrop;e.$apply(function(){e[k](h,p)})}function z(b){b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation()}var I=null,w=k.index();-1!==e.draggableColumnNames.indexOf(e.header[w].name)&&
(k.attr("draggable",!0),k.bind("dragover",t),k.bind("drop",y),k.bind("dragstart",p),k.bind("dragend",h),k.bind("dragenter",l),k.bind("dragleave",b))}}}).directive("resize",["$timeout","$window","$filter","Language","mobileMaxWidth",function(e,k,d,p,h){return function(l,b,t){function y(){if(b[0].scrollHeight>b[0].clientHeight&&b[0].clientWidth!==b[0].offsetWidth){var d=b.width()-b[0].scrollWidth+"px";l.headerPadding=p.isRtl()?{"padding-left":d}:{"padding-right":d}}else l.headerPadding={}}e(function(){l.$watch(function(){return b.closest(".table-container").width()},
function(e,p){e!==p&&(k.innerWidth>h?(l.header=d("orderBy")(l.header,"position.desktop",!1),l.populateHeaderWidths(b.closest(".table-container")),y()):l.header=d("orderBy")(l.header,"position.mobile",!1))});l.$watch(function(){return b[0].scrollHeight},function(b,d){k.innerWidth>h&&y()})});t=angular.element(k);var z=_.debounce(function(){l.$apply()},500);t.bind("resize",z)}}]).directive("tabIndex",[function(){return{link:function(e,k,d){k.find("a, :input, [tabindex=0]").each(function(d,e){})}}}]).directive("xeFocus",
function(){return{restrict:"A",link:function(q,k,d){k.bind("keydown",function(d){var h=d.keyCode||d.which,v=$(k).closest(".table-container"),b=v.attr("paginate"),v=v.attr("total-row");if(l){if(l)switch(h){case 13:d=$(k).find("a, :input");if(0<d.length)return l=!0,$(k).addClass("focus-ring"),$(d[0]).focus(),!1;break;case 27:return l=!1,$(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),$(k).is(":input")||$(k).is("a")?($(k).parent.focus(),$(k).parent().addClass("focus-ring")):($(k).focus(),
$(k).addClass("focus-ring")),d.preventDefault(),!1;case 9:if(d.shiftKey)return d=$(k).parent().find("a, :input"),h=$(k).find("a, :input"),h=$.inArray(h[h.length-1],d),0<h?($(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),h=d[h-1],d=$(h).closest("td"),$(d).addClass("focus-ring"),h.focus()):(d=k.parent().prev(),0<d.length&&(k.hasClass("focus-ring")&&k.removeClass("focus-ring"),d=d.find("a, :input"),0<d.length&&(h=d[d.length-1],d=$(h).closest("td"),$(d).addClass("focus-ring"),$(h).focus()))),
!1;d=$(k).parent().find("a, :input");h=$(k).find("a, :input");h=$.inArray(h[0],d);h<d.length-1?($(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),h=d[h+1],d=$(h).closest("td"),$(d).addClass("focus-ring"),$(h).focus()):(d=$(k).parent().next(),0<d.length?($(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),d=d.find("a, :input"),0<d.length&&(h=d[0],d=$(h).closest("td"),$(d).addClass("focus-ring"),$(h).focus())):($(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),d=$(k).parent().prevAll(),
0<d.length&&(d=$(d[d.length-1]).find(":input, a"),0<d.length&&$(d[0]).focus(),d=$(d[0]).closest("td"),$(d).addClass("focus-ring"))));return!1;case 40:case 38:return!1}}else{if("undefined"!==d.target.id&&d.target.classList.contains("search")){switch(h){case 9:if(d.shiftKey)return clearFocus(d),!0;clearFocus(d);h=$(k).closest(".table-container").find(".tbody tbody tr:first");v=$(k).closest(".table-container").find(".tbody tbody tr:first td:first");return $("tr.active-row").removeClass("active-row"),
$(h).addClass("active-row"),$(v).focus(),$(v).addClass("focus-ring"),d.preventDefault(),!1}return!0}switch(h){case 37:return $(this).closest("td").is(":first-child")?$(k).addClass("focus-ring"):$(this).closest("th").is(":first-child")?$(k).addClass("focus-ring"):($(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),$(k).prev().focus(),$(k).prev().addClass("focus-ring")),d.preventDefault(),!1;case 39:return $(this).closest("td").is(":last-child")?$(k).addClass("focus-ring"):$(this).closest("th").is(":last-child")?
$(k).addClass("focus-ring"):($(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),$(k).next().focus(),$(k).next().addClass("focus-ring")),d.preventDefault(),!1;case 13:d=$(k).find("a, :input");if(0<d.length)return l=!0,$("tr.active-row").removeClass("active-row"),$(k).parent().addClass("active-row"),$(k).addClass("focus-ring"),$(d[0]).focus(),!1;break;case 27:return l=!1,$(k).hasClass("focus-ring")&&$(k).removeClass("focus-ring"),$(k).is(":input")||$(k).is("a")?($(k).parent().focus(),$(k).parent().addClass("focus-ring")):
($(k).focus(),$(k).addClass("focus-ring")),d.preventDefault(),!1;case 9:return d.shiftKey?($(d.target).is("th")||$(d.target).is("td"))&&(clearFocus(d),$("tr.active-row").removeClass("active-row"),angular.element("#"+q.searchConfig.id).select().focus()):(clearFocus(d),$("tr.active-row").removeClass("active-row"),b)?(h=$(k).closest(".table-container").children().find("div.pagination-controls"),h=$(h).find("input, button , select").not(":disabled"),$(h[0]).focus(),e=d.currentTarget):(h=$(k).closest(".table-container").next("*[tabindex != '-1']:visible"),
$(h[0]).focus()),d.preventDefault(),!1;case 33:return clearFocus(d),d=$(k).index(),h=$(k).closest(".table-container").find(".tbody tbody tr:first"),d=$(h).children()[d],$(d).focus(),$(d).addClass("focus-ring"),!1;case 34:return(clearFocus(d),v)?(d=$(k).index(),h=$(k).closest(".table-container").find(".trDesktop thead tr")):(d=$(k).index(),h=$(k).closest(".table-container").find(".tbody tbody tr:last")),d=$(h).children()[d],$(d).focus(),$(d).addClass("focus-ring"),!1;case 36:return clearFocus(d),d=
$(k).parent().find("td:first"),0===d.length&&(d=$(k).parent().find("th:first")),$(d).focus(),$(d).addClass("focus-ring"),!1;case 35:return clearFocus(d),d=$(k).parent().find("td:last"),0===d.length&&(d=$(k).parent().find("th:last")),$(d).focus(),$(d).addClass("focus-ring"),!1;case 40:if(void 0===d.target.attributes.role||"columnheader"!==d.target.attributes.role.nodeValue){h=$(k).parent().find("td");if($(h).hasClass("focus-ring")&&$(h).removeClass("focus-ring"),0<h.length)h=$(k).index(),b=$(k).parent().next(),
0<b.length?($("tr.active-row").removeClass("active-row"),$(b).addClass("active-row"),v=$(b).find("td"),$(v[h]).is(":input")||k.is("a")?($(v[h]).parent().focus(),$(v[h]).parent().addClass("focus-ring")):($(v[h]).focus(),$(v[h]).addClass("focus-ring"))):v?(clearFocus(d),$("tr.active-row").removeClass("active-row"),$(k).removeClass("focus-ring"),h=$(k).index(),v=$(k).closest(".table-container").find(".trDesktop thead tr:first"),b=$(v).find("th"),$(v).addClass("active-row"),$(b[h]).focus(),$(b[h]).addClass("focus-ring"),
e=d.currentTarget):$(k).addClass("focus-ring");return d.preventDefault(),!1}h=$(k).parent().find("th");if($("th.focus-ring").removeClass("focus-ring"),0<h.length)$("tr.active-row").removeClass("active-row"),h=$(k).index(),d=$(k).closest(".table-container").find("tbody").find("tr:first td")[h],$(d).parent().addClass("active-row"),v=$(d).parent().find("td"),$(v[h]).addClass("focus-ring"),$(d).focus();return!1;case 38:if(0<k.closest("tr").index()){$("tr.active-row").removeClass("active-row");h=$(k).parent().find("td");
if($(h).hasClass("focus-ring")&&$(h).removeClass("focus-ring"),0<h.length)h=$(k).index(),v=$(k).parent().prev(),b=$(v).find("td"),$(b[h]).is(":input")||$(k).is("a")?($(b[h]).parent().focus(),$(b[h]).parent().addClass("focus-ring")):($(b[h]).focus(),$(b[h]).addClass("focus-ring")),$(v).addClass("active-row"),$(v[h]).removeClass("focus-ring");return d.preventDefault(),!1}if(0===$(k).closest("tr").index())return h=0===$(k).closest(".tbody").length&&0===$(k).closest(".thead").length,v&&h?($("td.focus-ring").removeClass("focus-ring"),
h=$(k).closest("th").index(),-1!==h&&($("th.focus-ring").removeClass("focus-ring"),v=$(k).closest(".table-container").find("tbody"),$(v[0]).find("tr:last").find("td")[h].focus(),v=$(v[0]).find("tr:last").find("td")[h],$(v).addClass("focus-ring"))):($("tr.active-row").removeClass("active-row"),$("td.focus-ring").removeClass("focus-ring"),h=($(k).closest("tr").index(),$(k).closest("td").index()),-1!==h&&(v=$(k).closest(".table-container").find("thead"),$(v[0]).find("tr").find("th")[h].focus(),v=$(v[0]).find("tr").find("th")[h],
$(v).addClass("focus-ring"))),d.preventDefault(),!1}}})}}}).directive("xeClickGrid",function(){return{restrict:"A",link:function(e,k,d){k.bind("click",function(d){clearFocus(d);$("tr.active-row").removeClass("active-row");l=!1;$(k).addClass("focus-ring");$(k).parent().addClass("active-row")})}}}).directive("xeGridPaginationControl",function(){return{restrict:"A",link:function(l,k,d){k.bind("keydown",function(d){clearFocus(d);var h=d.keyCode||d.which,l=$(k).closest(".table-container").children().find("div.pagination-controls"),
l=$(l).find("input, button , select").not(":disabled");if(0===$.inArray(d.target,l)){if(!d.shiftKey)return!0;switch(h){case 9:return $(e).is(":visible")&&$(k).parent(".table-container").find(e)?($(e).focus(),$(e).parent().addClass("active-row"),$(e).addClass("focus-ring")):(l=$(k).parent(".table-container"),h=$(l).find("tbody tr:first"),l=$(l).find("tbody tr:first td:first"),$(h).addClass("active-row"),$(l).focus(),$(l).addClass("focus-ring")),d.preventDefault(),!1;case 40:case 38:return!0}}})}}})})();
clearFocus=function(e){return $("table td.focus-ring").hasClass("focus-ring")&&$("table td.focus-ring").removeClass("focus-ring"),$("table th.focus-ring").hasClass("focus-ring")&&$("table th.focus-ring").removeClass("focus-ring"),!0};
(function(){angular.module("aboutModal",[]).provider("aboutService",function(){this.method="GET";this.backendUrl="";this.setMethod=function(e){e&&(this.method=e)};this.setBackendUrl=function(e){e&&(this.backendUrl=e)};this.$get=["$http","$templateCache",function(e,l){var q=this;return{aboutInfo:function(){return e({method:q.method,url:q.backendUrl,cache:l})}}}]}).directive("xeAboutModal",["aboutService",function(e){return{restrict:"EA",scope:{show:"=",api:"=",focusbackelement:"@"},replace:!0,transclude:!0,
templateUrl:"templates/dialog_default.html",controller:["$scope",function(l){l.hide=function(){l.show=!1;l.focusBackElement&&angular.element("#"+l.focusBackElement).focus()};l.focusBackElement=l.focusbackelement;e.aboutInfo().then(function(e){l.status=e.status;l.about=e.data;l.hidePlatformVersion=!1;void 0===l.about["about.banner.platform.version"]&&(l.hidePlatformVersion=!0)},function(q){500===q.status?e.aboutInfo().then(function(e){l.status=e.status;l.about=e.data},function(e){l.about=e.data||"Request failed";
l.status=e.status}):(l.about=q.data||"Request failed",l.status=q.status)})}],link:function(e,q){q.on("keydown",function(k){(27===k.keyCode||"xe-modal-close"===document.activeElement.className&&13===k.keyCode)&&(e.show=!1,e.$apply(),e.focusBackElement&&angular.element("#"+e.focusBackElement).focus());k.shiftKey||9!==k.keyCode||("xeModalPrivacyLink"===document.activeElement.id?(k.preventDefault(),angular.element("#xeModalClose").focus()):"xe-modal-close"===document.activeElement.className&&(k.preventDefault(),
angular.element("#xeModalPrivacyLink").focus()));k.shiftKey&&9===k.keyCode&&("xeModalPrivacyLink"===document.activeElement.id?(k.preventDefault(),angular.element("#xeModalClose").focus()):"xe-modal-close"===document.activeElement.className&&(k.preventDefault(),angular.element("#xeModalPrivacyLink").focus()))})}}}])})();
(function(){angular.module("pieChartModule",[]).factory("d3",["$window","$log",function(e,l){return e.d3||l.error("D3 must be present"),e.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language",function(e,l,q,k,d){function p(p,b,l,q,z,I,w){function D(e,h){var k,p,l,t=h[0],r=h[1],q=h[2];return k=b.select("thead.xe-pie-table-head"),p=b.select("tbody.xe-pie-table-body"),k.append("tr").selectAll("th").data(h).enter().append("th").text(function(b){return b}),l=p.selectAll("tr").data(e).enter().append("tr"),
l.selectAll("td").data(function(b){return h.map(function(e){return b[t]=b.label,b[r]=b.value,d.isRtl()||(na||b[r]?b[q]=(Math.round(1E3*b[r]/na)/10).toFixed(2)+"%":b[q]="0.00%"),d.isRtl()&&(na||b[r]?b[q]="%"+(Math.round(1E3*b[r]/na)/10).toFixed(2):b[q]="%0.00"),{column:e,value:b[e]}})}).enter().append("td").html(function(b){return b.value}),b}function C(){return Ia=window.navigator.userAgent,Ga=Ia.indexOf("MSIE "),la=Ia.indexOf("Trident/"),0<Ga||0<la}function A(b){z.valueforclick=b;p&&"0"!==e.select(this).style("opacity")&&
(p.select(".xe-pie-tooltip-label").html(b.data.label),p.select(".xe-pie-tooltip-value").html(b.data.value),p.select(".xe-pie-tooltip-percent").html(b.data.percentage),p.style("display","block"))}function N(b){p&&p.style("display","none")}function r(b){if(p){var h=angular.element(w).find(".xe-pie-tooltip")[0];b=h.clientWidth;h=h.clientHeight;d.isRtl()&&C()?p.style("top",e.event.layerY-h-10+"px").style("left",(e.event.layerX-b+10)/2+"px"):p.style("top",e.event.layerY-h-10+"px").style("left",e.event.layerX-
b/2+"px")}}function H(b){if(p){var h=angular.element(w).find(".xe-pie-tooltip")[0];b=h.clientWidth;h=h.clientHeight;d.isRtl()&&C()?p.style("top",e.event.layerY-h-10+"px").style("left",(e.event.layerX-b+10)/2+"px"):p.style("top",e.event.layerY-h-10+"px").style("left",e.event.layerX-b/2+"px")}}function G(b){return b.data.label}function L(b){return b.startAngle+(b.endAngle-b.startAngle)/2}function W(b){b.each(function(){for(var d=e.select(this),h=0,k=10,p=d.text(),l=p.substring(h,k),t=d.attr("y"),r=
parseFloat(b.attr("dy")),q=d.text(null).append("tspan").attr("x",0).attr("y",t).attr("dy",r+"em");l;)0===h?q.text(l.trim()):q=d.append("tspan").attr("x",0).attr("y",t).attr("dy",r+"em").text(l.trim()),h+=10,k+=10,l=p.substring(h,k)})}function T(){var b,d;b=!1;ea&&(ea.each(function(d){var h=this,k=this.getBoundingClientRect();ea.each(function(l){if(this!==h){var p,t,r,v=this.getBoundingClientRect();2*Math.abs(k.left-v.left)<k.width+v.width&&2*Math.abs(k.top-v.top)<k.height+v.height&&(p=.01*(Math.max(0,
k.bottom-v.top)+Math.min(0,k.top-v.bottom)),t=e.transform(e.select(this).attr("transform")),r=e.transform(e.select(h).attr("transform")),b=!0,r.translate=[.65*q*(L(d)<Math.PI?1:-1),r.translate[1]+p],t.translate=[.65*q*(L(l)<Math.PI?1:-1),t.translate[1]-p],e.select(this).attr("transform","translate("+t.translate+")"),e.select(h).attr("transform","translate("+r.translate+")"))}})}),b&&(d=ea[0],ha&&ha.attr("points",function(b,h){h=e.select(d[h]);var k=e.transform(h.attr("transform"));h=k.translate[0];
k=k.translate[1];return[za.centroid(b),pa.centroid(b),h,k]}),k(T)))}function H(b,d){e.event.preventDefault();e.event.stopPropagation();6===d&&7<aa.length?(da.style("opacity",function(b,d){return 6===d?1:.1}),E.style("display","none").attr("aria-hidden",!0),V.style("display","none").attr("aria-hidden",!0),(Oa||ya||ea||ha)&&(Oa.style("display","block").attr("aria-hidden",!1),ya.style("display","block").attr("aria-hidden",!1),ea.style("display","block").attr("aria-hidden",!1),ha.style("display","block").attr("aria-hidden",
!1),ea.selectAll(".xe-pie-light-text").call(W),T())):((Oa||ya||ea||ha)&&(Oa.style("display","none").attr("aria-hidden",!0),ya.style("display","none").attr("aria-hidden",!0),ea.style("display","none").attr("aria-hidden",!0),ha.style("display","none").attr("aria-hidden",!0)),da.style("opacity",1),E.style("display","block").attr("aria-hidden",!1),V.style("display","block").attr("aria-hidden",!1))}function ba(){e.select(this).classed("xe-pie-touch",!e.select(this).classed("xe-pie-touch"))}function F(){var b,
d;b=!1;E&&(E.selectAll("text").each(function(d){var h=this,k=this.getBoundingClientRect();E.selectAll("text").each(function(p,l){if(this!==h){var t,r,v;l=this.getBoundingClientRect();2*Math.abs(k.left-l.left)<k.width+l.width&&2*Math.abs(k.top-l.top)<k.height+l.height&&(t=.01*(Math.max(0,k.bottom-l.top)+Math.min(0,k.top-l.bottom)),r=e.transform(e.select(this).attr("transform")),v=e.transform(e.select(h).attr("transform")),b=!0,v.translate=[.55*q*(L(d)<Math.PI?1:-1),v.translate[1]+t],r.translate=[.55*
q*(L(p)<Math.PI?1:-1),r.translate[1]-t],e.select(this).attr("transform","translate("+r.translate+")"),e.select(h).attr("transform","translate("+v.translate+")"))}})}),b&&(d=E[0],V&&V.attr("points",function(b,h){h=e.select(d[h]).select("text");var k=e.transform(h.attr("transform"));h=k.translate[0];k=k.translate[1];return[ga.centroid(b),ka.centroid(b),h,k]}),k(F)))}function U(b){da=l.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(va(b),G);da.enter().insert("path").style("fill",function(b,
d){return 6===d&&(xa=b.startAngle,oa=b.endAngle),X(d)}).attr("class","xe-pie-slice").on("click",H).on("touchstart",H).on("mouseover",A).on("touchstart",A).on("touchstart",ba).on("mouseout",N).on("touchend",N).on("touchend",ba).on("mousemove",r).on("touchmove",r);da.transition().duration(1E3).attrTween("d",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){return ta(d(b))}});da.exit().remove();E=l.select(".xe-pie-labels").selectAll("text").data(va(b),
G);E.enter().append("a").attr({"xlink:href":function(b,d){if(b.data.label===I.pie.otherLabel)return"#other-group-"+h},tabindex:function(b,d){if(b.data.label===I.pie.otherLabel)return 0},"aria-controls":function(b,d){if(b.data.label===I.pie.otherLabel)return"other-group-"+h},"aria-label":function(b,d){if(b.data.label===I.pie.otherLabel)return I.pie.group.otherAriaLabel}}).on("click",H).on("touchstart",H).append("text").attr({class:function(b,d){return b.data.label===I.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":
"xe-pie-large-text"}}).on("click",H).on("touchstart",H).on("mouseover",A).on("touchstart",A).on("mouseout",N).on("touchend",N).on("mousemove",r).on("touchmove",r);E.selectAll("text").append("tspan").attr("x","0").attr("dy",function(b){return(b.startAngle+b.endAngle)/2>Math.PI/2&&(b.startAngle+b.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(b){return b.data.percentage});E.on("click",function(b){});E.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class",
"xe-pie-light-text").text(function(b){return b.data.label});E.selectAll("text").transition().duration(1E3).attrTween("transform",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);return"translate("+ka.centroid(b)+")"}}).attrTween("text-anchor",function(b){this.d3current=this.d3current||b;var h=e.interpolate(this.d3current,b);return this.d3current=h(0),function(b){b=h(b);return d.isRtl()?C()||0<Ia.indexOf("Edge/")?L(b)<
Math.PI?"start":"end":L(b)<Math.PI?"end":"start":L(b)<Math.PI?"start":"end"}});E.exit().remove();E.selectAll(".xe-pie-light-text").call(W);V=l.select(".xe-pie-lines").selectAll("polyline").data(va(b),G);V.enter().append("polyline").style("stroke",function(b,d){return X(d)});V.transition().duration(1E3).attrTween("points",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);var e=ka.centroid(b);return[ga.centroid(b),ka.centroid(b),
e]}});V.exit().remove();F()}function O(b){Oa=l.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(b,d){return"#main-group-"+h},tabindex:function(b,d){return 0},"aria-controls":function(b,d){return"main-group-"+h},"aria-label":I.pie.group.mainAriaLabel}).on("click",H).on("touchstart",H).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#e3e3e3").attr("d",Z).on("click",H).on("touchstart",H);ya=l.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(sa(b),
G);ya.enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(b,d){return ia(d)}).attr("class","xe-pie-sub-slice").on("mouseover",A).on("touchstart",A).on("mouseout",N).on("touchend",N).on("mousemove",r).on("touchmove",r);ya.transition().duration(1E3).attrTween("d",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){return Z(d(b))}});ya.exit().remove();ea=l.select(".xe-pie-sub-labels").selectAll("text").data(sa(b),
G);ea.enter().append("text").attr("class",function(d,e){return 7<b.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",A).on("touchstart",A).on("mouseout",N).on("touchend",N).on("mousemove",r).on("touchmove",r);ea.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(b){return b.data.percentage});ea.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(b){return b.data.label});
ea.transition().duration(1E3).attrTween("transform",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);var e=pa.centroid(b);return e[0]=.65*q*(L(b)<Math.PI?1:-1),"translate("+e+")"}}).attrTween("text-anchor",function(b){this.d3current=this.d3current||b;var h=e.interpolate(this.d3current,b);return this.d3current=h(0),function(b){b=h(b);return d.isRtl()?L(b)<Math.PI?"end":"start":L(b)<Math.PI?"start":"end"}});ea.exit().remove();
ha=l.select(".xe-pie-sub-lines").selectAll("polyline").data(sa(b),G);ha.enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(b,d){return ia(d)});ha.transition().duration(1E3).attrTween("points",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);var e=pa.centroid(b);return e[0]=.6*q*(L(b)<Math.PI?1:-1),[za.centroid(b),pa.centroid(b),e]}});ha.exit().remove()}var P,na,Ca,xa,oa,va,
sa,ta,ga,ka,Z,za,pa,X,ia,da,E,V,Oa,ya,ea,ha,Ia,Ga,la,aa=[];b&&(b.select("thead").remove(),b.select("tbody").remove(),b.append("thead").attr("class","xe-pie-table-head"),b.append("tbody").attr("class","xe-pie-table-body"));l.selectAll("g").remove();l.append("text").attr("text-anchor","middle").attr("font-size","4em").attr("y",20).text(110);l.append("g").attr({role:"presentation",class:"xe-pie-slices"});l.append("g").attr({role:"listitem",class:"xe-pie-labels",id:"main-group-"+h,"aria-live":"polite",
"aria-relevant":"additions removals"});l.append("g").attr({role:"presentation",class:"xe-pie-lines"});7<z.data.length&&(l.append("g").attr({role:"presentation",class:"xe-pie-bg-sub-slice"}),l.append("g").attr({role:"presentation",class:"xe-pie-sub-slices"}),l.append("g").attr({role:"listitem",class:"xe-pie-sub-labels",id:"other-group-"+h,"aria-live":"polite","aria-relevant":"additions removals"}),l.append("g").attr({role:"presentation",class:"xe-pie-sub-lines"}));Ca=0;Number.isFinite=Number.isFinite||
function(b){return"number"==typeof b&&isFinite(b)};aa=angular.copy(z.data);angular.forEach(aa,function(b,d){b.value=Number.isFinite(b.value)?Math.abs(b.value):0});aa.sort(function(b,d){return e.descending(b.value,d.value)});na=e.sum(aa,function(b){return b.value});b&&D(aa,[I.table.label,I.table.value,I.table.percentage]);angular.forEach(aa,function(b,d){6>d||8>aa.length?b.origin="main":(b.origin="sub",Ca+=+b.value)});7<aa.length&&aa.splice(7,0,{label:I.pie.otherLabel,value:Ca,origin:"main"});aa.forEach(function(b){d.isRtl()||
(na||b.value?b.percentage=(Math.round(1E3*b.value/na)/10).toFixed(2)+"%":b.percentage="0.00%");d.isRtl()&&(na||b.value?b.percentage="%"+(Math.round(1E3*b.value/na)/10).toFixed(2):b.percentage="%0.00")});P=e.nest().key(function(b){return b.origin}).entries(aa);va=e.layout.pie().sort(function(b,h){return d.isRtl()&&d.isRtl()?e.ascending(b.value,h.value):e.descending(b.value,h.value)}).value(function(b){return b.value});sa=e.layout.pie().value(function(b){return b.value}).startAngle(function(b){return xa}).endAngle(function(b){return oa});
ta=e.svg.arc().innerRadius(.25*q).outerRadius(.5*q);ga=e.svg.arc().innerRadius(.5*q).outerRadius(.5*q);ka=e.svg.arc().innerRadius(.5*q).outerRadius(.6*q);Z=e.svg.arc().innerRadius(.5*q).outerRadius(.6*q);za=e.svg.arc().innerRadius(.6*q).outerRadius(.6*q);pa=e.svg.arc().innerRadius(.6*q).outerRadius(.7*q);X=e.scale.ordinal().range("#783084 #810c33 #8073ce #c28041 #008241 #f39fba #6bafa6".split(" "));ia=e.scale.ordinal().range("#eef6f5 #ddedeb #bcdbd7 #9ac9c3 #67aea5 #56a59b #4d948b #45847d #3c746d #33635d #2b524d #23423e #1a312e #11201f #07100f".split(" "));
7<aa.length?(U(P[0].values),O(P[1].values)):U(P[0].values);$(".xe-pie-slice").click(function(b){z.ngclickfunction({names:z.valueforclick})})}var h=0;return{restrict:"E",scope:{data:"=xePieData",config:"=xePieConfig",ngclickfunction:"&"},link:function(d,b,k){h+=1;b.addClass("xe-pie-chart");var l,q,I,w,D,C,A,N=b[0].clientWidth,r=angular.merge({},{tooltip:!1,hiddenTable:!1,svg:{title:"",desc:""},pie:{otherLabel:"Other"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},d.config);
r.hiddenTable&&(w=e.select(b[0]).append("table").attr({"aria-label":r.table.ariaLabel,class:"xe-pie-table-hidden"}));l=N-10;q=l+l/2;I=Math.min(l,q)/2;D=e.select(b[0]).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:l+"px",height:q+"px",viewBox:"0 0 "+Math.min(l,q)+" "+Math.min(l,q),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+h+" desc"+h});D.append("title").attr("id","title"+h).text(r.svg.title);D.append("desc").attr("id",
"desc"+h).text(r.svg.desc);C=D.append("g").attr({role:"list","aria-label":r.pie.ariaLabel,class:"xe-pie-svg",transform:"translate("+I+", "+I+")"});r.tooltip&&(A=e.select(b[0]).append("div").attr("class","xe-pie-tooltip"),A.append("p").attr("class","xe-pie-tooltip-label"),A.append("p").attr("class","xe-pie-tooltip-value"),A.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text"));window.onresize=function(){return d.$apply()};d.$watch(function(){return angular.element(window)[0].innerWidth},
function(){N=b[0].clientWidth;l=N-10;q=l+l/2;I=Math.min(l,q)/2;D.attr({width:l+"px",height:q+"px",viewBox:"0 0 "+Math.min(l,q)+" "+Math.min(l,q)});C.attr({transform:"translate("+I+", "+I+")"});p(A,w,C,I,d,r,b)});d.$watch("data",function(d,e,h){d&&p(A,w,C,I,h,r,b)},!0)}}}])})();
(function(){angular.module("pieChartModule",[]).factory("d3",["$window","$log",function(e,l){return e.d3||l.error("D3 must be present"),e.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language","$filter","getlocale",function(e,l,q,k,d,p,h){function v(b){return d.isRtl()?b:(+b).toLocaleString(h.getUserLocale().replace("_","-"))}function b(b,h,l,q,D,C,A){function N(b,d){var e,k,l,p=d[0],q=d[1],t=d[2];return e=h.select("thead.xe-pie-table-head"),k=h.select("tbody.xe-pie-table-body"),
e.append("tr").selectAll("th").data(d).enter().append("th").text(function(b){return b}),l=k.selectAll("tr").data(b).enter().append("tr"),l.selectAll("td").data(function(b){return d.map(function(d){return b[p]=b.label,b[q]=b.value,va||b[q]?b[t]=(Math.round(1E3*b[q]/va)/10).toFixed(2):b[t]="0.00",{column:d,value:b[d]}})}).enter().append("td").html(function(b){return b.value}),h}function r(){return $a=window.navigator.userAgent,Ha=$a.indexOf("MSIE "),sb=$a.indexOf("Trident/"),0<Ha||0<sb}function H(h){b&&
"0"!==e.select(this).style("opacity")&&(b.select(".xe-pie-tooltip-label").html(h.data.label),b.select(".xe-pie-tooltip-value").html(v(h.data.value)),d.isRtl()?b.select(".xe-pie-tooltip-percent").html(p("xei18n")("default.percent")+v(h.data.percentage)):b.select(".xe-pie-tooltip-percent").html(v(h.data.percentage)+p("xei18n")("default.percent")),b.style("display","block"))}function G(d){b&&b.style("display","none")}function L(h){if(b){var k=angular.element(A).find(".xe-pie-tooltip")[0];h=k.clientWidth;
k=k.clientHeight;d.isRtl()&&r()?b.style("top",e.event.layerY-k-10+"px").style("left",(e.event.layerX-h+10)/2+"px"):b.style("top",e.event.layerY-k-10+"px").style("left",e.event.layerX-h/2+"px")}}function W(b){return b.data.label}function T(b){return b.startAngle+(b.endAngle-b.startAngle)/2}function ba(b){b.each(function(){for(var b,d=e.select(this),h=d.text().split(/\s+/).reverse(),k=[],l=(d.attr("y"),parseFloat(d.attr("dy"))),p=d.text("").append("tspan").attr("x",0).attr("dy",l+"em");b=h.pop();)k.push(b),
p.text(k.join(" ")),45<(0<p.node().getComputedTextLength()?p.node().getComputedTextLength():5*p.text().length)&&(1<k.length?(k.pop(),p.text(k.join(" ")),k=[b],p=d.append("tspan").attr("x",0).attr("dy",l+"em").text(b)):(k=[],p=d.append("tspan").attr("x",0).attr("dy",l+"em").text("")))})}function F(){var b,d;b=!1;la&&(la.each(function(d){var h=this,k=this.getBoundingClientRect();la.each(function(l){if(this!==h){var p,t,r,v=this.getBoundingClientRect();2*Math.abs(k.left-v.left)<k.width+v.width&&2*Math.abs(k.top-
v.top)<k.height+v.height&&(p=.01*(Math.max(0,k.bottom-v.top)+Math.min(0,k.top-v.bottom)),t=e.transform(e.select(this).attr("transform")),r=e.transform(e.select(h).attr("transform")),b=!0,r.translate=[.65*q*(T(d)<Math.PI?1:-1),r.translate[1]+p],t.translate=[.65*q*(T(l)<Math.PI?1:-1),t.translate[1]-p],e.select(this).attr("transform","translate("+t.translate+")"),e.select(h).attr("transform","translate("+r.translate+")"))}})}),b&&(d=la[0],aa&&aa.attr("points",function(b,h){h=e.select(d[h]);var k=e.transform(h.attr("transform"));
h=k.translate[0];k=k.translate[1];return[da.centroid(b),E.centroid(b),h,k]}),k(F)))}function U(b,d){e.event.preventDefault();e.event.stopPropagation();6===d&&7<ma.length?(ya.style("opacity",function(b,d){return 6===d?1:.1}),ea.style("display","none").attr("aria-hidden",!0),ha.style("display","none").attr("aria-hidden",!0),(Ia||Ga||la||aa)&&(Ia.style("display","block").attr("aria-hidden",!1),Ga.style("display","block").attr("aria-hidden",!1),la.style("display","block").attr("aria-hidden",!1),aa.style("display",
"block").attr("aria-hidden",!1),la.selectAll(".xe-pie-light-text").call(ba),F())):((Ia||Ga||la||aa)&&(Ia.style("display","none").attr("aria-hidden",!0),Ga.style("display","none").attr("aria-hidden",!0),la.style("display","none").attr("aria-hidden",!0),aa.style("display","none").attr("aria-hidden",!0)),ya.style("opacity",1),ea.style("display","block").attr("aria-hidden",!1),ha.style("display","block").attr("aria-hidden",!1))}function O(b,d){D.ngclickfunction({pieSliceData:b.data})}function P(){e.select(this).classed("xe-pie-touch",
!e.select(this).classed("xe-pie-touch"))}function na(){var b,d;b=!1;ea&&(ea.selectAll("text").each(function(d){var h=this,k=this.getBoundingClientRect();ea.selectAll("text").each(function(l,p){if(this!==h){var t,r,v;p=this.getBoundingClientRect();2*Math.abs(k.left-p.left)<k.width+p.width&&2*Math.abs(k.top-p.top)<k.height+p.height&&(t=.01*(Math.max(0,k.bottom-p.top)+Math.min(0,k.top-p.bottom)),r=e.transform(e.select(this).attr("transform")),v=e.transform(e.select(h).attr("transform")),b=!0,v.translate=
[.55*q*(T(d)<Math.PI?1:-1),v.translate[1]+t],r.translate=[.55*q*(T(l)<Math.PI?1:-1),r.translate[1]-t],e.select(this).attr("transform","translate("+r.translate+")"),e.select(h).attr("transform","translate("+v.translate+")"))}})}),b&&(d=ea[0],ha&&ha.attr("points",function(b,h){h=e.select(d[h]).select("text");var k=e.transform(h.attr("transform"));h=k.translate[0];k=k.translate[1];return[pa.centroid(b),X.centroid(b),h,k]}),k(na)))}function Ca(b){ya=l.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(ka(b),
W);ya.enter().insert("path").style("fill",function(b,d){return 6===d&&(ta=b.startAngle,ga=b.endAngle),V(d)}).attr("class","xe-pie-slice").attr("tabindex","0").attr("aria-label",function(b){var e;return e=d.isRtl()?p("xei18n")("default.percent")+v(b.data.percentage):v(b.data.percentage)+p("xei18n")("default.percent"),e+(" "+b.data.label+" "+b.data.value)}).on("click",U).on("click",O).on("keydown",function(b,d){13==e.event.keyCode&&O(b,d)}).on("touchstart",U).on("mouseover",H).on("touchstart",H).on("touchstart",
P).on("mouseout",G).on("touchend",G).on("touchend",P).on("mousemove",L).on("touchmove",L).on("focusin",function(){e.event.target.classList.add("xe-slice-on")}).on("focusout",function(){e.event.target.classList.remove("xe-slice-on")});ya.transition().duration(1E3).attrTween("d",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){return za(d(b))}});ya.exit().remove();ea=l.select(".xe-pie-labels").selectAll("text").data(ka(b),W);ea.enter().append("a").attr({"xlink:href":function(b,
d){if(b.data.label===C.pie.otherLabel)return"#other-group-"+t},tabindex:function(b,d){if(b.data.label===C.pie.otherLabel)return 0},"aria-controls":function(b,d){if(b.data.label===C.pie.otherLabel)return"other-group-"+t},"aria-label":function(b,d){if(b.data.label===C.pie.otherLabel)return C.pie.group.otherAriaLabel}}).on("click",U).on("touchstart",U).append("text").attr({class:function(b,d){return b.data.label===C.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",
U).on("touchstart",U).on("mouseover",H).on("touchstart",H).on("mouseout",G).on("touchend",G).on("mousemove",L).on("touchmove",L);ea.selectAll("text").append("tspan").attr("x","0").attr("dy",function(b){return(b.startAngle+b.endAngle)/2>Math.PI/2&&(b.startAngle+b.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(b){return d.isRtl()?p("xei18n")("default.percent")+v(b.data.percentage):v(b.data.percentage)+p("xei18n")("default.percent")});ea.selectAll("text").append("tspan").attr("x",
"0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(b){return b.data.label});ea.selectAll("text").transition().duration(1E3).attrTween("transform",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);return"translate("+X.centroid(b)+")"}}).attrTween("text-anchor",function(b){this.d3current=this.d3current||b;var h=e.interpolate(this.d3current,b);return this.d3current=h(0),function(b){b=h(b);return d.isRtl()?
r()||0<$a.indexOf("Edge/")?T(b)<Math.PI?"start":"end":T(b)<Math.PI?"end":"start":T(b)<Math.PI?"start":"end"}});ea.exit().remove();ea.selectAll(".xe-pie-light-text").call(ba);ha=l.select(".xe-pie-lines").selectAll("polyline").data(ka(b),W);ha.enter().append("polyline").style("stroke",function(b,d){return V(d)});ha.transition().duration(1E3).attrTween("points",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);var e=X.centroid(b);
return[pa.centroid(b),X.centroid(b),e]}});ha.exit().remove();na()}function xa(b){Ia=l.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(b,d){return"#main-group-"+t},tabindex:function(b,d){return 0},"aria-controls":function(b,d){return"main-group-"+t},"aria-label":C.pie.group.mainAriaLabel}).on("click",U).on("touchstart",U).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#DBDBDD").attr("d",ia).on("click",U).on("touchstart",
U);Ga=l.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(Z(b),W);Ga.enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(b,d){return Oa(d)}).attr("class","xe-pie-sub-slice").on("mouseover",H).on("touchstart",H).on("mouseout",G).on("touchend",G).on("mousemove",L).on("touchmove",L);Ga.transition().duration(1E3).attrTween("d",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){return ia(d(b))}});
Ga.exit().remove();la=l.select(".xe-pie-sub-labels").selectAll("text").data(Z(b),W);la.enter().append("text").attr("class",function(d,e){return 7<b.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",H).on("touchstart",H).on("mouseout",G).on("touchend",G).on("mousemove",L).on("touchmove",L);la.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(b){return d.isRtl()?p("xei18n")("default.percent")+
v(b.data.percentage):v(b.data.percentage)+p("xei18n")("default.percent")});la.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(b){return b.data.label});la.transition().duration(1E3).attrTween("transform",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,b);return this.d3current=d(0),function(b){b=d(b);var e=E.centroid(b);return e[0]=.65*q*(T(b)<Math.PI?1:-1),"translate("+e+")"}}).attrTween("text-anchor",function(b){this.d3current=
this.d3current||b;var h=e.interpolate(this.d3current,b);return this.d3current=h(0),function(b){b=h(b);return d.isRtl()?T(b)<Math.PI?"end":"start":T(b)<Math.PI?"start":"end"}});la.exit().remove();aa=l.select(".xe-pie-sub-lines").selectAll("polyline").data(Z(b),W);aa.enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(b,d){return Oa(d)});aa.transition().duration(1E3).attrTween("points",function(b){this.d3current=this.d3current||b;var d=e.interpolate(this.d3current,
b);return this.d3current=d(0),function(b){b=d(b);var e=E.centroid(b);return e[0]=.6*q*(T(b)<Math.PI?1:-1),[da.centroid(b),E.centroid(b),e]}});aa.exit().remove()}var oa,va,sa,ta,ga,ka,Z,za,pa,X,ia,da,E,V,Oa,ya,ea,ha,Ia,Ga,la,aa,$a,Ha,sb,ma=[];if(h&&(h.select("thead").remove(),h.select("tbody").remove(),h.append("thead").attr("class","xe-pie-table-head"),h.append("tbody").attr("class","xe-pie-table-body")),l.selectAll("g").remove(),l.selectAll("text").remove(),0<C.innerRadiusFactor){oa=e.sum(D.data,
function(b){return b.value});var Fb=l.append("text").attr("text-anchor","middle");Fb.append("tspan").attr("class","xe-pie-total-value").attr("y",0).attr("x",0).attr("tabindex","0").text(v(oa));Fb.append("tspan").attr("class","xe-pie-total-label").attr("y",20).attr("x",0).attr("tabindex","0").text(C.pie.totalLabel)}l.append("g").attr({role:"presentation",class:"xe-pie-slices"});l.append("g").attr({role:"listitem",class:"xe-pie-labels",id:"main-group-"+t,"aria-live":"polite","aria-relevant":"additions removals"});
l.append("g").attr({role:"presentation",class:"xe-pie-lines"});7<D.data.length&&(l.append("g").attr({role:"presentation",class:"xe-pie-bg-sub-slice"}),l.append("g").attr({role:"presentation",class:"xe-pie-sub-slices"}),l.append("g").attr({role:"listitem",class:"xe-pie-sub-labels",id:"other-group-"+t,"aria-live":"polite","aria-relevant":"additions removals"}),l.append("g").attr({role:"presentation",class:"xe-pie-sub-lines"}));sa=0;Number.isFinite=Number.isFinite||function(b){return"number"==typeof b&&
isFinite(b)};ma=angular.copy(D.data);angular.forEach(ma,function(b,d){b.value=Number.isFinite(b.value)?Math.abs(b.value):0});ma.sort(function(b,d){return e.descending(b.value,d.value)});va=e.sum(ma,function(b){return b.value});h&&N(ma,[C.table.label,C.table.value,C.table.percentage]);angular.forEach(ma,function(b,d){6>d||8>ma.length?b.origin="main":(b.origin="sub",sa+=+b.value)});7<ma.length&&ma.splice(7,0,{label:C.pie.otherLabel,value:sa,origin:"main"});ma.forEach(function(b){va||b.value?b.percentage=
(Math.round(1E3*b.value/va)/10).toFixed(2):b.percentage="0.00"});oa=e.nest().key(function(b){return b.origin}).entries(ma);ka=e.layout.pie().sort(function(b,h){return d.isRtl()&&d.isRtl()?e.ascending(b.value,h.value):e.descending(b.value,h.value)}).value(function(b){return b.value});Z=e.layout.pie().value(function(b){return b.value}).startAngle(function(b){return ta}).endAngle(function(b){return ga});za=e.svg.arc().innerRadius(.5*q*C.innerRadiusFactor).outerRadius(.5*q);pa=e.svg.arc().innerRadius(.5*
q).outerRadius(.5*q);X=e.svg.arc().innerRadius(.5*q).outerRadius(.6*q);ia=e.svg.arc().innerRadius(.5*q).outerRadius(.6*q);da=e.svg.arc().innerRadius(.6*q).outerRadius(.6*q);E=e.svg.arc().innerRadius(.6*q).outerRadius(.7*q);V=e.scale.ordinal().range("#BA46A6 #5353d1 #51ABFF #1ABF96 #95D162 #F5DB75 #FFB581".split(" "));Oa=e.scale.ordinal().range("#FFF4EB #FFDFC8 #FFCAA4 #FFB581 #FFA15D #FF8C3A #FF7513 #FE6A00 #EB6200 #C35100".split(" "));7<ma.length?(Ca(oa[0].values),xa(oa[1].values)):Ca(oa[0].values)}
var t=0;return{restrict:"E",scope:{data:"=xePieData",config:"=xePieConfig",ngclickfunction:"&"},link:function(d,h,k){t+=1;h.addClass("xe-pie-chart");var l,p,q,v;k=h[0].clientWidth;var N=angular.merge({},{tooltip:!1,hiddenTable:!1,innerRadiusFactor:0,svg:{title:"",desc:""},pie:{otherLabel:"Other",totalLabel:"Units"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},d.config);N.hiddenTable&&(p=e.select(h[0]).append("table").attr({"aria-label":N.table.ariaLabel,class:"xe-pie-table-hidden"}));
k-=10;l=Math.min(k,k)/2;k=e.select(h[0]).classed("svg-container",!0).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:k,height:k,viewBox:"0 0 "+Math.min(k,k)+" "+Math.min(k,k),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+t+" desc"+t}).classed("svg-content-responsive",!0);k.append("title").attr("id","title"+t).text(N.svg.title);k.append("desc").attr("id","desc"+t).text(N.svg.desc);q=k.append("g").attr({role:"list",
"aria-label":N.pie.ariaLabel,class:"xe-pie-svg",transform:"translate("+l+", "+l+")"});N.tooltip&&(v=e.select(h[0]).append("div").attr("class","xe-pie-tooltip"),v.append("p").attr("class","xe-pie-tooltip-label"),v.append("p").attr("class","xe-pie-tooltip-value"),v.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text"));d.$watch("data",function(d,e,k){d!=e&&b(v,p,q,l,k,N,h)},!0);b(v,p,q,l,d,N,h)}}}])})();
(function(){angular.module("popupModal",["xe-ui-components"]).directive("xePopupModal",["$timeout",function(e){return{restrict:"EA",scope:{show:"=",pageheader:"@",focusbackelement:"@"},replace:!0,transclude:{popupContent:"?popupContent",popupButtons:"?popupButtons"},templateUrl:"templates/modal.html",controller:["$scope",function(e){e.hide=function(){e.show=!1;e.focusBackElement&&angular.element("#"+e.focusBackElement).focus()};e.popupTitle=e.pageheader;e.focusBackElement=e.focusbackelement}],link:function(l,
q,k){q.attr("id",k.id);q.attr("tabindex",0).focus();k.pageheaderXeField&&q.find(".xe-popup-header .xe-app-title").attr("xe-field",k.pageheaderXeField);k.width&&q.find(".xe-popup-container").css({"max-width":k.width,width:k.width});q.on("keydown",function(d){27===d.keyCode||"xe-popup-close"===document.activeElement.className&&13===d.keyCode?(l.show=!1,l.$apply(),l.focusBackElement&&angular.element("#"+l.focusBackElement).focus()):9===d.keyCode&&d.shiftKey&&angular.element(document.activeElement).hasClass("xe-popup-mask")&&
(q.find("#buttonContainer xe-button:last button:not(:disabled):not(:hidden)").focus(),d.preventDefault(),d.stopImmediatePropagation())});e(function(){q.on("focus","#tabOrdering",function(){q.find("#xePopupClose").focus()});q.on("keydown","#xePopupClose",function(d){if(9===d.keyCode&&d.shiftKey)q.find("#buttonContainer xe-button:last button:not(:disabled):not(:hidden)").focus();else if(9===d.keyCode)return!0;27!==d.keyCode&&13!==d.keyCode||(l.show=!1,l.$apply(),l.focusBackElement&&angular.element("#"+
l.focusBackElement).focus());d.preventDefault();d.stopImmediatePropagation()})},100)}}}])})();
(function(){angular.module("tabnav",[]).directive("ngRepeatComplete",["$timeout",function(e){return{restrict:"A",link:function(l,q,k){l.keyboardNav=function(){var d,e=angular.element(q[0].parentElement),h=parseInt(e.find("li.active a").attr("id").split("tab")[1],10),k=e[0].firstElementChild,b=e[0].lastElementChild,t=e[0].querySelector("li.active"),y=function(){return function(e){t===b&&e?h=l.tabnav.tabs.length:t===k&&e&&(h=1);h===l.tabnav.tabs.length&&"right"===e?(t=k,d=angular.element(t.querySelector("a")),
h=1,d.focus()):1===h&&"left"===e?(t=b,d=angular.element(t.querySelector("a")),h=l.tabnav.tabs.length,d.focus()):"right"===e?(t=t.nextElementSibling,d=angular.element(t.querySelector("a")),h=parseInt(d.attr("id").split("tab")[1],10),d.focus()):"left"===e?(t=t.previousElementSibling,d=angular.element(t.querySelector("a")),h=parseInt(d.attr("id").split("tab")[1],10),d.focus()):(l.activeElement=l.activeElement||document.activeElement.parentElement,t=l.activeElement,h=parseInt(angular.element(t).find("a").attr("id").split("tab")[1],
10),l.activeElement=null);l.$apply(function(){t.focus();l.tabnav.activate(l.tabnav.tabs[h-1])})}}();l.keydownEventHandler=function(b){b=b.keyCode||b.which||b.originalEvent.keyCode;return 39===b||40===b?(y("right"),!1):37!==b&&38!==b||(y("left"),!1)};l.keyupEventHandler=function(b){if(13===(b.keyCode||b.which||b.originalEvent.keyCode))return y(),!1};e.on("keydown",l.keydownEventHandler);e.on("keyup",l.keyupEventHandler)};!0===l.$last&&e(l.keyboardNav)}}}]).directive("xeTabNav",function(){return{restrict:"EA",
scope:{xeSection:"@?"},transclude:!0,templateUrl:"templates/tabNav.html",controllerAs:"tabnav",controller:["$compile","$sce","$q","$scope","$state",function(e,l,q,k,d){var p=this;p.currentActive=null;p.tabs=[];p.extendTab=function(d,e){var b;if("undefined"!=typeof xe&&xe.extensionsFound){var l=_.find(xe.extensions.sections,function(b){return b.name==k.xeSection});l&&l.fields.forEach(function(k,l){k.name===e.xeField&&(k.label&&(d.heading=xe.i18n(k.label)),k.exclude&&(b=!0))})}b||p.tabs.push(e)};p.loadDynamicContent=
function(d,e){"[object Function]"!==Object.prototype.toString.call(d)||e.hasTranscludedContent||e.dynamicContent||d().then(function(b){e.dynamicContent=b;e.dynamic(b)},function(b){console.error(b)})};p.activate=function(e){p.currentActive.active=!1;e.active=!0;p.currentActive=e;e.state?d.go(e.state,e.stateParams):p.loadDynamicContent(e.loadDataOnClick,e)}}]}}).directive("xeTabPanel",["$compile","$state",function(e,l){return{restrict:"EA",transclude:!0,scope:{heading:"@",state:"@",loadDataOnClick:"&",
jsLazyLoad:"@",xeField:"@?",stateParams:"="},templateUrl:"templates/tabPanel.html",require:"^xeTabNav",link:function(q,k,d,p,h){function v(){d.loadDataOnClick?p.loadDynamicContent(p.currentActive.loadDataOnClick,p.currentActive):p.activate(p.currentActive)}p.extendTab(d,q);q.element=k;q.tabIndex=p.tabs.indexOf(q)+1;q.lazyLoadJs=function(b){var d=document.createElement("script");d.src=b.jsLazyLoad;document.head.appendChild(d)};h(q,function(b,d){var e;b.text().trim().length&&(d.hasTranscludedContent=
!0,e=angular.element(k[0].querySelector("[content]")),e.append(b))});d.hasOwnProperty("active")||q.state===l.current.name?(q.active=!0,p.currentActive=q,v()):k.is(":last-child")&&!p.currentActive&&(p.tabs[0].active=!0,p.currentActive=p.tabs[0],p.currentActive.element.attr("active",""),v());q.dynamic=function(b){b=angular.element(b);b=e(b)(q);angular.element(k[0].querySelector("[content]")).append(b);q.jsLazyLoad&&q.active&&q.lazyLoadJs(q)}}}}])})();
(function(){angular.module("timePicker",["xe-ui-components","ngMessages","dateParser"]).directive("xeTimePicker",["$timeout","$filter","$window","$document","Language","keyCodes","$dateParser","dateFilter",function(e,l,q,k,d,p,h,v){return{restrict:"E",scope:{displayFormat:"@?",xeConfigstep:"@?",xeId:"@",xeName:"@",xePlaceholder:"@?",modelScope:"=?xeModel",returnFormat:"@?",returnTranslatedMeridian:"@?",xeWidth:"@?"},replace:!0,templateUrl:d.isRtl()?"templates/timePicker_rtl.html":"templates/timePicker.html",
controller:["$scope",function(b){function d(b,e){var h=[],k=0;e=parseInt(e);12===b&&(k=1);for(e?(60<e||0>e)&&(e=1):e=1;k<=b;){var l=(new Intl.NumberFormat("en-US",{minimumIntegerDigits:2})).format(k);h.push(l);k+=e}return h}function e(d,h,k,l){var p=parseInt(d)+1;if(p<k.length){var q=angular.element(h).closest("ul");angular.element(q).find("li").each(function(b,d){$(d).attr("tabindex",-1)});angular.element(q).find("li").siblings().removeClass("active-timepicker");q=angular.element(q).find("li")[p];
l?b.hrsFocusElem=q:b.minFocusElem=q;angular.element(q).addClass("active-timepicker");angular.element(q).attr("tabindex",0);angular.element(q).focus()}p=parseInt(p)+1;l=angular.element(h).closest("div");if(angular.element(l).find("div.nextDiv").text(""),parseInt(d)>k.length-2||parseInt(d)===k.length-2)angular.element(l).find("div.nextDiv").text("");else if(q=angular.element(h).closest("ul"),angular.element(l).find("div.nextDiv").text(""),angular.element(q).find("li"))d=angular.element(q).find("li")[p].innerText,
angular.element(l).find("div.nextDiv").text(d)}function k(b,d){b=parseInt(b);var e=angular.element(d).closest("ul");d=angular.element(d).closest("div");void 0!==angular.element(e).find("li")[b]?(b=angular.element(e).find("li")[b].innerText,angular.element(d).find("div.previousDiv").text(b)):angular.element(d).find("div.previousDiv").text("")}b.timeObject={};b.toggleContainer=!1;b.hours=[];b.minutes=[];b.displayFormat?b.xeTimePlaceholder=b.xePlaceholder:(b.displayFormat=l("xei18n")("default.timepicker.time.format"),
"default.time.watermark.format"!=l("xei18n")("default.time.watermark.format")&&(b.xeTimePlaceholder=l("xei18n")("default.time.watermark.format")));void 0!==b.modelScope&&null!==b.modelScope||(b.modelScope="");b.displayModel=b.modelScope;b.minFocusElem="";b.hrsFocusElem="";b.showError=!1;b._12hrFormat="hh:mm a";b._24hrFormat="HH:mm";b.formatNumberTwoDecimal=function(b){return""!=b&&(b=(new Intl.NumberFormat("en-US",{minimumIntegerDigits:2})).format(b)),b};b.formatTimeTo12Hours=function(d,e){var h;
d&&(h=d.split(" ")[1],2<d.split(" ").length&&(h=d.split(" ")[1]+d.split(" ")[2]),e?"PM"===h?h=b.meridiansList[1]:"AM"===h&&(h=b.meridiansList[0]):h===b.meridiansList[1]?h="PM":h===b.meridiansList[0]&&(h="AM"),h=d.split(" ")[0]+" "+h);return h};b.formatEnteredTime=function(b,d,e){b=h(b,d);return v(b,e)};var p=q.navigator.userAgent,w={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};if(b.getBrowser=function(){for(var b in w)if(w[b].test(p))return b},!b.xeConfigstep){var D=
(new Intl.NumberFormat("en-US",{minimumIntegerDigits:2})).format(1);b.xeConfigstep=D}if(b.timeObject=new function(){b.timeObject.hours=[];b.timeObject.minutes=[];b.timeObject.configstep;b.timeObject.is24Hrformat;b.timeObject.returnFormat},b.timeObject.displayFormat=b.displayFormat,b.timeObject.returnFormat=b.returnFormat,null!=b.timeObject.displayFormat&&"undefined"!=b.timeObject.displayFormat)D=b.timeObject.displayFormat.split(" ").length,2===D?(b.maxHrs=12,b.minHr=1,b.timeObject.is24Hrformat=!1):
(b.maxHrs=23,b.minHr=0,b.timeObject.is24Hrformat=!0),b.maxMinutes=59,b.timeObject.configstep=b.xeConfigstep,b.timeObject.hours=d(b.maxHrs,1),b.timeObject.minutes=d(b.maxMinutes,b.timeObject.configstep);null!=b.returnFormat&&"undefined"!=b.returnFormat&&(D=b.returnFormat.split(" ").length,b.timeObject.returnFormat=2===D?12:24);null!=b.displayModel&&"undefined"!=b.displayModel?(D=b.displayModel.split(" ").length,b.timeObject.format12=2===D?"Y":"N"):b.timeObject.format12=null;0==b.timeObject.is24Hrformat&&
"Y"==b.timeObject.format12?b.timeObject.format12="Y":1==b.timeObject.is24Hrformat&&"N"==b.timeObject.format12&&(b.timeObject.format12="N");b.meridiansList=[l("xei18n")("default.time.am"),l("xei18n")("default.time.pm")];b.commonIncrement=function(d,h,l){if(l)if(0===parseInt(d)||-1===parseInt(d))e(d,h,b.timeObject.hours,l),k(d,h);else if(0<parseInt(d)&&parseInt(d)<b.timeObject.hours.length-2)e(d,h,b.timeObject.hours,l),k(d,h);else{if(parseInt(d)>b.timeObject.hours.length-2||parseInt(d)===b.timeObject.hours.length-
2)e(d,h,b.timeObject.hours,l),l=parseInt(d),parseInt(d)!==b.timeObject.hours.length-1&&(d=angular.element(h).closest("ul"),l=angular.element(d).find("li")[l].innerText,h=angular.element(h).closest("div"),angular.element(h).find("div.previousDiv").text(""),angular.element(h).find("div.previousDiv").text(l))}else if(0===parseInt(d)||-1===parseInt(d))e(d,h,b.timeObject.minutes,l),k(d,h);else if(0<parseInt(d)&&parseInt(d)<b.timeObject.minutes.length-2)e(d,h,b.timeObject.minutes,l),k(d,h);else if(parseInt(d)>
b.timeObject.minutes.length-2||parseInt(d)===b.timeObject.minutes.length-2)e(d,h,b.timeObject.minutes,l),l=parseInt(d),parseInt(d)!==b.timeObject.minutes.length-1&&(d=angular.element(h).closest("ul"),l=angular.element(d).find("li")[l].innerText,h=angular.element(h).closest("div"),angular.element(h).find("div.previousDiv").text(""),angular.element(h).find("div.previousDiv").text(l))};b.commonDecrement=function(d,e,h){var k=d-1;d=angular.element(e).closest("div");if(!(0>parseInt(k))){e=angular.element(e).closest("ul");
var l=angular.element(e).find("li")[k];e=(h?b.hrsFocusElem=angular.element(e).find("li")[k]:b.minFocusElem=angular.element(e).find("li")[k],angular.element(e).find("li").each(function(b,d){$(d).attr("tabindex",-1)}),angular.element(e).find("li").siblings().removeClass("active-timepicker"),angular.element(l).addClass("active-timepicker"),angular.element(l).attr("tabindex",0),angular.element(l).focus(),angular.element(d).find("div.nextDiv").text(""),h)?b.timeObject.hours[k+1]:b.timeObject.minutes[k+
1];(angular.element(d).find("div.nextDiv").text(e),1>k||0===k)?angular.element(d).find("div.previousDiv").text(""):(h=(angular.element(d).find("div.previousDiv").text(""),h)?b.timeObject.hours[k-1]:b.timeObject.minutes[k-1],angular.element(d).find("div.previousDiv").text(h))}};b.disableInput=function(b){b.find("input.input-field").attr("disabled","disabled");b.find("input.input-field").attr("readonly","readonly");b.find("input.input-field").attr("tabindex",-1)};b.enableInput=function(b){b.find("input.input-field").removeAttr("readonly");
b.find("input.input-field").removeAttr("disabled");b.find("input.input-field").attr("tabindex",0)}}],link:function(b,h){k.bind("click",function(d){0<h.find(d.target).length||(b.toggleContainer=!1,h.removeClass("time-picker-position"),b.enableInput(h),b.$digest())});e(function(){function e(b){b.preventDefault();b.stopPropagation();b.cancelBubble=!0}function k(d,e,h){var l,p;if(b.timeObject.is24Hrformat){l=b.timeObject.hours[parseInt(d)];var q;b.timeObject.minutes.map(function(b,d){b==e&&(q=d)});e=
q;p=b.timeObject.minutes[parseInt(e)]}else l=b.timeObject.hours[parseInt(d)-1],b.timeObject.minutes.map(function(b,d){b==e&&(q=d)}),e=q,p=b.timeObject.minutes[parseInt(e)-1];var r=h.find("ul:last li")[parseInt(e)],t=h.find("ul:first li")[parseInt(d)];p&&l?(h.find("ul:last li")[parseInt(e)].focus(),b.commonIncrement(parseInt(e)-1,r,!1),b.commonIncrement(parseInt(d)-1,t,!0),h.find("ul:first li")[parseInt(d)].focus()):0===d&&void 0===l&&void 0!==p?(h.find("ul:last li")[parseInt(e)].focus(),b.commonIncrement(parseInt(e)-
1,r,!1),b.commonIncrement(-1,t,!0)):void 0===p&&void 0!==l?(r=h.find("ul:last li")[0],b.commonIncrement(-1,r,!1),b.commonIncrement(parseInt(d-1),t,!0)):(r=h.find("ul:last li")[0],t=h.find("ul:first li")[0],b.commonIncrement(-1,r,!1),b.commonIncrement(-1,t,!0))}function q(d){var e=b.showError=!1;if(null!=d&&""!=d)var h="",k=!1,e=(h=v(d),h||(k=!0),k);e&&(b.showError=!0,b.$emit("time-picker-error",l("xei18n")("timepicker.error.format.validation"),b.xeId))}function v(d){var e;b.timeObject.is24Hrformat?
(e=d.split(":"),d=b.formatNumberTwoDecimal(e[0]),e=b.formatNumberTwoDecimal(e[1]),e=b.formatEnteredTime(d+":"+e,b._24hrFormat,b.timeObject.displayFormat)):d&&(d=b.formatTimeTo12Hours(d,!1),e=b.formatEnteredTime(d,b._12hrFormat,b._12hrFormat));return e}function D(){var d=angular.element("#"+b.xeId).closest("div").next();b.toggleContainer=!1;h.removeClass("time-picker-position");var e=angular.element(d).find("ul:first li.active-timepicker").text(),k=angular.element(d).find("ul:last li.active-timepicker").text(),
d=angular.element(d).find("div.pushmeBorder").text(),e=e+":"+k,e=b.timeObject.is24Hrformat?e:e+" "+d;A(e);b.enableInput(h);h.find("input.input-field").focus();b.displayModel=e;angular.element(h.find("input.input-field")).controller("ngModel").$setDirty();b.$apply()}function C(d){var e=b.formatEnteredTime(d,b.returnFormat,b.returnFormat);d=b.formatEnteredTime(d,b.returnFormat,b.displayFormat);12==b.timeObject.returnFormat&&(b.timeObject.is24Hrformat||(e=b.formatTimeTo12Hours(d,!1),e=b.formatEnteredTime(e,
b._12hrFormat,b.returnFormat)));b.timeObject.is24Hrformat||(d=b.formatTimeTo12Hours(d,!0));b.displayModel=d;b.modelScope=e}function A(d){var e,h;if("Y"===b.timeObject.format12||"N"===b.timeObject.format12)b.timeObject.is24Hrformat?h=b.formatEnteredTime(d,b.displayFormat,b.returnFormat):(h=b.formatTimeTo12Hours(d,!1),h=b.formatEnteredTime(h,b.displayFormat,b.returnFormat));if("Y"===b.timeObject.format12||"N"===b.timeObject.format12)b.timeObject.is24Hrformat?e=b.formatEnteredTime(d,b.displayFormat,
b.displayFormat):(d=b.formatTimeTo12Hours(d,!1),e=b.formatEnteredTime(d,b.displayFormat,b.displayFormat),e=b.formatTimeTo12Hours(e,!0));b.displayModel=e;b.modelScope=h}function N(b){var d=l("xei18n")("default.time.am"),e=l("xei18n")("default.time.pm");$(b).text(function(b,h){return h===d?e:d});$(b).next().text(function(b,h){return h===d?e:d})}function r(d,e,h,k){d=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail));if(0>d)return b.commonIncrement(e,h,k),!1;0<d&&b.commonDecrement(e,h,k)}function H(b){angular.element(b).addClass("active-timepickerFocus")}
function G(){angular.element(b.hrsFocusElem).parent().removeAttr("aria-label");angular.element(b.minFocusElem).parent().removeAttr("aria-label")}function L(){var b=h.find(".minFocus"),d=h.find(".hrsFocus"),e=h.find(".meridianFocus"),k=h.find(".footercancelButton");angular.element(e).removeClass("active-timepickerFocus");angular.element(b).removeClass("active-timepickerFocus");angular.element(d).removeClass("active-timepickerFocus");angular.element(k).removeClass("active-timepickerFocus")}function W(){angular.element(b.hrsFocusElem).parent().attr("aria-label",
l("xei18n")("timepicker.hour.aria.label")+" "+l("xei18n")("timepicker.shortcuts.aria.label"))}function T(){b.timeObject.is24Hrformat?angular.element(b.minFocusElem).parent().attr("aria-label",l("xei18n")("timepicker.min.aria.24hrs.label")+" "+l("xei18n")("timepicker.shortcuts.aria.label")):angular.element(b.minFocusElem).parent().attr("aria-label",l("xei18n")("timepicker.min.aria.label")+" "+l("xei18n")("timepicker.shortcuts.aria.label"))}function ba(b){if(pa){var d=b.originalEvent.touches?b.originalEvent.touches[0]:
b;X={time:(new Date).getTime(),coords:[d.pageX,d.pageY]};10<Math.abs(pa.coords[1]-X.coords[1])&&e(b)}}function F(b,d){L();d=h.find("."+d);angular.element(d).addClass("active-timepickerFocus");d=b.originalEvent.touches?b.originalEvent.touches[0]:b;pa={time:(new Date).getTime(),coords:[d.pageX,d.pageY],origin:$(b.target)}}function U(d,h,k,l){if(pa&&X&&1E3>X.time-pa.time&&30<Math.abs(pa.coords[1]-X.coords[1])&&75>Math.abs(pa.coords[0]-X.coords[0]))return pa.coords[1]>X.coords[1]?b.commonIncrement(parseInt(d),
h,k):b.commonDecrement(parseInt(d),h,k),pa=X=void 0,e(l),!1}h.find(".input-outerContainer").css("width",b.xeWidth);angular.element(h.find("div.timepickerContainer")).on("keydown",function(d){d.keyCode===p.F9&&(b.toggleContainer=!1,h.removeClass("time-picker-position"),b.$digest(),b.enableInput(h),h.find("div.input-container input.input-field").focus(),G())});b.displayModel&&C(b.displayModel);var O;O=b.getBrowser();O="chrome"==O?"wheel":"firefox"==O?"DOMMouseScroll":"mousewheel";h.find("div.extraDiv").on("focus",
function(){angular.element(b.hrsFocusElem).focus();b.focusPrevElement=h.find(".hrsFocus");angular.element(b.focusPrevElement).addClass("active-timepickerFocus")});var P=h.find("div.input-container .inputicon");angular.element(P).on("click",function(d){L();b.focusHrsElement=h.find(".hrsFocus");angular.element(b.focusHrsElement).addClass("active-timepickerFocus");b.showError=!1;b.toggleContainer=!b.toggleContainer;b.toggleContainer?(h.addClass("time-picker-position"),b.disableInput(h)):(h.removeClass("time-picker-position"),
b.enableInput(h));var p=h.find("input.input-field").val();if(q(p),b.$digest(),b.showError){var r=h.find("ul:last li")[0],v=h.find("ul:first li")[0];b.commonDecrement(1,r,!1);b.commonDecrement(1,v,!0);h.find("ul:first li")[0].focus();angular.element(h).find("input.input-field").val("");b.displayModel="";b.modelScope="";b.$apply()}else if(b.timeObject.is24Hrformat){var w=p.split(":")[0],p=p.split(":")[1],w=parseInt(w),p=parseInt(p);k(w,p,h)}else if(w=p.split(":")[0],w=parseInt(w)-1,p=p.split(":")[1],
void 0!==p){var A=p.split(" ")[0];k(w,A,h);w=p.split(" ")[1];w.toLocaleLowerCase()===l("xei18n")("default.time.am").toLocaleLowerCase()?(r=b.meridiansList[0],v=b.meridiansList[1]):w.toLocaleLowerCase()===l("xei18n")("default.time.pm").toLocaleLowerCase()&&(r=b.meridiansList[1],v=b.meridiansList[0]);h.find("div.pushmeBorder").text(r);h.find("div.meridianPm").text(v)}else k(w,0,h,1);e(d)});P=h.find("div.timepickerContainer");angular.element(P).on("keydown",function(d){d.keyCode===p.ESC&&(L(),b.enableInput(h),
b.showError=!1,b.toggleContainer=!1,h.removeClass("time-picker-position"),b.$digest(),h.find("div.input-container input.input-field").focus(),e(d))});P=h.find("div.input-container input.input-field");angular.element(P).on("focusout",function(d){var k=h.find("input.input-field").val();b.enableInput(h);q(k);e(d);b.showError?(h.find("input.input-field").val(""),b.displayModel="",b.modelScope=""):(k=v(k),A(k));b.$apply()});angular.element(P).on("keydown",function(d){if(d.keyCode===p.F9){L();var r=h.find(".hrsFocus");
angular.element(r).addClass("active-timepickerFocus");b.showError=!1;r=angular.element(h).find("input.input-field").val();if(b.toggleContainer=!0,h.addClass("time-picker-position"),q(r),b.$digest(),b.disableInput(h),G(),W(),b.showError){var C=h.find("ul:last li")[0],F=h.find("ul:first li")[0];b.commonDecrement(1,C,!1);b.commonDecrement(1,F,!0);h.find("ul:first li")[0].focus();angular.element(h).find("input.input-field").val("")}else{var D;if(b.timeObject.is24Hrformat){var H=r.split(":")[0],N=r.split(":")[1],
H=parseInt(H),N=parseInt(N);k(H,N,h,1)}else if(H=r.split(":")[0],H=parseInt(H)-1,N=r.split(":")[1],void 0!==N){D=0;var O=N.split(" ")[0],F=b.meridiansList[1];k(H,O,h,D);D=N.split(" ")[1];void 0!==D&&(D.toLocaleLowerCase()===l("xei18n")("default.time.am").toLocaleLowerCase()?(C=b.meridiansList[0],F=b.meridiansList[1]):D.toLocaleLowerCase()===l("xei18n")("default.time.pm").toLocaleLowerCase()&&(C=b.meridiansList[1],F=b.meridiansList[0]),h.find("div.pushmeBorder").text(C),h.find("div.meridianPm").text(F))}else k(H,
0,h,1)}e(d)}if(d.keyCode===p.TAB)return q(this.value),r=v(this.value),A(r),b.$apply(),!0});h.find("footer.timerFooter .footercancelButton");if(h.find("footer.timerFooter .footercancelButton").on("click",function(d){L();b.showError=!1;b.enableInput(h);b.toggleContainer=!1;h.removeClass("time-picker-position");b.$digest();h.find("div.input-container input.input-field").focus();e(d)}),h.find("footer.timerFooter .footercancelButton").on("keydown",function(d){d.shiftKey&&d.keyCode===p.TAB&&((G(),b.timeObject.is24Hrformat)?
(T(),L(),d=h.find("ul.minFocus")):(L(),d=h.find("div.meridianFocus")),H(d));return!0}),h.find("footer.timerFooter xe-button button.primary").on("keydown, click",function(b){D();e(b)}),h.find("footer.timerFooter xe-button button.primary").on("keydown",function(b){b.shiftKey||b.keyCode!==p.TAB||(G(),W())}),!b.timeObject.is24Hrformat){var P=h.find("div.timepickerContainer .mainContainer .tickerContainer")[0].classList[1],na=h.find("div.timepickerContainer .mainContainer .pushmeBorder")[0],Ca=h.find(".meridianFocus");
$("."+P).on(O,function(b){L();H(Ca);N(na)});$("."+P).on("click",function(b){L();H(Ca)});$("."+P).on("keydown",function(b){b.keyCode!==p.UP&&b.keyCode!==p.DOWN||N(na);b.shiftKey&&b.keyCode===p.TAB&&(G(),T());b.shiftKey||b.keyCode!==p.TAB||G()});$("."+P).on("touchend",function(b){L();H(Ca);N(na)})}b.hrsFocusElem=h.find("ul:first li")[0];b.minFocusElem=h.find("ul:last li")[0];var xa=h.find("ul:first li"),oa=xa[0],P=angular.element(oa).closest("div"),va=angular.element(oa).closest("ul"),sa=angular.element(va).find("li")[1].innerText;
angular.element(P).find("div.nextDiv").text(sa);angular.element(oa).attr("tabindex",0);$(va).on("click",function(){L();H(va)});angular.element(P).find("div.nextDiv").on(O,function(b){var d=b.originalEvent,k=$(this.parentElement).find("ul li.active-timepicker");return L(),H(h.find(".hrsFocus")),r(d,parseInt(k[0].classList[0].split("_")[1]),k,!0),e(b),!1});angular.element(P).find("div.previousDiv").on(O,function(b){var d=b.originalEvent,k=$(this.parentElement).find("ul li.active-timepicker");return L(),
H(h.find(".hrsFocus")),r(d,parseInt(k[0].classList[0].split("_")[1]),k,!0),e(b),!1});xa.on("keydown",function(d){var k=parseInt(this.classList[0].split("_")[1]);return(b.focusPrevElement=h.find(".minFocus"),b.focusCurrentElement=h.find(".hrsFocus"),xa.each(function(b,d){$(d).attr("tabindex",-1)}),angular.element("."+this.classList[0]).attr("tabindex",0),d.keyCode===p.DOWN)?(b.commonIncrement(k,this,!0),G(),e(d),!1):d.keyCode===p.UP?(b.commonDecrement(k,this,!0),G(),e(d),!1):d.keyCode===p.RIGHT?(angular.element(b.minFocusElem).focus(),
L(),H(b.focusPrevElement),G(),T(),angular.element(b.minFocusElem).focus(),e(d),!1):d.keyCode===p.ENTER?(G(),D(),e(d),!1):d.shiftKey||d.keyCode!==p.TAB?d.shiftKey&&d.keyCode===p.TAB?(k=h.find("footer.timerFooter xe-button button.primary"),angular.element(k).focus(),L(),H(k),G(),e(d),!1):!0:(angular.element(b.minFocusElem).focus(),L(),H(b.focusPrevElement),G(),T(),angular.element(b.minFocusElem).focus(),e(d),!1)});xa.on(O,function(b){var d=b.originalEvent,k=$(this).closest("ul"),k=$(k).find("li.active-timepicker"),
l=parseInt(k[0].classList[0].split("_")[1]);return L(),H(h.find(".hrsFocus")),r(d,l,k,!0),e(b),!1});var ta=h.find("ul:last li"),oa=ta[0],ga=angular.element(oa).closest("div"),ka=angular.element(oa).closest("ul"),sa=angular.element(ka).find("li")[1].innerText;angular.element(oa).attr("tabindex",0);angular.element(ga).find("div.nextDiv").text(sa);$(ka).on("click",function(){L();H(ka)});angular.element(ga).find("div.nextDiv").on(O,function(b){var d=b.originalEvent,k=$(this.parentElement).find("ul li.active-timepicker");
return L(),H(h.find(".minFocus")),r(d,parseInt(k[0].classList[0].split("_")[1]),k,!1),e(b),!1});angular.element(ga).find("div.previousDiv").on(O,function(b){var d=b.originalEvent,k=$(this.parentElement).find("ul li.active-timepicker");return L(),H(h.find(".minFocus")),r(d,parseInt(k[0].classList[0].split("_")[1]),k,!1),e(b),!1});W();ta.on("keydown",function(k){var l=parseInt(this.classList[0].split("_")[1]);if(b.focusPrevElement=h.find(".hrsFocus"),b.focusNextElement=h.find(".meridianFocus"),b.focusCurrentElement=
h.find(".minFocus"),ta.each(function(b,d){$(d).attr("tabindex",-1)}),angular.element("."+this.classList[0]).attr("tabindex",0),k.keyCode===p.DOWN)return G(),b.commonIncrement(l,this,!1),e(k),!1;if(k.keyCode===p.UP)return G(),b.commonDecrement(l,this,!1),e(k),!1;if(k.keyCode===p.LEFT)return G(),W(),angular.element(b.hrsFocusElem).attr("tabindex",0),angular.element(b.hrsFocusElem).focus(),L(),H(b.focusPrevElement),e(k),!1;if(k.keyCode===p.RIGHT)return(G(),b.ampmEle=h.find("div.pushmeBorder"),angular.element(b.ampmEle).attr("tabindex",
0),angular.element(b.ampmEle).focus(),b.timeObject.is24Hrformat)||(l=h.find("div.meridianFocus"),h.find(".minFocus"),L(),H(l)),e(k),!1;if(k.keyCode===p.ENTER)return G(),D(),e(k),!1;if(!k.shiftKey&&k.keyCode===p.TAB){var q=h.find(".footercancelButton"),r=h.find(".minFocus"),l=h.find(".meridianFocus");d.isRtl()?(angular.element(q).addClass("active-timepickerFocus"),angular.element(r).removeClass("active-timepickerFocus")):b.timeObject.is24Hrformat?L():(L(),H(l));angular.element(q).removeClass("active-timepickerFocus");
G()}return!k.shiftKey||k.keyCode!==p.TAB||(angular.element(b.hrsFocusElem).attr("tabindex",0),angular.element(b.hrsFocusElem).focus(),L(),H(b.focusPrevElement),G(),W(),angular.element(b.hrsFocusElem).focus(),e(k),!1)});h.find("div.mainContainer .pushmeBorder").on("keydown",function(d){return b.focusCurrentElement=h.find(".meridianFocus"),b.focusPrevElement=h.find(".minFocus"),d.keyCode===p.LEFT?(angular.element(b.minFocusElem).focus(),L(),H(b.focusPrevElement),G(),T(),angular.element(b.minFocusElem).focus(),
e(d),!1):d.keyCode!==p.RIGHT&&(d.keyCode===p.ENTER?(G(),D(),e(d),!1):(d.shiftKey||d.keyCode!==p.TAB||L(),void(d.shiftKey&&d.keyCode===p.TAB&&(L(),H(b.focusPrevElement),$(".meridianFocus").removeClass("active-timepickerFocus")))))});ta.on(O,function(b){var d=b.originalEvent,k=$(this).closest("ul"),k=$(k).find("li.active-timepicker"),l=parseInt(k[0].classList[0].split("_")[1]);return L(),H(h.find(".minFocus")),r(d,l,k,!1),e(b),!1});var Z,za,pa={},X={};angular.element(P).on("mousedown",function(b){Z=
b.pageY}).on("mouseup",function(d){L();var k=h.find(".hrsFocus");angular.element(k).addClass("active-timepickerFocus");var k=$(this.parentElement).find(".hrsContainer  ul li.active-timepicker"),l=parseInt(k[0].classList[0].split("_")[1]);return za=d.pageY,Z<za?b.commonDecrement(l,k,!0):Z>za&&b.commonIncrement(l,k,!0),e(d),!1});var ia,da;angular.element(ga).on("mousedown",function(b){ia=b.pageY}).on("mouseup",function(d){L();var k=h.find(".minFocus");angular.element(k).addClass("active-timepickerFocus");
var k=$(this.parentElement).find(".minContainer  ul li.active-timepicker"),l=parseInt(k[0].classList[0].split("_")[1]);return da=d.pageY,ia<da?b.commonDecrement(l,k,!1):ia>da&&b.commonIncrement(l,k,!1),e(d),!1});$(P).find("div.nextDiv").on({touchstart:function(b){F(b,"hrsFocus");$(this).on("touchmove",ba);b.preventDefault()},touchend:function(b){$(this).off("touchmove");var d=this.closest("div"),d=$(d).prev();U($(d).find("li.active-timepicker").val(),d,!0,b)}});$(P).find("div.previousDiv").on({touchstart:function(b){F(b,
"hrsFocus");$(this).on("touchmove",ba);b.preventDefault()},touchend:function(b){$(this).off("touchmove");var d=this.closest("div"),d=$(d).next();U($(d).find("li.active-timepicker").val(),d,!0,b)}});$(xa).on({touchstart:function(b){F(b,"hrsFocus");$(this).on("touchmove",ba);b.preventDefault()},touchend:function(b){$(this).off("touchmove");U(this.classList[0].split("_")[1],this,!0,b)}});$(ta).on({touchstart:function(b){F(b,"minFocus");$(this).on("touchmove",ba);e(b)},touchend:function(b){$(this).off("touchmove");
U(this.classList[0].split("_")[1],this,!1,b)}});$(ga).find("div.previousDiv").on({touchstart:function(b){F(b,"minFocus");$(this).on("touchmove",ba);b.preventDefault()},touchend:function(b){$(this).off("touchmove");var d=(this.closest("div"),$(this.closest("div")).next());U($(d).find("li.active-timepicker")[0].classList[0].split("_")[1],d,!1,b)}});$(ga).find("div.nextDiv").on({touchstart:function(b){F(b,"minFocus");$(this).on("touchmove",ba);b.preventDefault()},touchend:function(b){$(this).off("touchmove");
var d=(this.closest("div"),$(this.closest("div")).prev());U($(d).find("li.active-timepicker")[0].classList[0].split("_")[1],d,!1,b)}})},10)}}}])})();angular.module("xe-ui-components-tpls","templates/badge.html templates/button.html templates/checkbox.html templates/dropdown.html templates/label.html templates/radio-button.html templates/simple-textbox.html templates/statusLabel.html templates/switch.html templates/text-area-counter.html templates/text-area.html templates/text-box-char-limit.html templates/text-box-password.html templates/text-box.html templates/column-filter.html templates/pagination.html templates/search.html templates/dataTable.html templates/dialog.html templates/dialog_default.html templates/modal.html templates/tabNav.html templates/tabPanel.html templates/timePicker.html templates/timePicker_rtl.html".split(" "));
angular.module("templates/badge.html",[]).run(["$templateCache",function(e){e.put("templates/badge.html",'<span aria-live="assertive" tabindex="0" class="xe-badge {{::xeType}}-badge" ng-bind="xeLabel">{{xeLabel}}</span>')}]);angular.module("templates/button.html",[]).run(["$templateCache",function(e){e.put("templates/button.html",'<button xe-data id="{{::xeId}}" class="{{xeType +\' \'+ xeBtnClass}}" ng-disabled="xeDisabled" aria-label="{{xeAriaLabel}}" ng-click="xeBtnClick()" ng-bind="xeLabel"></button>')}]);
angular.module("templates/checkbox.html",[]).run(["$templateCache",function(e){e.put("templates/checkbox.html",'<div class="xe-container" aria-checked="{{xeModel}}" tabindex="{{!xeDisabled ? 0 : -1}}" role="checkbox" aria-live="assertive" aria-label="{{xeAriaLabel}}"><input id="{{::xeId}}" xe-data type="checkbox" aria-checked="{{xeModel}}" aria-label="{{xeAriaLabel}}" ng-click="cbClicked($event)" ng-model="xeModel" value="{{xeValue}}" ng-checked="xeModel" aria-live="assertive" aria-disabled="{{xeDisabled? true:false}}" ng-disabled="xeDisabled == true" name="{{xeName}}" tabindex="-1"> <span class="xe-checkmark" tabindex="-1"></span><label class="checkbox-label" xe-for="{{::xeId}}">{{xeLabel}}</label></div>')}]);
angular.module("templates/dropdown.html",[]).run(["$templateCache",function(e){e.put("templates/dropdown.html",'<div class="btn-group"><button type="button" ng-disabled="{{disabled}}" ng-class="{disabledDD:disabled}" data-toggle="dropdown" class="btn btn-default dropdown dropdown-toggle" role="listbox" aria-expanded="false" aria-haspopup="true"><span class="placeholder" ng-show="!ngModel">{{::xeLabel}}</span> <span class="placeholder">{{ dropDownLabel }}</span> <span class="glyphicon glyphicon-chevron-down"></span></button><ul class="dropdown-menu" role="listbox" aria-expanded="false" role="listbox"><li ng-hide="!ngModel" ng-click="updateModel(xeLabel)">{{::xeLabel}}</li><li ng-if="!isObject" role="option" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)" ng-class="{\'selected\':option===ngModel}">{{::option}}</li><li ng-if="isObject" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)">{{::option.label}}</li></ul></div>')}]);
angular.module("templates/label.html",[]).run(["$templateCache",function(e){e.put("templates/label.html",'<label class="xe-label" for="{{xeFor}}" ng-hide="{{xeHidden}}" ng-cloak><span class="xe-label" aria-label="{{xeValue}}" ng-bind="xeValue"></span> <span class="xe-required" ng-if="xeRequired==true" ng-bind="\'*\'"></span></label>')}]);angular.module("templates/radio-button.html",[]).run(["$templateCache",function(e){e.put("templates/radio-button.html",'<div class="radio-container" tabindex="{{!xeDisabled ? 0 : \'\'}}"><input ng-value="ngValue" ng-model="ngModel" ng-disabled="xeDisabled" ng-class="{disabledRadio:xeDisabled}" ng-click="xeOnClick" type="radio" id="{{xeId}}" name="{{xeName}}"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" aria-checked="{{ngModel===ngValue}}" role="radio"></xe-label></div>')}]);
angular.module("templates/simple-textbox.html",[]).run(["$templateCache",function(e){e.put("templates/simple-textbox.html",'<input id="{{::inputField}}" xe-field="search" name="{{::inputField}}" placeholder="{{placeHolder}}" class="simple-input-field auto-width font-semibold {{xeClass}}" ng-model="value" ng-class="{readOnly: inputDisabled}" ng-disabled="{{disabled}}" ng-keyup="onChange({data: value, id: inputField, event: $event})" ng-keydown="onKeydown({data: value, id: inputField, event: $event})" ng-keypress="onKeypress({data: value, id: inputField, event: $event})" ng-paste="onKeypress({data: $event.originalEvent.clipboardData.getData(\'text/plain\'), id: inputField, event: $event})" ng-focus="onFocus({event: $event})" ng-blur="onBlur(({event: $event}))" autocomplete="off">')}]);
angular.module("templates/statusLabel.html",[]).run(["$templateCache",function(e){e.put("templates/statusLabel.html",'<span class="labels {{xeType}}" aria-label="{{::xeLabel}}">{{::xeLabel}}</span>')}]);angular.module("templates/switch.html",[]).run(["$templateCache",function(e){e.put("templates/switch.html",'<input id="{{id}}" ng-disabled="disabled" ng-class="{disabledSwitch:disabled}" ng-model="value" class="cmn-toggle cmn-toggle-round" type="checkbox"><label for="{{id}}"></label>')}]);
angular.module("templates/text-area-counter.html",[]).run(["$templateCache",function(e){e.put("templates/text-area-counter.html",'<div class="textarea-container"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly" maxlength="{{xeCharCounter}}" ng-trim="false">\n\n    </textarea><div id="xe-id-characters-count"><span>{{::\'xe.text.chars.left\' | xei18n}} : {{ charRemaining }}</span></div></div>')}]);
angular.module("templates/text-area.html",[]).run(["$templateCache",function(e){e.put("templates/text-area.html",'<div class="textarea-container"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly">\n    </textarea></div>')}]);
angular.module("templates/text-box-char-limit.html",[]).run(["$templateCache",function(e){e.put("templates/text-box-char-limit.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><span id="xe-id-max-characters">{{ xeMaxlength }} {{::\'xe.text.max.chars\' | xei18n}}</span><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-labelledby="{{xeId}}" aria-describedby="xe-id-max-characters" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]);
angular.module("templates/text-box-password.html",[]).run(["$templateCache",function(e){e.put("templates/text-box-password.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" type="password" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]);
angular.module("templates/text-box.html",[]).run(["$templateCache",function(e){e.put("templates/text-box.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired ? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]);
angular.module("templates/column-filter.html",[]).run(["$templateCache",function(e){e.put("templates/column-filter.html",'<span><div class="column-filter-container" ng-if="::!nocolumnFilterMenu"><button type="button" class="column-filter-button" ng-click="bindClickEvent($event)" aria-haspopup="true" aria-labelledby="columnFilter" xe-field="columnFilterMenu"><span id="columnFilter" class="placeholder" ng-bind="\'dataTable.columnFilter.label\' | xei18n"></span><div class="dropdown-icon">&nbsp;</div></button><ul class="column-setting-menu" ng-hide="hideColumnSettingMenu" role="list" aria-labelledby="columnFilter"><li role="presentation"><xe-checkbox xe-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-aria-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-model="selectAll.visible" xe-on-click="onSelectAll(header, event)" xe-id="0" data-name="all" aria-role="listitem" aria-live="assertive"></xe-checkbox></li><li ng-repeat="heading in header" ng-class="{\'disabled\': heading.options.disable}" ng-if="heading.options.columnShowHide !== false" data-name="{{heading.name}}" role="presentation"><xe-checkbox xe-id="{{heading.name}}" xe-value="{{$index+1}}" xe-label="{{heading.title}}" xe-aria-label="{{heading.title}}" xe-model="heading.options.visible" xe-on-click="hideUnhideColumn(heading, event)" xe-disabled="heading.options.disable" aria-role="listitem" aria-live="assertive"></xe-checkbox></li></ul></div></span>')}]);
angular.module("templates/pagination.html",[]).run(["$templateCache",function(e){e.put("templates/pagination.html",'<div class="tfoot pagination-container visible-lg" role="navigation" ng-cloak><div id="resultsFound" aria-live="assertive" class="results-container" ng-bind="(\'pagination.record.found\' | xei18n) + \': \' + resultsFound"></div><div class="pagination-controls"><xe-button xe-type="secondary" xe-btn-class="first" xe-aria-label="{{::\'pagination.first.label\' | xei18n}}" title="{{::\'pagination.first.label\' | xei18n}}" xe-btn-click="first()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="previous" xe-aria-label="{{::\'pagination.previous.label\' | xei18n}}" title="{{::\'pagination.previous.label\' | xei18n}}" xe-btn-click="prev()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-label xe-value="{{::\'pagination.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><span title="{{::\'pagination.page.shortcut.label\' | xei18n}}" role="presentation"><input id="pageInput" type="number" ng-model="onPage" aria-valuenow="{{onPage}}" aria-valuemax="{{numberOfPages}}" aria-valuemin="{{!numberOfPages ? 0 : 1}}" max="{{numberOfPages}}" min="{{!numberOfPages ? 0 : 1}}" ng-model-options="{ debounce: {\'default\': 200, \'blur\': 0} }" ng-change="paggeNumberChange()" ng-blur="focusOut($event)" aria-label="{{::\'pagination.page.aria.label\' | xei18n}}. {{::\'pagination.page.label\' | xei18n}} {{onPage}} {{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" ng-cloak></span><xe-label xe-value="{{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" role="presentation"></xe-label><xe-button xe-type="secondary" xe-btn-class="next" xe-aria-label="{{::\'pagination.next.label\' | xei18n}}" title="{{::\'pagination.next.label\' | xei18n}}" xe-btn-click="next()" xe-disabled="nextLast" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="last" xe-aria-label="{{::\'pagination.last.label\' | xei18n}}" title="{{::\'pagination.last.label\' | xei18n}}" xe-btn-click="last()" xe-disabled="nextLast" ng-cloak></xe-button><xe-label id="perPage" xe-value="{{::\'pagination.per.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><select class="per-page-select" aria-labelledby="perPage" ng-model="offset" ng-options="pageOffset for pageOffset in ::pageOffsets" ng-change="offsetChanged(true)" ng-disabled="resultsFound === 0"></select></div></div>')}]);
angular.module("templates/search.html",[]).run(["$templateCache",function(e){e.put("templates/search.html",'<form name="form" class="search-container"><xe-simple-text-box input-field="{{searchConfig.id}}" xe-class="search" value="value" place-holder="{{searchConfig.placeholder}}" on-keydown="searchKeydown(data, id, event)" on-keypress="searchKeypress(data, id, event)" on-focus="onFocus(event)" on-blur="onBlur(event)" aria-label="{{::ariaLabel}}"></xe-simple-text-box></form>')}]);
angular.module("templates/dataTable.html",[]).run(["$templateCache",function(e){e.put("templates/dataTable.html",'<div id="{{tableId}}" class="table-container" ng-class="{\'fixed-height\': !!height, \'noToolbar\': noCaptionAndToolbar, \'no-data\': !resultsFound, \'empty\': emptyTableMsg}" browser-detect role="grid" aria-labelledby="gridCaption" ng-cloak><div class="trMobile" ng-if="totalRow && isMobileView  "><div ng-repeat="heading in header" ng-if="heading.options.visible === true"><span class="total-row" total-label="{{heading.totalDisplayName}}" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></div><div class="caption" ng-if="::!noCaptionBar" xe-section="{{xeSection + \'CaptionBar\'}}"><table class="data-table datatable_spacing" role="heading" aria-level="1"><caption ng-class="{\'search-opened\': hideContainer}"><span id="gridCaption" class="caption-container font-semibold" ng-if="::!nocaption" ng-bind="::caption" xe-field="caption"></span><div class="toolbar" ng-if="toolbar"><xe-toolbar></xe-toolbar><xe-column-filter header="header"></xe-column-filter><span role="search" title="{{\'search.title\' | xei18n}}" ng-if="::!nosearch"><xe-search value="searchConfig.searchString" place-holder="{{\'search.label\' | xei18n}}" on-change="fetchSpecial(query)" on-focus="onSearchFocus({event: event})" on-blur="onSearchBlur({event: event})" search-config="searchConfig" xe-focus loading-data="loadingData"></xe-search></span></div></caption></table></div><div class="hr-scrollable-content"><div class="thead"><table class="data-table" ng-style="headerPadding" role="presentation"><thead role="rowgroup"><tr role="row"><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" ng-click="onSort({heading: heading}); sortOnHeading(heading, $index);" role="columnheader" aria-sort="{{sortArray[heading.name].ascending ? (\'dataTable.sort.ascending.label\' | xei18n) : (sortArray[heading.name].decending ? (\'dataTable.sort.descending.label\' | xei18n) : \'none\')}}" aria-describedby="headingAria{{$index}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name}}" id="dataTableHead-{{heading.name}}" xe-heading-injector xe-focus xe-click-grid><div class="data" title="{{heading.label}}"><span ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="::heading.title"></span><label id="headingAria{{$index}}" class="sr-only" ng-bind="heading.ariaLabel + (heading.options.sortable ? (\'dataTable.sortable.label\' | xei18n) : \'\')"></label></div></th></tr></thead></table></div><div class="tbody" ng-style="::{\'height\': height}" continuous-scroll="nextPage()" scroll-parent="{{::continuousScrollParent}}" aria-labelledby="msg" tabindex="{{(!resultsFound || emptyTableMsg) ? 0 : \'\'}}" resize><div id="msg" ng-bind="emptyTableMsg? emptyTableMsg : ((!resultsFound && !loadingData) ? noDataMsg : \'\')"></div><table class="data-table" ng-class="::mobileLayout ? \'mobileLayout\' : \'noMobileLayout\'" role="presentation"><thead role="presentation" aria-hidden="true"><tr><th class="font-semibold {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" xe-field="{{::heading.name}}" xe-heading-injector tabindex="0"><div class="data"><span ng-show="::heading.options.titleVisible !== false" ng-bind="::heading.title"></span></div></th></tr></thead><tbody role="rowgroup"><tr ng-repeat="row in content" ng-click="onRowClick({data:row,index:$index})" ng-dblclick="onRowDoubleClick({data:row,index:$index})" xe-row-injector tabindex="-1" role="row"><td class="width-animate" ng-repeat="heading in header" ng-class="{\'align-right\': heading.options.actionOrStatus, \'sortable\': heading.options.sortable}" ng-if="heading.options.visible === true" data-name="{{::heading.name}}" data-title="{{::(heading.title && heading.options.titleVisible !== false) ? heading.title + \':\' : \'\'}}" attain-mobile-layout="{{mobileLayout[heading.name]}}" xe-field="{{::heading.name}}" xe-cell-injector xe-focus xe-click-grid role="gridcell" ng-cloak headers="dataTableHead-{{heading.name}}"><div ng-if="!isExtendedField(row, heading.name)"><span ng-bind="getObjectValue(row, heading.name)" tabindex="0"></span></div><div ng-if="isExtendedField(row, heading.name)"><div ng-if="isEditable"><div ng-if="dataType === \'DATE\'"><input date-picker="" value="{{::extensionValue}}" class="datePicker" aria-labelledby=""></div><div ng-if="dataType === \'VARCHAR2\'"><xe-simple-text-box value="::extensionValue"></xe-simple-text-box></div><div ng-if="dataType === \'NUMBER\'"><decimal-input ng-model="::extensionValue" decimals="0"></decimal-input></div></div><div ng-if="!isEditable"><span ng-bind="::extensionValue"></span></div></div></td></tr></tbody></table></div><div class="trDesktop" ng-if="totalRow && !isMobileView" xe-section="totalRow"><table class="data-table" ng-style="headerPadding"><thead><tr><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name+\'Total\'}}" xe-focus xe-click-grid><div class="aggregateRow data" ng-class="{\'align-right\': heading.options.actionOrStatus}" title="{{heading.label}}"><label ng-if="heading.totalLabel" id="{{::heading.name+\'Total\'}}" for="{{::heading.name+\'Total\'}}">{{getTotalValue(heading)}}</label><span ng-if="!heading.totalLabel" class="total-display" ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></th></tr></thead></table></div></div><div class="tfoot" ng-transclude></div><xe-pagination model="content" results-found="resultsFound" ng-show="showPagination" xe-grid-pagination-control search-string="searchConfig.searchString"></xe-pagination><div ng-show="loadingData" class="load-indicator"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div></div>')}]);
angular.module("templates/dialog.html",[]).run(["$templateCache",function(e){e.put("templates/dialog.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalLabel" role="dialog"><div class="xe-modal-wrapper" role="document"><div class="xe-modal-container"><span class="xe-modal-close" ng-click="hide()" tabindex="0" title="{{about[api.close]}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div class="xe-modal-header" tabindex="0"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-gen-sec" class="xe-title">General</h6><ul role="list" aria-labelledby="xe-modal-gen-sec"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.general]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-plugin-info" class="xe-title">Plugin information</h6><ul role="list" aria-labelledby="xe-modal-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.plugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-other-plugin-info" class="xe-title">Other Plugin information</h6><ul role="list" aria-labelledby="xe-modal-other-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.otherPlugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><div class="xe-modal-footer" tabindex="0">{{about[api.copyright]}}</div></div></div></div>')}]);
angular.module("templates/dialog_default.html",[]).run(["$templateCache",function(e){e.put("templates/dialog_default.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalMask" role="region"><div class="xe-modal-wrapper" role="dialog" title="{{about[api.title]}}"><div id="xeModalContainer" class="xe-modal-container" role="dialog" aria-labelledby="xeModalLabel xeModalHeaderDialog xeModalFooter"><span id="xeModalClose" class="xe-modal-close" ng-click="hide()" tabindex="0" role="button" alt="{{about[api.close]}}" title="{{about[api.close]}}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div id="xeModalHeaderDialog" class="xe-modal-header"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div id="xeModalFooter" class="xe-modal-footer" role="heading" aria-level="1"><span class="xe-modal-footer-copyright">&copy; {{about[api.copyright]}}</span><br><br><span class="xe-modal-footer-copyright-info">{{about[api.copyrightLegalNotice]}}</span></div><a id="xeModalPrivacyLink" href="{{about[api.ellucianPrivacyNoticeLink]}}" tabindex="0" role="link" target="_blank" title="{{about[api.ellucianPrivacyNotice]}}">{{about[api.ellucianPrivacyNotice]}}</a></div></div></div>')}]);
angular.module("templates/modal.html",[]).run(["$templateCache",function(e){e.put("templates/modal.html",'<div class="xe-popup-mask" ng-show="show" tabindex="-1" role="dialog" aria-labelledby="xePopTitle"><div class="xe-popup-wrapper"><div class="xe-popup-container"><div id="xeModalHeader" class="xe-popup-header"><h5 id="xePopTitle" class="xe-app-title" role="heading"><label ng-bind="popupTitle"></label></h5><span id="xePopupClose" class="xe-popup-close" ng-click="hide()" tabindex="0" role="button" aria-label="{{\'userpreference.popup.language.close\' | xei18n}}" alt="{{\'userpreference.popup.language.close\' | xei18n}}" title="{{\'userpreference.popup.language.close\' | xei18n}}"></span></div><div id="xePopupContent" class="xe-pop-content" ng-transclude="popupContent"></div><div id="buttonContainer" class="buttonContainer" ng-transclude="popupButtons"></div><div tabindex="0" id="tabOrdering"></div></div></div></div>')}]);
angular.module("templates/tabNav.html",[]).run(["$templateCache",function(e){e.put("templates/tabNav.html",'<div class="xe-tab-container" role="presentation"><ul class="xe-tab-nav" role="tablist"><li ng-repeat="tab in tabnav.tabs" ng-click="tabnav.activate(tab)" ng-class="{active: tab.active}" ng-repeat-complete role="tab" aria-controls="{{\'xe-tab-panel\'+ ($index+1)}}" aria-selected="{{tab.active?tab.active:false}}"><a href="javascript:void(0);" tabindex="0" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="tab.state">{{tab.heading}} <span></span> </a><a href="#" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="!tab.state">{{tab.heading}} <span></span></a></li></ul><div class="xe-tab-content" role="presentation"><ng-transclude></ng-transclude></div></div>')}]);
angular.module("templates/tabPanel.html",[]).run(["$templateCache",function(e){e.put("templates/tabPanel.html",'<div class="xe-tab-container" role="presentation"><div id="{{ \'xe-tab-panel\'+ tabIndex}}" class="xe-tab-panel" ng-show="active" ng-class="{active: active }" role="tabpanel" aria-labelledby="{{\'xe-tab\'+ tabIndex}}" content="" aria-hidden="{{ !active }}"></div></div>')}]);
angular.module("templates/timePicker.html",[]).run(["$templateCache",function(e){e.put("templates/timePicker.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'LTRpadding24hrs\' : \'LTRpadding12hrs\'"><div class="itemContainer previousDiv"></div><ul role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus" role="listbox"><li role="option" class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div><div role="listbox" class="wrappingDiv meridianContainer" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]);
angular.module("templates/timePicker_rtl.html",[]).run(["$templateCache",function(e){e.put("templates/timePicker_rtl.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div role="listbox" class="wrappingDiv meridianContainer rtl12hrsPadding" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div id="prevampmDiv" class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'rtl24hrsPadding\' : \'rtlhrsPadding\'"><div id="prevHrDiv" class="itemContainer previousDiv"></div><ul id="nav" role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus"><li class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]);
(function(){angular.module("common",[]).config(["$locationProvider",function(e){e.html5Mode(!1)}])})();(function(){angular.module("common").filter("htmlDecode",function(){return function(e){if(e)return e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&quot;/g,'"'),e=e.replace(/&apos;/g,"'"),e=e.replace(/&amp;/g,"&"),e=e.replace(/&rsquo;/g,"\u2019"),e=e.replace(/&#39;/g,"'")}})})();
(function(){angular.module("common",[]).filter("isoDateConvertor",function(){return function(e){return e&&(new Date(e)).toLocaleDateString(navigator.language)}})})();
(function(){angular.module("common").service("BreadcrumbService",["$filter","$window",function(e,l){this.draw=function(q,k){if(q&&q.breadcrumb){var d={};l.document.title="";q.pageTitle&&(d.pageTitle=e("i18n")(q.pageTitle),l.document.title=d.pageTitle);q=q.breadcrumb;d.breadcrumb="";for(var p={},h=0;h<q.length;h++){var v=q[h];if(v.label){var b;if(v.url){b=v.url;var t=k,y="";b&&(y=void 0!==t&&""!==t.trim()?"/"+t+"#"+b:b);b=y}else b="";p[e("i18n")(v.label)]=b}}d.breadcrumb=p;BreadCrumbAndPageTitle.draw(d)}}}])})();
(function(){angular.module("common").factory("Config",function(){var e={};return{put:function(l,q){e[l]=q},get:function(l){return e[l]}}})})();
(function(){angular.module("common").constant("MSG_TYPE",{SUCCESS:"success",INFO:"info",ERROR:"error",WARNING:"warning"}).factory("NotificationCenterService",["MSG_TYPE",function(e){function l(e,d){var l={};e.message&&(l.message=e.message);e.component&&(l.component=e.component);e.flash&&(l.flash=e.flash);l.type=d;d=new Notification(l);if(e.prompts)for(l=0;l<e.prompts.length;l++){var h=q(e.prompts[l].action,d);d.addPromptAction(e.prompts[l].label,h)}notifications.addNotification(d);return d}function q(e,
d){return function(){e();notifications.remove(d)}}return{showError:function(k){return l(k,e.ERROR)},showSuccess:function(k){k.flash=!0;return l(k,e.SUCCESS)},showWarning:function(k){return l(k,e.WARNING)},clearNotifications:function(){notifications.clearNotifications()},clearNotification:function(e){notifications.clearNotifications(e)}}}])})();
angular.module("common").service("notificationCenterService",["$filter","$rootScope",function(e,l){this.clearNotifications=function(){notifications.clearNotifications()};this.removeNotification=function(e){notifications.remove(e)};this.displayNotifications=function(e,k,d,l){var h=angular.element("#notification-center").find(".error-container");h.attr("aria-live")||"error"!==k||h.attr({role:"alert","aria-live":"assertive"});e=new Notification({message:e,type:k,flash:d,component:l});notifications.addNotification(e);
notificationCenter.addNotification(e);return e};this.displayNavigationWarningNotification=function(q,k,d,p){var h=new Notification({message:e("i18n")("facultyFeedback.message.saveChanges"),type:"warning",flash:!1});h.addPromptAction($.i18n.prop("notification.cancel"),function(){notifications.remove(h);angular.isDefined(d)&&d()});h.addPromptAction($.i18n.prop("notification.no"),function(){notifications.clearNotifications();k(p)});l.isCourseOrOverrideChanged&&h.addPromptAction($.i18n.prop("notification.yes"),
function(){notifications.remove(h);q(p)});notifications.addNotification(h);notificationCenter.addNotification(h)}}]);
(function(){angular.module("common").factory("utility",["$location","$filter","notificationCenterService","$q","$timeout","$state","$window",function(e,l,q,k,d,p){function h(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}return{showPageLoading:function(){$("#content").attr("aria-busy",!0);$("body").addClass("loading")},hidePageLoading:function(){$("#content").attr("aria-busy",!1);$("body").removeClass("loading")},getViewportWidth:h,getDeviceType:function(){var d=
h();return 768>=d?"MOBILE":1024<=d?"DESKTOP":"TAB"},getFormattedDate:function(d){var b=$.i18n.prop("js.datepicker.dateFormat"),e;e="";0<=b.indexOf("-")?e="-":0<=b.indexOf("/")?e="/":0<=b.indexOf(".")&&(e=".");if(0<=d.indexOf(e)){d=d.split(e);for(var b=b.split(e),h=0;h<b.length;h++)if(-1!==b[h].toLowerCase().indexOf("m")||-1!==b[h].toLowerCase().indexOf("d")){var k=d,l=h,p=d[h];p&&1===p.length&&(p="0"+p);k[l]=p}d=d.join(e)}return d},getApplicationHost:function(){var d=e.protocol(),b=e.host(),h=e.port(),
k="";null!=h&&"undefined"!=h&&(k=":"+h);return d+"://"+b+k},isNull:function(d){return null===d},isUndefined:function(d){return void 0===d},isEmpty:function(d){return _.isEmpty(d)},isUndefinedOrNull:function(d){return this.isUndefined(d)||this.isNull(d)},getParameterByName:function(d,b){b||(b=window.location.href);d=d.replace(/[\[\]]/g,"\\$&");return(d=(new RegExp("[?&]"+d+"(=([^&#]*)|&|#|$)","i")).exec(b))?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},removeSearchString:function(){"final.details"===
d.current.name?(angular.element(angular.element(document).find("input.simple-input-field")[1]).val(""),angular.element(angular.element(document).find("input.simple-input-field")[2]).val("")):angular.element(angular.element(document).find("input.simple-input-field")[1]).val("")},ajaxErrorHandler:function(d,b,e){b="";switch(d.status){case 302:window.location=d.getResponseHeader("Location");break;case 500:var h=new Notification({message:$filter("i18n")("js.net.hedtech.banner.ajax.error.message",[d.statusText]),
type:"error"});h.addPromptAction($filter("i18n")("js.net.hedtech.banner.ajax.reload.button"),function(){window.location.reload()});notifications.addNotification(h);break;case 403:h=new Notification({message:$filter("i18n")("js.net.hedtech.banner.ajax.error.message",[d.statusText]),type:"error"});h.addPromptAction($filter("i18n")("js.net.hedtech.banner.ajax.reload.button"),function(){window.location.reload()});h.addPromptAction($filter("i18n")("js.net.hedtech.banner.ajax.continue.button"),function(){notifications.remove(h)});
notifications.addNotification(h);break;default:try{b=d.data.message?d.data.message:$filter("i18n")("ajax.unexpected.response.error.message")}catch(k){b=$filter("i18n")("ajax.unexpected.response.error.message")}l.clearNotifications();l.displayNotifications(b,"error",!1)}},breadcrumb:function(d,b){if(b&&b.data&&b.data.breadcrumb){var e={};b.data.pageTitle&&(e.pageTitle=$filter("i18n")(b.data.pageTitle));if(b.data.breadcrumb){e.breadcrumb=b.data.breadcrumb;d={};for(var h=0;h<b.data.breadcrumb.length;h++){var l=
b.data.breadcrumb[h];if(l.label){var p=l.url||"";d[$filter("i18n")(l.label)]=p}}e.breadcrumb=d;k(function(){BreadCrumbAndPageTitle.draw(e)},0)}}},highlightRow:function(d,b){angular.forEach(d,function(b){b.selected&&(b.selected=!1)});d.length&&($filter("filter")(d,{id:b.id})[0].selected=!0)},redirectAdvisingProfile:function(d){var b=bootstraps.configs.mepCode?bootstraps.configs.mepCode:"all";p.open(encodeURI(bootstraps.configs.studentProfileUrl+"?term="+d.termCode+"&studentId="+d.bannerId+("all"===
b?"":"&mepCode="+b)),"_blank")},courseHeaders:function(d){var b=[{position:{mobile:9,desktop:1},name:"gradedStatus",title:$filter("i18n")("courseDetail.header.status"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:8,desktop:2},name:"rolledStatus",title:$filter("i18n")("courseDetail.header.rolled"),width:"15%",options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,
tab:!0,desktop:!0},tab:["final"]},{position:{mobile:4,desktop:3},name:"subject",title:$filter("i18n")("courseDetail.header.subject"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:6,desktop:4},name:"courseNumber",title:$filter("i18n")("courseDetail.header.course"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},
{position:{mobile:5,desktop:5},name:"sequenceNumber",title:$filter("i18n")("courseDetail.header.section"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:1,desktop:6},name:"courseTitle",title:$filter("i18n")("courseDetail.header.title"),width:"20%",options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:3,
desktop:8},name:"term",title:$filter("i18n")("courseDetail.header.term"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:7,desktop:9},name:"courseReferenceNumber",title:$filter("i18n")("courseDetail.header.crn"),width:"10%",options:{visible:!0,sortable:!0,ascending:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:2,
desktop:10},name:"ellipsis",title:"",options:{visible:!0,sortable:!1,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1},tab:["midterm","final","gradebook"]},{position:{mobile:9,desktop:8},name:"button",title:"",options:{visible:!0,sortable:!0,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!1,desktop:!1},tab:["midterm","final","gradebook"]}];return $filter("filter")(b,{tab:d})},studentRosterHeaders:function(d){var b=!1;"Y"===bootstraps.configs.displayLastAttendedHours&&
(b=!0);b=[{position:{mobile:1,desktop:1},name:"personFullName",title:$filter("i18n")("courseRosterView.grid.header.FullName"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","incomplete"]},{position:{mobile:3,desktop:2},name:"bannerId",title:$filter("i18n")("courseRosterView.grid.header.Id"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","incomplete"]},
{position:{mobile:4,desktop:2},name:"gradeMidTerm",title:$filter("i18n")("courseRosterView.grid.header.MidtermGrade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final"]},{position:{mobile:5,desktop:3},name:"grade",title:$filter("i18n")("courseRosterView.grid.header.FinalGrade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["final"]},{position:{mobile:5,desktop:3},name:"grade",
title:$filter("i18n")("courseRosterView.grid.header.Grade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:5,desktop:3},name:"gradeIncompleteFinal",title:$filter("i18n")("courseRosterView.grid.header.IncompleteFinalGrade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:6,desktop:4},name:"rolled",title:$filter("i18n")("courseRosterView.grid.header.Rolled"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0},tab:["final","incomplete"]},{position:{mobile:7,desktop:5},name:"incompleteExtDate",title:$filter("i18n")("courseRosterView.grid.header.ExtensionDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:8,desktop:6},name:"incompleteDataOverType",title:$filter("i18n")("courseRosterView.grid.header.ExtensionDateConstraints"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:7,desktop:5},name:"lastAttendance",title:$filter("i18n")("courseRosterView.grid.header.LastAttendDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final"]},{position:{mobile:8,desktop:6},name:"attendanceHour",title:$filter("i18n")("courseRosterView.grid.header.AttendedHours"),options:{visible:!0,
sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:b,tab:b,desktop:b},tab:["midterm","final"]},{position:{mobile:2,desktop:7},name:"ellipsis",title:"",options:{visible:!0,sortable:!1,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1},tab:["midterm","final","incomplete"]}];return $filter("filter")(b,{tab:d})},searchConfig:function(){return{label:$filter("i18n")("courseDetail.search.placeholder"),startCount:2,noDataMsg:$filter("i18n")("courseDetails.search.noResult")}},
decodeHTML:function(d){if(this.isUndefinedOrNull(d))return d;var b=document.createElement("div");b.innerHTML=d;return 0===b.childNodes.length?"":b.childNodes[0].nodeValue},paginationConfig:function(){return{pageLengths:[5,10,25,50,100],paginate:!0,offset:parseInt(bootstraps.configs.recPerMasterGrid,10),continuousScrolling:!1,perPageLabel:$filter("i18n")("pagination.perPage"),pageLabel:$filter("i18n")("pagination.page"),ofLabel:$filter("i18n")("pagination.of"),recordsFoundLabel:$filter("i18n")("pagination.recordsFound")}},
paginationConfigForStudentRoster:function(){return{pageLengths:[5,10,25,50,100],paginate:!0,offset:parseInt(bootstraps.configs.recPerChildGrid,10),continuousScrolling:!1,perPageLabel:$filter("i18n")("pagination.perPage"),pageLabel:$filter("i18n")("pagination.page"),ofLabel:$filter("i18n")("pagination.of"),recordsFoundLabel:$filter("i18n")("pagination.recordsFound")}},studentCardConfig:function(){return{isStudentCardEnabled:!1,isAnonymous:!1,isDeviceTypeDesktop:"DESKTOP"===this.getDeviceType()?!0:
!1,isDisplayProfileProcActive:bootstraps.configs.isDisplayProfileProcActive}},componentHeader:function(){return[{position:{mobile:1,desktop:1},name:"name",title:$filter("i18n")("gradeComponentView.grid.text.name"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:3,desktop:2},name:"description",title:$filter("i18n")("gradeComponentView.grid.text.description"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,
tab:!0,desktop:!0}},{position:{mobile:4,desktop:3},name:"weight",title:$filter("i18n")("gradeComponentView.grid.text.weight"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:5,desktop:4},name:"gradeScale",title:$filter("i18n")("gradeComponentView.grid.text.gradeScale"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:6,desktop:5},name:"mustPass",title:$filter("i18n")("gradeComponentView.grid.text.mustPass"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:7,desktop:6},name:"inclusionIndicator",title:$filter("i18n")("gradeComponentView.grid.text.includedIn"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:8,desktop:7},name:"gradesRemaining",title:$filter("i18n")("gradeComponentView.grid.text.gradesRemaining"),options:{visible:!0,sortable:!1,columnShowHide:!0,disable:!0},
display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:9,desktop:8},name:"dueDate",title:$filter("i18n")("gradeComponentView.grid.text.dueDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:10,desktop:9},name:"button",title:"",options:{visible:!0,sortable:!0,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!1,desktop:!1}},{position:{mobile:2,desktop:10},name:"ellipsis",title:"",options:{visible:!0,sortable:!1,actionOrStatus:!0,
columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1}}]},componentsMobileConfig:function(){return{gradedStatus:3,subject:3,courseNumber:2,sequenceNumber:2,courseTitle:3,term:3,courseReferenceNumber:2,ellipsis:1,button:4}},componentStudentRoster:function(){return[{position:{mobile:1,desktop:1},name:"studentFullName",title:$filter("i18n")("compositeGradeView.grid.text.studentName"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:3,
desktop:2},name:"bannerId",title:$filter("i18n")("componentGradeRosterView.grid.text.id"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:4,desktop:3},name:"score",title:$filter("i18n")("componentGradeRosterView.grid.text.marks"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:5,desktop:4},name:"totalScore",title:$filter("i18n")("componentGradeRosterView.grid.text.outOf"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:6,desktop:5},name:"percentage",title:$filter("i18n")("componentGradeRosterView.grid.text.percent"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:7,desktop:6},name:"grade",title:$filter("i18n")("componentGradeRosterView.grid.text.grade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,
tab:!0,desktop:!0}},{position:{mobile:8,desktop:7},name:"rolled",title:$filter("i18n")("componentGradeRosterView.grid.text.rolled"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:9,desktop:8},name:"completedDate",title:$filter("i18n")("componentGradeRosterView.grid.text.submissionDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:10,desktop:9},name:"extensionDate",
title:$filter("i18n")("componentGradeRosterView.grid.text.extensionDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:11,desktop:10},name:"currentReason",title:$filter("i18n")("componentGradeRosterView.grid.text.reason"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:12,desktop:11},name:"comment",title:$filter("i18n")("componentGradeRosterView.grid.text.comment"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:13,desktop:12},name:"updateComposite",title:"gradebook.components"===d.current.name?$filter("i18n")("wizard.export.component.title.updateComposite"):$filter("i18n")("wizard.export.subComponent.title.updateComponent"),display:{mobile:!0,tab:!0,desktop:!0},options:{visible:!1,sortable:!0,columnShowHide:!0,disable:!0}},{position:{mobile:2,desktop:12},name:"ellipsis",title:"",options:{visible:!0,
sortable:!1,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1}}]},uniqueArrayList:function(d,b){var e=[],h=[];angular.forEach(d,function(d){var k=d[b];-1===h.indexOf(k)&&(h.push(k),e.push(d))});return e},isBrowserSafari:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?!0:!1},isBrowserInternetExplorer:function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1}}}]);angular.module("common").factory("$debounce",
["$rootScope","$browser","$q","$exceptionHandler",function(e,l,q,k){function d(b,d,y){var z=q.defer(),I=z.promise,w=angular.isDefined(y)&&!y,D,C=!1;angular.forEach(h,function(d,e){angular.equals(h[e].fn,b)&&(C=!0,D=e)});C?(p[h[D].timeoutId].reject("bounced"),l.defer.cancel(h[D].timeoutId)):(D=v++,h[D]={fn:b});d=l.defer(function(){delete h[D];try{z.resolve(b())}catch(d){z.reject(d),k(d)}w||e.$apply()},d);h[D].timeoutId=d;y=function(b){delete p[I.$$timeoutId]};I.$$timeoutId=d;p[d]=z;I.then(y,y);return I}
var p={},h={},v=0;d.cancel=function(b){return b&&b.$$timeoutId in p?(p[b.$$timeoutId].reject("canceled"),l.defer.cancel(b.$$timeoutId)):!1};return d}])})();
(function(){angular.module("common").factory("PageLoadingForAjaxInterceptor",["$q","$rootScope","utility","Config",function(e,l,q,k){function d(d,e){var v=k.get("AJAX_LOADING_IMAGE_IGNORE_LIST");d=d.url;v&&(/.html|.htm/.test(d)||(new RegExp(v.join("|"))).test(d))||("request"===e&&(l.ActiveAjaxConections+=1,1===l.ActiveAjaxConections&&q.showPageLoading()),"response"===e&&--l.ActiveAjaxConections,0>=l.ActiveAjaxConections&&(l.ActiveAjaxConections=0,q.hidePageLoading()))}l.ActiveAjaxConections=0;return{request:function(e){d(e,
"request");return e},requestError:function(k){d(k.config,"request");return e.reject(k)},response:function(e){d(e.config,"response");return e},responseError:function(k){d(k.config,"response");403===k.status&&(window.location.href="/login/denied");return e.reject(k)}}}])})();
angular.module("common").service("navigationmanagerService",["$filter","$rootScope",function(e,l){this.displayNavWarningNotification=function(l,k,d,p,h){var v=new Notification({message:e("i18n")("notification.common.unsaved_changes"),type:"warning",flash:!1});v.addPromptAction($.i18n.prop("notification.cancel"),function(){notifications.remove(v);angular.isDefined(d)&&d()});v.addPromptAction($.i18n.prop("notification.no"),function(){notifications.clearNotifications();k(p)});h&&v.addPromptAction($.i18n.prop("notification.yes"),
function(){notifications.remove(v);l(p)});notifications.addNotification(v);notificationCenter.addNotification(v)}}]);
(function(){angular.module("common").controller("paymentAddressController",["$rootScope","$scope","$state","$filter","$sessionStorage","paymentService",function(e,l,q,k,d,p){l.isObjectNullOrEmpty=function(d){return!d||0===Object.keys(d).length};l.backButton=function(){e.disableSubmitButton=!1;q.go("^")};l.continueButton=function(){notifications.clearNotifications();l.paymentAddressFormData=d.requestDataForPaymentAddress;l.paymentAddressFormData.house_no_fetch=l.houseNumber;l.paymentAddressFormData.address1_in=
l.streetAddress;l.paymentAddressFormData.city_in=l.city;l.paymentAddressFormData.zip_in=l.zip;l.paymentAddressFormData.state_in=l.stateList.selected?l.stateList.selected.code:"";l.paymentAddressFormData.natn_in=l.nationList.selected?l.nationList.selected.code:"";var e=$.i18n.prop("studentPages.common.process_payment.street_address_city.error_message");l.paymentAddressFormData.address1_in&&l.paymentAddressFormData.city_in||notifications.addNotification(new Notification({message:e,type:"error"}));notifications.hasErrors()||
p.fetchPaymentUrl(l.paymentAddressFormData).then(function(e){if(e.data.failure)e=new Notification({message:e.data.message,type:"error",flash:!0}),notifications.addNotification(e);else{notifications.clearNotifications();var b=e.data.url;if(null!=b){var h=b.indexOf("TransactionId=")+14,k=b.indexOf("&TransactionAmount="),b=b.substring(h,k);d.transaction_id=decodeURIComponent(b)}e.data.pciEnabled?window.location.href=e.data.url:window.open(e.data.url,"_blank")}})};(function(){var e={};e.select=k("i18n")("studentPages.common.text.select");
e.house_number_label=k("i18n")("studentPages.common.process_payment.house_number.label");e.street_address_label=k("i18n")("studentPages.common.process_payment.street_Address.label");e.city_label=k("i18n")("studentPages.common.process_payment.city.label");e.state_or_province_label=k("i18n")("studentPages.common.process_payment.state.label");e.zip_or_postal_code_label=k("i18n")("studentPages.common.process_payment.zip.label");e.nation_label=k("i18n")("studentPages.common.process_payment.nation.label");
l.texts=e;l.paymentAddressMap=d.paymentAddressMap;l.stateList=l.paymentAddressMap.stateList;l.stateList.selected={code:"",description:""};l.nationList=l.paymentAddressMap.nationList;l.nationList.selected={code:"",description:""}})()}])})();
(function(){angular.module("common").service("paymentService",["$http",function(e){this.fetchPaymentAddress=function(){return e.get("../ssb/studentPagesCreditCardPayment/paymentAddress")};this.fetchPaymentUrl=function(l){return e.get("../ssb/studentPagesCreditCardPayment/paymentURL",{params:l})}}])})();
(function(){angular.module("common").service("signatureService",["$http","$location",function(e,l){this.fetchSignatureInfo=function(l){return e.get("../ssb/requestPrintedTranscript/signatureInformation",{params:l})};this.signaturePage=function(l){return e.get("../ssb/graduationApplication/signaturePage",{params:{transaction_id:l.transaction_id}})};this.enrollmentSignaturePage=function(l){return e.get("../ssb/enrollmentVerificationRequest/signaturePage",{params:{transaction_id:l.transaction_id}})}}])})();
(function(){var e=angular.module("studentCommon",[]);e.directive("xeTable",function(){return{restrict:"A",compile:function(e,q){e.addClass("xe-table");angular.isDefined(q.type)&&e.addClass("xe-table-type-"+q.type);$(e).attr("role","table");angular.isDefined(q.xeTable)&&"responsive"===q.xeTable&&e.addClass("xe-table-xs")}}});e.directive("xeCheckbox",function(){return{restrict:"E",compile:function(e,q){q.hasOwnProperty("xeLabelHidden")&&e.find("label").css({border:"0",clip:"rect(0 0 0 0)",height:"1px",
margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"})}}});e.directive("xeColXs",["$compile","$timeout",function(e,q){return{restrict:"A",compile:function(){return{post:function(k,d,p){var h=d.closest(".xe-table.xe-table-xs"),v;"responsive"===h.attr("xe-table")&&q(function(){if(angular.isDefined(p.colText))v=p.colText;else if(h.length){var b=angular.isDefined(p.colIndex)||d.parent().children().index(d);v=h.find("thead tr th:nth-child("+(b+1)+")").html()}v&&(b='<div class="xe-col-xs clearfix visible-xs">'+
v+"</div>",d.prepend(b),e(b)(k))})}}}}}]);e.directive("xeColXsDegreeEvaluation",["$compile","$timeout",function(e,q){return{restrict:"A",compile:function(){return{post:function(k,d,p){var h=d.closest(".xe-table.xe-table-xs"),v;"responsive"===h.attr("xe-table")&&q(function(){if(h.length){var b=angular.isDefined(p.colIndex)||d.parent().children().index(d);v=(v=h.find("thead tr th:nth-child("+(b+1)+")").html())?v:h.find("tr th:nth-child("+(b+1)+")").html()}v&&($(d).is("th")||$(d).hasClass("dddead")?
$(d).hasClass("ddlabel")||$(d).hasClass("ddheader")||$(d).hasClass("dddead"):(b='<div class="xe-col-xs clearfix visible-xs">'+v+"</div>",d.prepend(b),e(b)(k)))})}}}}}]);e.directive("handleEmpty",["$timeout","$filter",function(e,q){return{restrict:"A",link:function(k,d,p){d.css("min-height","22px");e(function(){d.clone().children(":not(font)").remove().end().text().trim()||d.append('<span class="empty" aria-label="'+q("i18n")("studentPages.degree_evaluation.view_evaluations.grid_cell.empty.data_arialabel")+
'">'+q("i18n")("studentPages.degree_evaluation.view_evaluations.grid_cell.empty.data")+"</span>")},50)}}}]);e.directive("xeExpandCollpaseComments",function(){return{restrict:"E",scope:{listOfComments:"=",showMoreText:"=",showLessText:"="},template:'<div id="comment-wrapper" ng-init="toggle=false">\n        <div class="comment" aria-label="{{comment}}" ng-show="toggle || ($index === 0)" ng-repeat="comment in listOfComments track by $index" ng-bind="comment"></div>\n        <a class="more-text" ng-show="listOfComments.length>1" href="javascript:void(0);" ng-click="toggle=!toggle" role="link" ng-bind="!toggle ? showMoreText : showLessText "></a>\n    </div>'}});
e.directive("xeSmartNavigation",["$compile","$timeout",function(e,q){return{restrict:"E",scope:{navigationList:"="},controller:["$scope",function(e){e.scrollToSection=function(d,e){d=e?d:d.code;document.getElementById(d).scrollIntoView(!0);$("#content").position();$("#"+d).position()}}],template:'<section class="smartNavigationSection">\n        <div class="sticky">\n            <ul id="smartNavigation" class="nav" role="tablist">\n                <li tabindex="0" class="{{navItem.code}}" role="tab" href="javascript:void(0);" ng-repeat="navItem in navigationList" ng-bind="navItem.description" data-attributes="{{navItem.code}}" ng-click="scrollToSection(navItem, false)" ></li>\n            </ul>\n        </div>\n    </section>',
compile:function(){return{post:function(e,d,l){function h(){var d=$("div#mainSectionScroll").find("section.smart-nav-tab"),b=[];$("ul#smartNavigation li").removeClass("active-smart-nav");d.each(function(d,e){b.push($(e).offset().top)});var e=b.reduce(function(b,d,e){return Math.abs(d-0)<Math.abs(b-0)?d:b}),e=b.indexOf(e),d="ul#smartNavigation li."+$(d[e]).attr("id");$(d).addClass("active-smart-nav");$(d).focus();$("ul#smartNavigation li").removeAttr("aria-selected").attr("aria-selected",!1);$("ul#smartNavigation li.active-smart-nav").removeAttr("aria-selected").attr("aria-selected",
!0)}q(function(){var l=$("div.sticky").offset().top;$("#content").scroll(function(){var b=$("div.sticky");$("#content").scrollTop()+100>=l?(b.addClass("smart-navigation-fixed"),b=parseInt($("#content").offset().top)+"px",$("div.sticky").css("top",b)):($("div.sticky").css("top",null),b.removeClass("smart-navigation-fixed"));h()});angular.element("ul#smartNavigation li:first").addClass("active-smart-nav");angular.element("ul#smartNavigation li").removeAttr("aria-selected").attr("aria-selected",!1);
angular.element("ul#smartNavigation li.active-smart-nav").removeAttr("aria-selected").attr("aria-selected",!0);angular.element(d).find("ul#smartNavigation li").bind("keydown",function(b){var d=$(b.target).attr("data-attributes");13===b.keyCode&&(e.scrollToSection(d,!0),$("ul#smartNavigation li").removeClass("active-smart-nav"),d=$("."+d),d.addClass("active-smart-nav"),d.focus(),b.preventDefault(),b.stopPropagation())})},300)}}}}}]);e.directive("studentNumberOnly",["$timeout",function(e){return{restrict:"A",
link:function(q,k,d){e(function(){var e="input#"+d.id,e=$(k[0]).find(e);e.attr("min",1);e.attr("max",99)},10)}}}]);e.directive("filterAllOtherCharacters",["$timeout",function(e){return{restrict:"A",link:function(q,k,d){e(function(){var e=$(k).find("input:first"),h,l;d.xeValidate=function(b,d,e){b&&1<b.split(".").length?(h=b.split(".")[0],l=b.split(".")[1],d=d.replace(/[^\d,]/g,""),q[h][l]=d):(d=d.replace(/[^\d,]/g,""),q[b]=d);e&&$("#"+e).val(d)};$(e).on("keyup change focusout focus",function(b){b=
d.xeName;var e=$(d.$$element).find("input:first"),e=$(e).val();d.xeValidate(b,e,d.xeId)})},10)}}}]);e.directive("disableAutoComplete",["$timeout",function(e){return{restrict:"A",link:function(q,k,d){e(function(){var e=$(k).find("input:first");e.attr("autocomplete","new-password");d&&d.xeMaxlength&&e.attr("maxlength",d.xeMaxlength)},10)}}}]);e.directive("setMaxCharacterLimit",["$timeout",function(e){return{restrict:"A",link:function(q,k,d){e(function(){var e=$(k).find("input:first");$(e).on("keyup change focusout focus paste",
function(h){h=$(e).val();if(0<h.length){var k=parseInt(d.xeMaxLength);h=h.substring(0,k);d.ngModel?d.ngModel=h:$(e).val(h)}})},10)}}}]);e.directive("toggleAccordion",["$timeout","$sessionStorage",function(e,q){return{restrict:"A",link:function(k,d){e(function(){k.curriculumInformation=q.studentGraduateAppData.curriculumInformation;$(d).find("header.section-header").bind("click keydown",function(d){if(13===d.which||"click"===d.type)$(d.currentTarget).hasClass("accordion-hide")?$(d.currentTarget).removeClass("accordion-hide").parent().find(".section-content").slideUp():
$(d.currentTarget).addClass("accordion-hide").parent().find(".section-content").slideDown(),$(d.currentTarget).focus(),d.preventDefault(),d.stopPropagation()})},10);$(d).find("header.section-header").parent().find(".section-content").hide()}}}]);e.directive("toggleAccordionCommon",["$timeout",function(e){return{restrict:"A",link:function(q,k){e(function(){$(k).find("header.section-header").bind("click keydown",function(d){if(13===d.which||"click"===d.type)return $(d.currentTarget).hasClass("accordion-hide")?
$(d.currentTarget).removeClass("accordion-hide").parent().find(".section-content").show(500):$(d.currentTarget).addClass("accordion-hide").parent().find(".section-content").hide(500),$(d.currentTarget).focus(),d.preventDefault(),d.stopPropagation(),!1})},10)}}}]);e.directive("xeSort",["$timeout",function(e){return{restrict:"A",compile:function(q){q.find("[xe-sort-data]").attr("tabindex","0");q.find("[xe-sort-data]").addClass("xe-sort-data");q.find("[xe-sort-data]").attr("aria-sort","none");return{post:function(k,
d){k.propertyName=null;k.reverse=!1;e(function(){d.find("th.xe-sort-data").append('<div class="arrow-up-down"></div>')});d.on("click",".xe-sort-data",function(e){e=angular.element(e.currentTarget);k.propertyName=e.attr("xe-sort-data");d.find(".xe-sort-data").not(e).removeClass("sort-down");d.find(".xe-sort-data").not(e).removeClass("sort-up");d.find(".xe-sort-data").not(e).attr("aria-sort","none");e.hasClass("sort-down")?(e.removeClass("sort-down"),e.addClass("sort-up"),e.attr("aria-sort","ascending"),
k.reverse=!1,k.$emit("xeSort",{ascending:!0})):e.hasClass("sort-up")?(e.removeClass("sort-up"),e.addClass("sort-down"),e.attr("aria-sort","descending"),k.reverse=!0,k.$emit("xeSort",{ascending:!1})):(e.addClass("sort-up"),e.attr("aria-sort","ascending"),k.reverse=!1,k.$emit("xeSort",{ascending:!0}));k.$apply()});d.on("keydown",".xe-sort-data",function(d){var e=angular.element(d.currentTarget);13===d.which?(e.click(),d.preventDefault(),d.stopPropagation()):37===d.which?e.prev().hasClass("xe-sort-data")?
e.prev().focus():e.siblings(".xe-sort-data").last().focus():39===d.which&&(e.next().hasClass("xe-sort-data")?e.next().focus():e.siblings(".xe-sort-data").first().focus())})}}}}}]);e.directive("loadOnScroll",["$parse",function(e){return function(q,k,d){var p;k="tbody"===d.loadOnScroll?k.find("tbody"):d.loadOnScroll?angular.element("#"+d.loadOnScroll):k;var h=k[0];d.limitTo?q[d.limit||"limit"]=parseInt(d.limitTo):p=e(d.loadMore);k.bind("scroll",_.throttle(function(){0<h.scrollTop&&h.scrollTop+h.offsetHeight>=
h.scrollHeight-200&&(d.limitTo&&(q[d.limit||"limit"]+=parseInt(d.limitTo)),d.loadMore&&p(q),q.$apply())},300))}}]);e.directive("xeFixedHeaderTable",["$timeout","$window","$filter",function(e,q,k){return{restrict:"A",compile:function(d){if(d.is("table"))return d.css({"border-collapse":"collapse","overflow-x":"auto","overflow-y":"hidden",display:"block"}),d.find("thead, tbody, tfoot").css({display:"block"}),d.find("tbody").css({"overflow-x":"hidden","overflow-y":"auto","max-height":"calc(100vh - 100px)"}),
{post:function(d,h,v){function b(b,d){return void 0===d?b.scrollLeft():b.scrollLeft(d)}function t(b,d){return void 0===d?b[0].scrollWidth-(b.scrollLeft()+b.innerWidth()):b.scrollLeft(b[0].scrollWidth-b.innerWidth()-d)}function y(){if(!(767>=q.innerWidth)){h.find("tr[xe-sort]").length&&h.find("thead th, tbody td, tfoot td").attr("style",A?"padding-right: 1.5em":"padding-left: 1.5em");var b=0,e=d.$eval(v.xeFixedHeaderTable),k=h.find("thead th"),l=h.innerWidth(),r=h.find("tfoot td[colspan]"),t,w,y,C,
D;angular.isArray(e)?e=e.map(function(b){return l*b/100}):angular.isNumber(e)&&(e=Array(k.length).map(function(){return l*e/100}));angular.forEach(k,function(d,p){d=angular.element(d);t=0;w=h.find('tbody td[data="'+d.attr("data")+'"], tfoot td[data="'+d.attr("data")+'"]');e&&angular.isNumber(e[p])?t=e[p]-(d.innerWidth()-d.width()):(y=d.width(),C=z(w),t=y>C?y:C);p+1===k.length&&b+t<l&&(t=l-b-(d.innerWidth()-d.width()));w.css({"min-width":t+"px","max-width":t+"px"});d.css({"min-width":t+"px","max-width":t+
"px"});b+=d.innerWidth()});angular.forEach(r,function(b){b=angular.element(b);t=0;D=b.attr("data").split("-");angular.forEach(D,function(b){w=h.find('tbody td[data="'+b+'"]');t+=z(w,!0)});t-=b.innerWidth()-b.width();b.css({"min-width":t+"px","max-width":t+"px"})})}}function z(b,d){return Math.max.apply(Math,b.map(function(){return d?angular.element(this).innerWidth():angular.element(this).width()}).get())}function I(){if(!(767>=q.innerWidth)){h.find("tr[xe-sort]").length&&h.find("tbody td").attr("style",
A?"padding-right: 1.5em":"padding-left: 1.5em");var b,d;angular.forEach(h.find("thead th"),function(e){e=angular.element(e);b=e.width();d=h.find('tbody td[data="'+e.attr("data")+'"], tfoot td[data="'+e.attr("data")+'"]');d.css({"min-width":b+"px","max-width":b+"px"})})}}function w(){C!==q.innerWidth&&(C=q.innerWidth,767>=C?D():767<C&&(D(),y()),d.$digest())}function D(){var b={"min-width":"","max-width":""};b[A?"padding-right":"padding-left"]="";h.find("thead th, tbody td, tfoot td").css(b);h.find("> *").css({width:""})}
var C,A="ltr"===k("i18n")("default.language.direction"),N=0,r,H=0;h.css({opacity:0});v.xeFixedHeaderTable&&h.find("tbody").children().length?(y(),h.css({opacity:""})):e(function(){y();h.css({opacity:""})});d.$on("onFinishRender",function(){v.hasOwnProperty("xeVariableWidthCols")?e(function(){y();angular.element("body").removeClass("loading")}):v.hasOwnProperty("xeHasDynamicData")?e(function(){I()}):I()});h.on("scroll",function(){var d=h.scrollLeft();H!==d&&(h.find("> tbody").css({"overflow-y":"hidden"}),
N=h.width()+(A?b(h):t(h)),N<=h[0].scrollWidth&&h.find("> *").width(N),window.clearTimeout(r),r=setTimeout(function(){h.find("> tbody").css({"overflow-y":"auto"})},200),H=d)});angular.element(q).on("resize",w);d.$on("$destroy",function(){angular.element(q).off("resize",w)})}}}}}]);e.directive("xeAccordion",["$compile","$timeout",function(e,q){return{restrict:"EC",compile:function(k,d){var p;"xe-accordion"===k.prop("tagName").toLowerCase()&&k.addClass("xe-accordion");if(d.hasOwnProperty("mobileOnly")||
k.hasClass("mobile-only"))k.addClass("mobile-only"),p=' ng-if="MOBILE_VIEW"';angular.forEach(k.find(".xe-accordion-hidden"),function(d){angular.element(d).hasClass("section-slide")&&angular.element(d).height(0)});var h='<div class="arrow-up-down" ng-click="toggleAccordion()" '+p+">\n<button ng-class=\"toggle.flag ? 'arrow-up-black-img' : 'arrow-down-black-img'\" aria-expanded=\"{{toggle.flag}}\"></button>\n</div>";return{post:function(d,b){d.toggle={flag:!1};q(function(){var k=angular.element(h);
"xe-accordion"===b.prop("tagName").toLowerCase()&&(b.css({position:"relative",display:"block"}),k.css({position:"absolute","z-index":"1",width:"100%"}),k.find("button").css({"background-size":"24px",height:"24px",width:"24px"}));b.prepend(e(k)(d));b.hasClass("expand")&&d.toggleAccordion()});d.toggleAccordion=function(){d.toggle.flag=!d.toggle.flag;d.toggle.flag?b.addClass("expand"):b.removeClass("expand");angular.forEach(b.find(".xe-accordion-hidden"),function(b){if(angular.element(b).hasClass("section-slide")){var e=
angular.element(b).attr("style"),h=angular.element(b).css({position:"absolute",visibility:"hidden",display:"block",height:"",width:"100%"}).height();angular.element(b).attr("style",e?e:"");q(function(){angular.element(b).height(d.toggle.flag?h:0)})}})}}}}}}]);e.directive("onFinishRender",["$timeout",function(e){return{restrict:"A",compile:function(e){return{post:function(e,d){!0===e.$last&&e.$emit("onFinishRender")}}}}}]);e.directive("findElmAndApplyCss",["$timeout",function(e){return{restrict:"A",
link:function(q,k,d){var p=d.findElmAndApplyCss,h=d.containerSelector;h?e(function(){$(h).addClass(p)},10):console.error("Please provide a container selector")}}}]);e.directive("findLastLineAndHide",["$timeout",function(e){return{restrict:"A",link:function(q,k,d){var p=d.findLastLineAndHide||".line";e(function(){$(p).last().addClass("hide")},10)}}}]);e.directive("footerDetect",["$timeout",function(e){return{restrict:"A",link:function(q,k,d){var p=d.footerDetect||k;e(function(){$(document).find("footer.banner-footer:visible").length&&
$(p).addClass("footer-visible")},10)}}}])})();
(function(){var e=angular.module("academicTranscriptApp","ngResource ui.router ngSanitize common studentCommon I18n xe-ui-components extensibility".split(" "));e.config(["$httpProvider",function(e){e.defaults.headers.get=e.defaults.headers.get||{};e.defaults.cache=!1;e.defaults.headers.get["If-Modified-Since"]="0";e.defaults.headers.get["Cache-Control"]="no-cache";e.defaults.headers.get.Pragma="no-cache";e.defaults.headers.get.Expires="0"}]);e.config(["$stateProvider","$urlRouterProvider",function(e,
q){function k(d){if("URLSearchParams"in window)d=(new URLSearchParams(window.location.search)).get(d);else{var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(d,k,b){e[k]=b});d=e[d]}return d}q.otherwise("/:transcriptLevel/:transcriptType");e.state("home",{url:"/:transcriptLevel/:transcriptType",templateUrl:"../assets/ssb/academicTranscript/home/home.html",controller:"HomeController",resolve:{studentInfo:["transcriptService","$q",function(d,e){var h=e.defer();d.getStudentInfo({studentId:k("studentId"),
termCode:k("termCode")}).then(function(d){h.resolve(d.data)});return h.promise}],transcriptsOptions:["transcriptService","$q","appData","$stateParams",function(d,e,h,k){var b=e.defer();d.getAcademicTranscriptOptions().then(function(d){var e=d.data;h.transcriptsOptions=e;$(e.transcriptLevel).each(function(b,d){k.transcriptLevel===d.code&&(b={},b.code=d.code,b.description=d.description,h.transcriptsOptions.transcriptLevel.selected=b)});$(e.transcriptType).each(function(b,d){k.transcriptType===d.code&&
(b={},b.code=d.code,b.description=d.description,h.transcriptsOptions.transcriptType.selected=b,0<h.transcriptsOptions.errorList.length&&(h.transcriptsOptions.hasError=!1))});b.resolve(d.data)}).catch(function(){});return b.promise}]}}).state("home.maintenance",{url:"/maintenance",templateUrl:"../assets/ssb/academicTranscript/maintenance/maintenance.html",controller:"MaintenanceController",resolve:{viewAcademicTranscriptData:["transcriptService","$q","appData","$stateParams",function(d,e,h,k){var b=
e.defer();e="";"all"!==k.transcriptLevel&&(e=k.transcriptLevel);d.fetchAcademicTranscript(e,k.transcriptType).then(function(d){h.institutionCredit=d.data.institutionCredit;h.courseInProgress=d.data.courseInProgress;h.courseInProgressIndicator=d.data.courseInProgressIndicator;var e=d.data.studentInformation;h.totalTranscript=d.data.totalTranscript;h.viewStudentInformationData=e;h.viewDegreeGrantedData=d.data.degreeGranted;h.transferCreditData=d.data.viewtransferCreditData;h.preSystemInstituteData=
d.data.viewpresystemInstituteData;h.listOfNavigationItem=d.data.listOfNavigationItem;h.errorList=d.data.errorList;h.hasError=d.data.hasError;b.resolve(d.data)});return b.promise}]}})}]);e.constant("ROUTE_PREFIX","academicTranscript");e.run(["$rootScope","Config","ROUTE_PREFIX","BreadcrumbService",function(e,q,k,d){e.$on("$stateChangeSuccess",function(e,h,l,b,q){e=[];e.breadcrumb=[{label:"studentPages.breadcrumb.student"},{label:"studentPages.breadcrumb.academic_transcript"}];e.pageTitle="studentPages.academicTranscript.page.title";
d.draw(e,k)});e.$on("$stateChangeStart",function(){$("#content").attr("aria-busy",!0);$("body").addClass("loading")});e.$on("$viewContentLoaded",function(){$("#content").attr("aria-busy",!1);$("body").removeClass("loading")})}])})();
window.StudentCard=Backbone.View.extend({initialize:function(e){this.width=400;this.height=126;this.addToTemplate;this.fillInAdditionalElements;e.addToTemplate&&(this.addToTemplate=e.addToTemplate);e.fillInAdditionalElements&&(this.fillInAdditionalElements=e.fillInAdditionalElements);e.triggerMouseEvents&&(this.isMouseInsidePopup=!1);this.options={data:{},container:$("body"),useOffset:!0,checkBoundaries:!0,bannerId:null,isConfidential:!1};$.extend(!0,this.options,e||{});this.render()},render:function(){0==
this.options.container.find("> .studentProfileCard").length?this.buildTemplate():this.node=this.options.container.find("> .studentProfileCard");this.node.attr("tabindex","0");this.attachListeners();return this},update:function(){var e=this;this.node.find(".studentMessage").html(this.options.msg);this.node.find("li").attr("aria-hidden",!0);var l=!1;this.node.find(".studentEmail a").attr("tabindex",-1);for(var q in this.options.data)if("photo"==q)this.node.find(".studentPhoto img").attr("src",this.options.data[q]);
else if("email"==q)this.node.find(".studentEmail a").attr("href","mailto:"+this.options.data[q]),this.node.find(".studentEmail a").text(this.options.data[q]),this.node.find("li.facultyEmail").attr("aria-hidden",!1),this.node.find("li.studentEmail").attr("aria-hidden",!1),l=!0,this.node.find(".studentEmail a").attr("tabindex",0);else if("address"==q){var k=this.options.data[q].split("&lt;br/&gt;"),d=$("<ul></ul>");_.each(k,function(e){d.append("<li>"+e+"</li>")});this.node.find(".address").html(d);
this.node.find(".address").attr("title",d);this.node.find("li.facultyAddress").attr("aria-hidden",!1)}else this.node.find("."+q).html(this.options.data[q]),this.node.find("."+q).attr("title",this.options.data[q]),this.node.find("li."+q).attr("aria-hidden",!1);this.fillInAdditionalElements&&this.fillInAdditionalElements(this.options.bannerId,this.options.data,this.node);q=!1;0<$("#student-profile-button").length&&(q=!0);k=".close";q?k="#student-profile-button":l&&(k=".studentEmail");e=this;this.node.find(".close").keydown(function(d){if(13==
d.keyCode)return e.node.find(".close").click(),d.preventDefault()});this.node.find(k).keydown(function(d){"9"!=d.keyCode||d.shiftKey||(e.node.focus(),d.stopPropagation(),d.preventDefault?d.preventDefault():d.returnValue=!1)})},buildConfigTemplate:function(){var e=this.options.config;this.node.find("span").append(this.options.msg);var l=this.node.find("div > ul"),q=this.node.find(".confidential");this.node.find(".studentPhoto img").attr("alt",$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.studentPicutre"));
l.empty();var k="";this.options.isConfidential&&(k='<span class="confidential-shield">&nbsp;</span><span class="confidential-message">'+$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.confidential")+"</span></li>");q.html(k);-1<e.indexOf("name")&&l.append('<li class="name"></li>');-1<e.indexOf("program")&&l.append('<li class="program"></li>');-1<e.indexOf("major")&&l.append('<li class="major"></li>');-1<e.indexOf("email")&&l.append('<li class="studentEmail"><a href="#" class="studentEmail" tabindex="-1"></a></li>');
-1<e.indexOf("telephone")&&l.append('<li class="telephone"></li>');-1<e.indexOf("address")&&l.append('<li class="address"></li>')},buildTemplate:function(){this.node=$('<div class="studentProfileCard arrow" role="dialog"></div>');var e=$('<div class="info"></div>'),l=$("<ul></ul>"),q=$('<div class="close" role="button" aria-label="'+$.i18n.prop("faculty.popup.close.button")+'" tabindex="0" aria-describedby="studentDetails">x</div>'),k=$('<div id="studentDetails"></div>'),d=$('<div class="studentPhoto"><img/></div>'),
p=$('<span class="studentMessage"></span>'),h=$('<div class="confidential"></div>');e.append(l);k.append(d).append(p).append(h).append(e);this.node.append(q).append(k);this.addToTemplate&&this.addToTemplate(this.node);this.options.container.append(this.node)},attachListeners:function(){var e=this;e.node.keydown(function(l){"27"==l.keyCode&&e.node.find(".close").click()});this.node.find(".close").unbind("keydown");this.node.find(".studentEmail").unbind("keydown");this.node.find("#student-profile-button").unbind("keydown");
this.node.find(".close").on("click",function(l){l&&(l.preventDefault(),l.stopPropagation());e.hide();e.triggerNode&&$(e.triggerNode).focus()});this.node.find(".close").keydown(function(l){if(13==l.keyCode)return e.node.find(".close").click(),l.preventDefault()});this.node.on("click",function(e){if(e&&!$(e.target).hasClass("studentEmail"))return e.stopPropagation(),e.preventDefault(),!1});this.node.on("click","a",function(e){e.stopImmediatePropagation()});this.options.triggerMouseEvents&&(this.node.on("mouseenter",
function(l){e.isMouseInsidePopup=!0}),this.node.on("mouseleave",function(l){e.isMouseInsidePopup=!1;e.hide()}))},show:function(e){var l=this;l.triggerNode=e;this.position(e);this.node.show();this.overlay=e=$('<div id="studentOverlay"> </div>');this.overlay.on("click",function(e){l.hide()});e.prependTo(this.options.container);$(l.node).find(".close").focus()},hide:function(){this.node.hide();this.node.find(".info ul li").empty();this.node.find("img").empty();this.overlay=$("#studentOverlay").remove()},
position:function(e){if(this.options.useOffset){var l=$(e).offset().top+$(e).height()+5;e=$(e).offset().left-this.width/3}else l=$(e).position().top+$(e).height()+5,e=$(e).position().left-this.width/3;var q=!1;this.options.checkBoundaries?(0>l&&(50==l,q=!0),l+this.node.height()>$(document).height()&&(l=$(document).height()-this.node.height()-5,q=!0),e+this.options.container.find("> .studentProfileCard").width()>$(document).width()&&(e=$(document).width()-(this.width+5),q=!0),0>e&&(q=!0),q||this.node.addClass("arrow")):
this.node.addClass("arrow");this.node.css({top:l})},setModel:function(e){this.model=new (Backbone.Model.extend({url:e}))},retrieveData:function(e,l,q){var k=this,d=!1,p={},h=e.bannerId;this.options.bannerId=e.bannerId;$.ajax({type:"GET",url:$("#getStudentCard").attr("data-endpoint"),data:e,beforeSend:function(){k.node.find(".studentPhoto").css("visibility","hidden");k.node.find(".confidential").css("display","none");k.node.find(".info").css("display","none")},success:function(l){p=l.data;k.options.msg=
$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.studentDisabled");k.options.config=[];k.options.data=[];k.options.isConfidential=p.contactCard.isConfidentialStudent;_.each(l.data.contactCardConfig,function(b,l){k.options.config.push(b.config);"cardEnabled"==b.config&&(k.options.msg=p.message,d=!0);"photo"==b.config&&(l=e.pictureURL?e.pictureURL:$("#getPersonImage").attr("data-endpoint"),k.options.data.photo=l+"?bannerId="+encodeURIComponent(h),k.node.find(".studentPhoto").css("visibility",
"visible"));"name"==b.config&&(k.options.data.name=p.contactCard.displayName);"major"==b.config&&"undefined"!=typeof p.contactCard.primaryMajor&&null!=p.contactCard.primaryMajor&&(k.options.data.major=$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.major",[p.contactCard.primaryMajor]));"program"==b.config&&"undefined"!=typeof p.contactCard.primaryProgram&&null!=p.contactCard.primaryProgram&&(k.options.data.program=$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.program",
[p.contactCard.primaryProgram]));"email"==b.config&&null!=p.contactCard.emailAddress&&(k.options.data.email=p.contactCard.emailAddress);"address"==b.config&&"undefined"!=typeof p.contactCard.address&&null!=p.contactCard.address&&(l=$.i18n.prop("contactCard.contact.address.format.template"),-1!=l.indexOf("$houseNumber")&&(l=l.replace("$houseNumber",p.contactCard.address.houseNumber?p.contactCard.address.houseNumber:"")),-1!=l.indexOf("$addressLine1")&&(l=l.replace("$addressLine1",p.contactCard.address.streetLine1?
p.contactCard.address.streetLine1:"")),-1!=l.indexOf("$addressLine2")&&(l=l.replace("$addressLine2",p.contactCard.address.streetLine2?p.contactCard.address.streetLine2:"")),-1!=l.indexOf("$addressLine3")&&(l=l.replace("$addressLine3",p.contactCard.address.streetLine3?p.contactCard.address.streetLine3:"")),-1!=l.indexOf("$addressLine4")&&(l=l.replace("$addressLine4",p.contactCard.address.streetLine4?p.contactCard.address.streetLine4:"")),-1!=l.indexOf("$addressCity")&&(l=l.replace("$addressCity",p.contactCard.address.city?
p.contactCard.address.city:"")),l=-1!=l.indexOf("$addressState")&&null!=p.contactCard.address.state?l.replace("$addressState",p.contactCard.address.state.code?p.contactCard.address.state.code:""):l.replace("$addressState",""),-1!=l.indexOf("$addressZip")&&(l=l.replace("$addressZip",p.contactCard.address.zip?p.contactCard.address.zip:"")),k.options.data.address=l);"telephone"==b.config&&"undefined"!=typeof p.contactCard.telephoneNumber&&null!=p.contactCard.telephoneNumber&&(k.options.data.telephone=
p.contactCard.telephoneNumber.displayPhone);d||(k.options.msg=$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.disabled"))})},complete:function(){k.node.find(".confidential").css("display","block");k.node.find(".info").css("display","block");$(".studentProfileCard").loadingPopup(!1);k.buildConfigTemplate();k.update();k.position(l);k.bindToFirstElement($(".studentProfileCard"))}});q&&q()},setOptions:function(e){$.extend(!0,this.options,e||{})},bindToFirstElement:function(e){$(e).keydown(function(e){e.target===
this&&"9"==e.keyCode&&e.shiftKey&&($(".close").focus(),e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1)})}});
(function(){angular.module("common").directive("contactCard",["$filter","$timeout",function(e,l){function q(e,h){function k(b){var d=$('<div id="student-profile-button"><button type="button" class="card-form-button-sm">'+e("i18n")("studentPages.common.contact.card.view.profile")+"</button></div>");b.find(".info").append(d)}function b(b){$("#student-profile-button").off("click").on("click",function(){var d=h.term,e=h.studentprofileurl,k=h.mepcode?h.mepcode:"all",k="all"===k?"":"?mepCode="+k;h.mepString=
k;window.open(encodeURI(e+"?studentId="+b+"&term="+d+k),"_blank")})}d=new StudentCard({useOffset:!0,checkBoundaries:!0,addToTemplate:h.displayprofile?k:"",fillInAdditionalElements:h.displayprofile?b:"",triggerMouseEvents:!0})}var k=null,d;return{scope:{id:"@",value:"@",term:"@",crn:"@",displayprofile:"@",studentprofileurl:"@",mepcode:"@"},link:function(p,h,v){p.displayprofile=p.$eval(p.displayprofile);if(p.showHyperLink=p.displayprofile)v=p.mepcode?p.mepcode:"all",p.studentUrl=p.studentprofileurl+
"?studentId="+p.id+"&term="+p.term+("all"===v?"":"?mepCode="+v);q(e,p);p.mouseEnter=function(b){b.preventDefault();l.cancel(k);$("div.studentProfileCard").find(".studentPhoto img").attr("src","");$("div.studentProfileCard").find(".info ul, .studentMessage, .confidential").html("");$("div.studentProfileCard").find("#student-profile-button").hide();k=l(function(){d.show(h);var b={bannerId:p.id,termCode:p.term,crn:p.crn,pictureURL:$("#getStudentImage").attr("data-endpoint")};d.retrieveData(b,h);$("div.studentProfileCard").find("#student-profile-button").show()},
700)};p.click=function(){l.cancel(k);l(d.hide,600)}},templateUrl:"../assets/ssb/studentPagesCommon/templates/contactCard.html"}}])})();
(function(){angular.module("academicTranscriptApp").controller("MaintenanceController",["$rootScope","$scope","$state","$filter","appData",function(e,l,q,k,d){l.createSmartNavOptions=function(d){if(d.code){var e={};switch(d.code){case "studentInformation":e.code="student_info";e.description=k("i18n")("studentPages.academicTranscript.studentInformation.header");l.smartNavigationList.push(e);l.showStudentInfo=!0;break;case "degreeGranted":e.code="degree_granted";e.description=l.degreeGrantedDescription;
l.smartNavigationList.push(e);l.showDegreeGranted=!0;break;case "presystemInstitute":e.code="pre_system_institution";e.description=k("i18n")("studentPages.academicTranscript.preSystemInstitute.header");l.smartNavigationList.push(e);l.showPreSystemInstitute=!0;break;case "transferCredit":e.code="transfer_credit";e.description=k("i18n")("studentPages.academicTranscript.transferCredit.header");l.smartNavigationList.push(e);l.showTransferCredit=!0;break;case "institutionCredit":e.code="institution_credit";
e.description=k("i18n")("studentPages.academicTranscript.institutionCredit.header");l.smartNavigationList.push(e);l.showInstitutionCredit=!0;break;case "transcriptTotals":e.code="transcript_total";e.description=k("i18n")("studentPages.academicTranscript.transcriptTotal.header");l.smartNavigationList.push(e);l.showTotalTranscript=!0;break;case "courseInProgress":e.code="course_in_progress",e.description=k("i18n")("studentPages.academicTranscript.courseInProgress.header"),l.smartNavigationList.push(e),
l.showCourseInProgress=!0}}};(function(){l.content={};l.content.pageInfo=k("i18n")("studentPages.academicTranscript.page.info");l.listOfNavigationItem=d.listOfNavigationItem;l.smartNavigationList=[];l.hasError=!1;l.showStudentInfo=!1;l.showDegreeGranted=!1;l.showPreSystemInstitute=!1;l.showTransferCredit=!1;l.showInstitutionCredit=!1;l.showTotalTranscript=!1;l.showCourseInProgress=!1;d.hasError?(l.hasError=!0,l.error=d.errorList):l.hasError=!1;d.viewDegreeGrantedData&&d.viewDegreeGrantedData.curriculumInfo&&
0<d.viewDegreeGrantedData.curriculumInfo.length&&(l.degreeGrantedDescription=d.viewDegreeGrantedData.curriculumInfo[0].tabDescription);angular.element(l.listOfNavigationItem).each(function(d,e){l.createSmartNavOptions(e)})})()}])})();
(function(){angular.module("academicTranscriptApp").controller("HomeController",["$scope","$state","$filter","$timeout","appData","studentInfo",function(e,l,q,k,d,p){e.changeTranscriptLevel=function(d){e.transitionToNextState(e.transcriptsOptions);k(function(){var d=angular.element("#transcriptLevelSelection").find("input")[1];$(d).focus()},2)};e.changeTranscriptType=function(d){e.transitionToNextState(e.transcriptsOptions)};e.transitionToNextState=function(e){e.transcriptLevel.selected&&e.transcriptType.selected&&
(d.transcriptLevel=e.transcriptLevel.selected,d.transcriptType=e.transcriptType.selected,l.go("home.maintenance",{transcriptLevel:d.transcriptLevel.code,transcriptType:d.transcriptType.code}).then(function(){k(function(){var d=angular.element("#transcriptTypeSelection").find("input")[1];$(d).focus()},2)}).catch(function(){}))};e.messageContents={};e.messageContents.dropdownPlaceholder=q("i18n")("studentPages.academicTranscript.dropdown.placeholder");e.transcriptsOptions=d.transcriptsOptions;e.studentInfo=
p}])})();(function(){angular.module("academicTranscriptApp").controller("institutionCredit",["$scope","appData",function(e,l){e.content={};e.institutionCreditInformation=l.institutionCredit}])})();(function(){angular.module("academicTranscriptApp").controller("transcriptTotalsController",["$scope","appData",function(e,l){e.totalTranscript=l.totalTranscript}])})();
(function(){angular.module("academicTranscriptApp").controller("studentInformation",["$scope","appData",function(e,l){e.studentInformation=l.viewStudentInformationData.studentInfo;e.studentcurriculumInformation=l.viewStudentInformationData.curriculumInfo}])})();(function(){angular.module("academicTranscriptApp").controller("degreeGranted",["$scope","appData",function(e,l){e.curriculumInformation=l.viewDegreeGrantedData.curriculumInfo}])})();
(function(){angular.module("academicTranscriptApp").controller("transferCredit",["$scope","appData","$filter",function(e,l,q){e.content={};var k={};e.texts=k;k.transferCreditHeader=q("i18n")("studentPages.academicTranscript.transferCredit.grid.header");e.transferCreditList=l.transferCreditData.transferCreditList}])})();
(function(){angular.module("academicTranscriptApp").controller("presystemInstitution",["$scope","appData","$filter",function(e,l,q){e.content={};var k={};e.texts=k;k.preSystemInstituteHeader=q("i18n")("studentPages.academicTranscript.preSystemInstitute.grid.header");e.preSystemInstituteList=l.preSystemInstituteData.presystemInstituteInfo}])})();
(function(){angular.module("academicTranscriptApp").controller("courseInProgress",["$scope","appData",function(e,l){e.content={};e.courseInProgressInformation=l.courseInProgress;e.courseInProgressIndicator=l.courseInProgressIndicator}])})();
(function(){angular.module("academicTranscriptApp").service("transcriptService",["$q","$http",function(e,l){this.getStudentInfo=function(e){return l.get("../ssb/academicTranscript/studentInfo",{params:e})};this.getAcademicTranscriptOptions=function(){return l.get("../ssb/academicTranscript/academicTranscriptOptions")};this.fetchAcademicTranscript=function(e,k){return l.get("../ssb/academicTranscript/academicTranscriptPageData",{params:{level:e,type:k}})}}]);angular.module("academicTranscriptApp").factory("appData",
function(){return{}})})();